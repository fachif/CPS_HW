#define DYNEventSpecial
/* DSblock model generated by Dymola from Modelica model CourseExamples.Workshop18.Linearization.HSN
 Dymola Version 2019 FD01 (64-bit), 2018-10-10 translated this at Fri Apr 23 07:53:24 2021

  OutputCPUtime = true;
 */

#include <matrixop.h>
#if defined(DynSimStruct) || defined(BUILDFMU)
static double DymArrays4[3]={0.001, 0.001, 0.001};
static double DymArrays0[3]={1.0, 1.0, 2.0};
static double DymArrays5[3]={995.586, 995.586, 995.586};
static double DymArrays1[4]={2.0, 0.0, 0.0, 2.0};
static double DymArrays3[4]={3.0, 2.0, 2.0, 2.0};
static double DymArrays2[4]={3.0, 3.0, 3.0, 3.0};
#endif
/* Declaration of C-structs */
/* Prototypes for functions used in model */
struct Modelica_Blocks_Continuous_Internal_Filter_Utilities_toHighestPowerOne_struct {
  RealArray    cr0_0_0member;
  RealArray    c00_0_0member;
  RealArray    c10_0_0member;
};
DYMOLA_STATIC struct Modelica_Blocks_Continuous_Internal_Filter_Utilities_toHighestPowerOne_struct
   Modelica_Blocks_Continuous_Internal_Filter_Utilities_toHighestPowerOne(
  RealArray   den10_0, RealArray   den20_0);
DYMOLA_STATIC RealArray    Modelica_Blocks_Continuous_Internal_Filter_base_CriticalDamping
  (int  order0_0, int  normalized0_0);
struct Modelica_Blocks_Continuous_Internal_Filter_coefficients_lowPass_struct {
  RealArray    cr0_0_0member;
  RealArray    c00_0_0member;
  RealArray    c10_0_0member;
};
DYMOLA_STATIC struct Modelica_Blocks_Continuous_Internal_Filter_coefficients_lowPass_struct
   Modelica_Blocks_Continuous_Internal_Filter_coefficients_lowPass(RealArray   
  crx_0in, RealArray   c0x_0in, RealArray   c1x_0in, double  fx_0cut);
struct Modelica_Blocks_Continuous_Internal_Filter_roots_lowPass_struct {
  RealArray    r0_0_0member;
  RealArray    a0_0_0member;
  RealArray    b0_0_0member;
  RealArray    ku0_0_0member;
};
DYMOLA_STATIC struct Modelica_Blocks_Continuous_Internal_Filter_roots_lowPass_struct
   Modelica_Blocks_Continuous_Internal_Filter_roots_lowPass(RealArray   crx_0in,
   RealArray   c0x_0in, RealArray   c1x_0in, double  fx_0cut);
struct Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric_struct {
  double   mx_0flow_0member;
  double   dmx_0flowx_0ddpx_0fric_0member;
};
DYMOLA_STATIC struct Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric_struct
   Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric
  (double  dpx_0fric, double  rhox_0a, double  rhox_0b, double  mux_0a, double  
  mux_0b, double  length0_0, double  diameter0_0, double  crossArea0_0, double  
  Re10_0, double  Re20_0, double  Delta0_0);
struct Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric_interpolateInRegion2x_0withDerivative_struct {
  double   Re0_0_0member;
  double   dRex_0ddp_0member;
};
DYMOLA_STATIC struct Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric_interpolateInRegion2x_0withDerivative_struct
   Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric_interpolateInRegion2x_0withDerivative
  (double  lambda20_0, double  Re10_0, double  Re20_0, double  Delta0_0, double 
   dpx_0fric);
struct Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric_interpolateInRegion2x_0withDerivative__der_struct {
  double   Rex_0der_0member;
  double   dRex_0ddpx_0der_0member;
};
DYMOLA_STATIC struct Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric_interpolateInRegion2x_0withDerivative__der_struct
   Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric_interpolateInRegion2x_0withDerivative__der
  (double  lambda20_0, double  Re10_0, double  Re20_0, double  Delta0_0, double 
   dpx_0fric, double  lambda2x_0der, double  Re1x_0der, double  Re2x_0der, 
  double  Deltax_0der, double  dpx_0fricx_0der);
struct Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric__der_struct {
  double   mx_0flowx_0der_0member;
  double   dmx_0flowx_0ddpx_0fricx_0der_0member;
};
DYMOLA_STATIC struct Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric__der_struct
   Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric__der
  (double  dpx_0fric, double  rhox_0a, double  rhox_0b, double  mux_0a, double  
  mux_0b, double  length0_0, double  diameter0_0, double  crossArea0_0, double  
  Re10_0, double  Re20_0, double  Delta0_0, double  dpx_0fricx_0der, double  
  rhox_0ax_0der, double  rhox_0bx_0der, double  mux_0ax_0der, double  
  mux_0bx_0der, double  lengthx_0der, double  diameterx_0der, double  
  crossAreax_0der, double  Re1x_0der, double  Re2x_0der, double  Deltax_0der);
struct Modelica_Fluid_Utilities_cubicHermitex_0withDerivative_struct {
  double   y0_0_0member;
  double   dyx_0dx_0member;
};
DYMOLA_STATIC struct Modelica_Fluid_Utilities_cubicHermitex_0withDerivative_struct
   Modelica_Fluid_Utilities_cubicHermitex_0withDerivative(double  x0_0, double  
  x10_0, double  x20_0, double  y10_0, double  y20_0, double  y1d0_0, double  
  y2d0_0);
struct Modelica_Fluid_Utilities_cubicHermitex_0withDerivative__der_struct {
  double   yx_0der_0member;
  double   dyx_0dxx_0der_0member;
};
DYMOLA_STATIC struct Modelica_Fluid_Utilities_cubicHermitex_0withDerivative__der_struct
   Modelica_Fluid_Utilities_cubicHermitex_0withDerivative__der(double  x0_0, 
  double  x10_0, double  x20_0, double  y10_0, double  y20_0, double  y1d0_0, 
  double  y2d0_0, double  xx_0der, double  x1x_0der, double  x2x_0der, double  
  y1x_0der, double  y2x_0der, double  y1dx_0der, double  y2dx_0der);
DYMOLA_STATIC double   Modelica_Fluid_Utilities_evaluatePoly3x_0derivativeAtZero
  (double  x0_0, double  x10_0, double  y10_0, double  y1d0_0, double  y0d0_0);
DYMOLA_STATIC double   Modelica_Fluid_Utilities_evaluatePoly3x_0derivativeAtZero__der
  (double  x0_0, double  x10_0, double  y10_0, double  y1d0_0, double  y0d0_0, 
  double  xx_0der, double  x1x_0der, double  y1x_0der, double  y1dx_0der, double 
   y0dx_0der);
struct Modelica_Fluid_Utilities_regFun3_struct {
  double   y0_0_0member;
  double   c0_0_0member;
};
DYMOLA_STATIC struct Modelica_Fluid_Utilities_regFun3_struct Modelica_Fluid_Utilities_regFun3
  (double  x0_0, double  x00_0, double  x10_0, double  y00_0, double  y10_0, 
  double  y0d0_0, double  y1d0_0);
struct Modelica_Fluid_Utilities_regFun3__der_struct {
  double   yx_0der_0member;
  double   cx_0der_0member;
};
DYMOLA_STATIC struct Modelica_Fluid_Utilities_regFun3__der_struct 
  Modelica_Fluid_Utilities_regFun3__der(double  x0_0, double  x00_0, double  
  x10_0, double  y00_0, double  y10_0, double  y0d0_0, double  y1d0_0, double  
  xx_0der, double  x0x_0der, double  x1x_0der, double  y0x_0der, double  
  y1x_0der, double  y0dx_0der, double  y1dx_0der);
DYMOLA_STATIC double   Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility(
  double  x0_0, double  x10_0, double  k10_0, double  k20_0, int  usex_0yd0, 
  double  yd00_0);
DYMOLA_STATIC double   Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility__der
  (double  x0_0, double  x10_0, double  k10_0, double  k20_0, int  usex_0yd0, 
  double  yd00_0, double  xx_0der, double  x1x_0der, double  k1x_0der, double  
  k2x_0der, double  yd0x_0der);
struct Modelica_Math_Matrices_LAPACK_dgesvx_0vec_M_struct {
  RealArray    x0_0_0member;
  int   info0_0_0member;
};
DYMOLA_STATIC struct Modelica_Math_Matrices_LAPACK_dgesvx_0vec_M_struct 
  Modelica_Math_Matrices_LAPACK_dgesvx_0vec_M(RealArray   A0_0, RealArray   b0_0);
DYMOLA_STATIC RealArray    Modelica_Math_Matrices_solve(RealArray   A0_0, 
  RealArray   b0_0);
DYMOLA_STATIC RealArray    addScalar_For_1_1(double  x_0x1, RealArray   x_0x2);
DYMOLA_STATIC double   interpolateInRegion2x_0Unique12(double  Re0_0, double  
  Re10_0, double  Re20_0, double  Delta0_0);
DYMOLA_STATIC double   massFlowRatex_0dpx_0staticHeadx_0Unique15(double  dp0_0, 
  double  rhox_0a, double  rhox_0b, double  mux_0a, double  mux_0b, double  
  length0_0, double  diameter0_0, double  gx_0timesx_0heightx_0ab, double  
  crossArea0_0, double  roughness0_0, double  dpx_0small, double  Rex_0turbulent);
DYMOLA_STATIC double   massFlowRatex_0dpx_0staticHeadx_0Unique15__der(double  
  dp0_0, double  rhox_0a, double  rhox_0b, double  mux_0a, double  mux_0b, 
  double  length0_0, double  diameter0_0, double  gx_0timesx_0heightx_0ab, 
  double  crossArea0_0, double  roughness0_0, double  dpx_0small, double  
  Rex_0turbulent, double  dpx_0der, double  rhox_0ax_0der, double  rhox_0bx_0der,
   double  mux_0ax_0der, double  mux_0bx_0der, double  lengthx_0der, double  
  diameterx_0der, double  gx_0timesx_0heightx_0abx_0der, double  crossAreax_0der,
   double  roughnessx_0der, double  dpx_0smallx_0der, double  Rex_0turbulentx_0der);
DYMOLA_STATIC double   pressureLossx_0mx_0flowx_0Unique11(double  mx_0flow, 
  double  rhox_0a, double  rhox_0b, double  mux_0a, double  mux_0b, double  
  length0_0, double  diameter0_0, double  crossArea0_0, double  roughness0_0, 
  double  mx_0flowx_0small, double  Rex_0turbulent);
DYMOLA_STATIC double   pump_flowCharacteristicx_0Uniquez_0cchahfgnhacc(double  
  Vx_0flow, RealArray   Vx_0flowx_0nominal, RealArray   headx_0nominal);
/* Codes used in model */

/* Flattened Modelica model:

function Modelica.Blocks.Continuous.Internal.Filter.base.CriticalDamping
input Integer order(min = 1.0) "Order of filter";
input Boolean normalized(start = true) "= true, if amplitude at f_cut = -3db, otherwise unmodified filter";
discrete output Real cr[order] "Coefficients of real poles";
protected 
discrete Real alpha(start = 1.0) "Frequency correction factor";
discrete Real alpha2 "= alpha*alpha";
discrete Real den1[order] "[p] coefficients of denominator first order polynomials (a*p + 1)";
discrete Real den2[0, 2] "[p^2, p] coefficients of denominator second order polynomials (b*p^2 + a*p + 1)";
discrete Real c0[0] "Coefficients of s^0 term if conjugate complex pole";
discrete Real c1[0] "Coefficients of s^1 term if conjugate complex pole";
public 
algorithm 
if (normalized) then 
alpha := sqrt(10^(0.3/order)-1);
else
alpha := 1.0;
end if;
for i in (1:order) loop
den1[i] := alpha;
end for;
(cr, c0, c1)  := Modelica.Blocks.Continuous.Internal.Filter.Utilities.toHighestPowerOne(den1, den2);
end Modelica.Blocks.Continuous.Internal.Filter.base.CriticalDamping;

  */
DYMOLA_STATIC RealArray    Modelica_Blocks_Continuous_Internal_Filter_base_CriticalDamping
  (int  order0_0, int  normalized0_0) {
  PushContext("Modelica.Blocks.Continuous.Internal.Filter.base.CriticalDamping")
  {
    /* Declare outputs and temporaries */
    RealArray    cr0_0;
    double   alpha0_0;
    double   alpha20_0;
    RealArray    den10_0;
    RealArray    den20_0;
    RealArray    c00_0;
    RealArray    c10_0;
    MarkObject retmark_ = PushMark();
    cr0_0=RealTemporary( 1, order0_0);
    RePushMark(&retmark_);
    RealFillAssign( cr0_0, 0);
    alpha0_0 = 1.0;
    alpha20_0=0;
    den10_0=RealTemporary( 1, order0_0);
    PushMark();
    RealFillAssign( den10_0, 0);
    den20_0=RealTemporary( 2, 0, 2);
    PushMark();
    RealFillAssign( den20_0, 0);
    c00_0=RealTemporary( 1, 0);
    PushMark();
    RealFillAssign( c00_0, 0);
    c10_0=RealTemporary( 1, 0);
    PushMark();
    RealFillAssign( c10_0, 0);
    /* Start of real code */
      if (normalized0_0) {
        alpha0_0 = sqrtGuarded(powmacro(10,"10",divmacro(0.3,"0.3",order0_0,
          "order"),"0.3/order")-1,"10^(0.3/order)-1");
      }
      else{
        alpha0_0 = 1.0;
      }
      {
        int end_ = order0_0;
        int i0_0_0;
        for(i0_0_0 = 1;i0_0_0 <= end_;i0_0_0 += 1) {
          SetRealVectorElement(alpha0_0, den10_0, (SizeType)(i0_0_0));
        }
      }
      {
        struct Modelica_Blocks_Continuous_Internal_Filter_Utilities_toHighestPowerOne_struct
           dummy_mult_=Modelica_Blocks_Continuous_Internal_Filter_Utilities_toHighestPowerOne
          (den10_0, den20_0);
        RealAssign (cr0_0, dummy_mult_.cr0_0_0member);
        RealAssign (c00_0, dummy_mult_.c00_0_0member);
        RealAssign (c10_0, dummy_mult_.c10_0_0member);
      }
      Release();
    /* Output section */
    PopMark(retmark_);
    PopContext()
    return cr0_0;
  }}

/* Flattened Modelica model:

function Modelica.Blocks.Continuous.Internal.Filter.roots.lowPass
discrete input Real cr_in[:] "Coefficients of real poles of base filter";
discrete input Real c0_in[:] "Coefficients of s^0 term of base filter if conjugate complex pole";
discrete input Real c1_in[size(c0_in, 1)] "Coefficients of s^1 term of base filter if conjugate complex pole";
discrete input Real f_cut(unit = "Hz") "Cut-off frequency";
discrete output Real r[size(cr_in, 1)] "Real eigenvalues";
discrete output Real a[size(c0_in, 1)] "Real parts of complex conjugate eigenvalues";
discrete output Real b[size(c0_in, 1)] "Imaginary parts of complex conjugate eigenvalues";
discrete output Real ku[size(c0_in, 1)] "Input gain";
protected 
discrete Real c0[size(c0_in, 1)];
discrete Real c1[size(c0_in, 1)];
discrete Real cr[size(cr_in, 1)];
public 
algorithm 
(cr, c0, c1)  := Modelica.Blocks.Continuous.Internal.Filter.coefficients.lowPass(cr_in, c0_in, c1_in, f_cut);
for i in (1:size(cr_in, 1)) loop
r[i] :=  -cr[i];
end for;
for i in (1:size(c0_in, 1)) loop
a[i] :=  -c1[i]/2;
b[i] := sqrt(c0[i]-a[i]*a[i]);
ku[i] := c0[i]/b[i];
end for;
end Modelica.Blocks.Continuous.Internal.Filter.roots.lowPass;

  */
DYMOLA_STATIC struct Modelica_Blocks_Continuous_Internal_Filter_roots_lowPass_struct
   Modelica_Blocks_Continuous_Internal_Filter_roots_lowPass(RealArray   crx_0in,
   RealArray   c0x_0in, RealArray   c1x_0in, double  fx_0cut) {
  PushContext("Modelica.Blocks.Continuous.Internal.Filter.roots.lowPass")
  AssertModelica(DYNSizeSimple(c1x_0in,1)==DYNSizeSimple(c0x_0in, 1),
    "size(c1_in, 1) == size(c0_in, 1)","Dimension check of input to function failed");
  {
    /* Declare outputs and temporaries */
    RealArray    r0_0;
    RealArray    a0_0;
    RealArray    b0_0;
    RealArray    ku0_0;
    RealArray    c00_0;
    RealArray    c10_0;
    RealArray    cr0_0;
    MarkObject retmark_ = PushMark();
    r0_0=RealTemporary( 1, DYNSizeSimple(crx_0in, 1));
    RePushMark(&retmark_);
    RealFillAssign( r0_0, 0);
    a0_0=RealTemporary( 1, DYNSizeSimple(c0x_0in, 1));
    RePushMark(&retmark_);
    RealFillAssign( a0_0, 0);
    b0_0=RealTemporary( 1, DYNSizeSimple(c0x_0in, 1));
    RePushMark(&retmark_);
    RealFillAssign( b0_0, 0);
    ku0_0=RealTemporary( 1, DYNSizeSimple(c0x_0in, 1));
    RePushMark(&retmark_);
    RealFillAssign( ku0_0, 0);
    c00_0=RealTemporary( 1, DYNSizeSimple(c0x_0in, 1));
    PushMark();
    RealFillAssign( c00_0, 0);
    c10_0=RealTemporary( 1, DYNSizeSimple(c0x_0in, 1));
    PushMark();
    RealFillAssign( c10_0, 0);
    cr0_0=RealTemporary( 1, DYNSizeSimple(crx_0in, 1));
    PushMark();
    RealFillAssign( cr0_0, 0);
    /* Start of real code */
      {
        struct Modelica_Blocks_Continuous_Internal_Filter_coefficients_lowPass_struct
           dummy_mult_=Modelica_Blocks_Continuous_Internal_Filter_coefficients_lowPass
          (crx_0in, c0x_0in, c1x_0in, fx_0cut);
        RealAssign (cr0_0, dummy_mult_.cr0_0_0member);
        RealAssign (c00_0, dummy_mult_.c00_0_0member);
        RealAssign (c10_0, dummy_mult_.c10_0_0member);
      }
      Release();
      {
        int end_ = DYNSizeSimple(crx_0in, 1);
        int i0_0_0;
        for(i0_0_0 = 1;i0_0_0 <= end_;i0_0_0 += 1) {
          SetRealVectorElement( -RealVectorElement( cr0_0, (SizeType)(i0_0_0)), 
            r0_0, (SizeType)(i0_0_0));
        }
      }
      {
        int end_ = DYNSizeSimple(c0x_0in, 1);
        int i0_0_0;
        for(i0_0_0 = 1;i0_0_0 <= end_;i0_0_0 += 1) {
          SetRealVectorElement( -RealVectorElement( c10_0, (SizeType)(i0_0_0))/
            (double)(2), a0_0, (SizeType)(i0_0_0));
          SetRealVectorElement(sqrtGuarded(RealVectorElement( c00_0, (SizeType)(
            i0_0_0))-RealVectorElement( a0_0, (SizeType)(i0_0_0))*
            RealVectorElement( a0_0, (SizeType)(i0_0_0)),"c0[i]-a[i]*a[i]"), 
            b0_0, (SizeType)(i0_0_0));
          SetRealVectorElement(divmacro(RealVectorElement( c00_0, (SizeType)(
            i0_0_0)),"c0[i]",RealVectorElement( b0_0, (SizeType)(i0_0_0)),"b[i]"),
             ku0_0, (SizeType)(i0_0_0));
        }
      }
    /* Output section */
    PopMark(retmark_);
    PopContext()
    {
      struct Modelica_Blocks_Continuous_Internal_Filter_roots_lowPass_struct out_;
      out_.r0_0_0member = r0_0;
      out_.a0_0_0member = a0_0;
      out_.b0_0_0member = b0_0;
      out_.ku0_0_0member = ku0_0;
      return out_;
    }
  }}

/* Flattened Modelica model:

function Modelica.Fluid.Utilities.regSquare2.regSquare2_utility
discrete input Real x;
discrete input Real x1 "approximation of function abs(x) < x1";
discrete input Real k1 "y = (if x>=0 then k1 else -k2)*x*|x|; k1 >= k2";
discrete input Real k2 "y = (if x>=0 then k1 else -k2)*x*|x|";
input Boolean use_yd0(start = false) "= true, if yd0 shall be used";
discrete input Real yd0(start = 1, min = 0.0) "Desired derivative at x=0: dy/dx = yd0";
discrete output Real y;
protected 
discrete Real x2;
discrete Real y1;
discrete Real y2;
discrete Real y1d;
discrete Real y2d;
discrete Real w;
discrete Real w1;
discrete Real w2;
discrete Real y0d;
discrete Real ww;
public 
algorithm 
x2 :=  -x1;
if (x <= x2) then 
y :=  -k2*x^2;
else
y1 := k1*x1^2;
y2 :=  -k2*x2^2;
y1d := k1*2*x1;
y2d :=  -k2*2*x2;
if (use_yd0) then 
y0d := yd0;
else
w := x2/x1;
y0d := ((3*y2-x2*y2d)/w-(3*y1-x1*y1d)*w)/(2*x1*(1-w));
end if;
w1 := 2.23606797749979*k1*x1;
w2 := 2.23606797749979*k2*abs(x2);
ww := 0.9*(if w1 < w2 then w1 else w2);
if (ww < y0d) then 
y0d := ww;
end if;
y := (if x >= 0 then Modelica.Fluid.Utilities.evaluatePoly3_derivativeAtZero(x, x1, y1, y1d, y0d) else Modelica.Fluid.Utilities.evaluatePoly3_derivativeAtZero(x, x2, y2, y2d, y0d));
end if;
annotation(derivative(zeroDerivative=use_yd0)=Modelica.Fluid.Utilities.regSquare2.regSquare2_utility:der, smoothOrder=2);
end Modelica.Fluid.Utilities.regSquare2.regSquare2_utility;

  */
DYMOLA_STATIC double   Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility(
  double  x0_0, double  x10_0, double  k10_0, double  k20_0, int  usex_0yd0, 
  double  yd00_0) {
  PushContext("Modelica.Fluid.Utilities.regSquare2.regSquare2_utility")
  {
    /* Declare outputs and temporaries */
    double   y0_0;
    double   x20_0;
    double   y10_0;
    double   y20_0;
    double   y1d0_0;
    double   y2d0_0;
    double   w0_0;
    double   w10_0;
    double   w20_0;
    double   y0d0_0;
    double   ww0_0;
    y0_0=0;
    x20_0=0;
    y10_0=0;
    y20_0=0;
    y1d0_0=0;
    y2d0_0=0;
    w0_0=0;
    w10_0=0;
    w20_0=0;
    y0d0_0=0;
    ww0_0=0;
    /* Start of real code */
      x20_0 =  -x10_0;
      if (x0_0 <= x20_0) {
        y0_0 =  -k20_0*sqr(x0_0);
      }
      else{
        y10_0 = k10_0*sqr(x10_0);
        y20_0 =  -k20_0*sqr(x20_0);
        y1d0_0 = k10_0*2*x10_0;
        y2d0_0 =  -k20_0*2*x20_0;
        if (usex_0yd0) {
          y0d0_0 = yd00_0;
        }
        else{
          w0_0 = divmacro(x20_0,"x2",x10_0,"x1");
          y0d0_0 = divmacro(divmacro(3*y20_0-x20_0*y2d0_0,"3*y2-x2*y2d",w0_0,"w")
            -(3*y10_0-x10_0*y1d0_0)*w0_0,"(3*y2-x2*y2d)/w-(3*y1-x1*y1d)*w",2*
            x10_0*(1-w0_0),"2*x1*(1-w)");
        }
        w10_0 = 2.23606797749979*k10_0*x10_0;
        w20_0 = 2.23606797749979*k20_0*fabs(x20_0);
        ww0_0 = 0.9*(IF w10_0 < w20_0 THEN w10_0 ELSE w20_0);
        if (ww0_0 < y0d0_0) {
          y0d0_0 = ww0_0;
        }
        y0_0 = IF x0_0 >= 0 THEN Modelica_Fluid_Utilities_evaluatePoly3x_0derivativeAtZero
          (x0_0, x10_0, y10_0, y1d0_0, y0d0_0) ELSE Modelica_Fluid_Utilities_evaluatePoly3x_0derivativeAtZero
          (x0_0, x20_0, y20_0, y2d0_0, y0d0_0);
      }
    /* Output section */
    PopContext()
    return y0_0;
  }}

/* Flattened Modelica model:

function Modelica.Fluid.Utilities.regSquare2.regSquare2_utility:der
discrete input Real x;
discrete input Real x1;
discrete input Real k1;
discrete input Real k2;
input Boolean use_yd0(start = false);
discrete input Real yd0(start = 1);
protected 
discrete Real y;
discrete Real x2;
discrete Real y1;
discrete Real y2;
discrete Real y1d;
discrete Real y2d;
discrete Real w;
discrete Real w1;
discrete Real w2;
discrete Real y0d;
discrete Real ww;
public 
discrete input Real x_der;
discrete input Real x1_der;
discrete input Real k1_der;
discrete input Real k2_der;
discrete input Real yd0_der(start = 0);
discrete output Real y_der;
protected 
discrete Real x2_der;
discrete Real y1_der;
discrete Real y2_der;
discrete Real y1d_der;
discrete Real y2d_der;
discrete Real w_der;
discrete Real w1_der;
discrete Real w2_der;
discrete Real y0d_der;
discrete Real ww_der;
public 
algorithm 
x2_der :=  -x1_der;
x2 :=  -x1;
if (x <= x2) then 
y_der :=  -(k2_der*x^2+2.0*(k2*(x*x_der)));
else
y1_der := k1_der*x1^2+2.0*(k1*(x1*x1_der));
y1 := k1*x1^2;
y2_der :=  -(k2_der*x2^2+2.0*(k2*(x2*x2_der)));
y2 :=  -k2*x2^2;
y1d_der := 2.0*(k1_der*x1+k1*x1_der);
y1d := 2.0*(k1*x1);
y2d_der := (-2.0)*(k2_der*x2+k2*x2_der);
y2d := (-2.0)*(k2*x2);
if (use_yd0) then 
y0d_der := yd0_der;
y0d := yd0;
else
w_der := x2_der/x1-x2*x1_der/x1^2;
w := x2/x1;
y0d_der := ((3*y2_der-(x2_der*y2d+x2*y2d_der))/w-(3*y2-x2*y2d)*w_der/w^2-((3*y1_der-(x1_der*y1d+x1*y1d_der))*w+(3*y1-x1*y1d)*w_der))/(2.0*(x1*(1-w)))-2.0*(((3*y2-x2*y2d)/w-(3*y1-x1*y1d)*w)*(x1_der*(1-w)-x1*w_der))/(2.0*(x1*(1-w)))^2;
y0d := ((3*y2-x2*y2d)/w-(3*y1-x1*y1d)*w)/(2.0*(x1*(1-w)));
end if;
w1_der := 2.23606797749979*(k1_der*x1+k1*x1_der);
w1 := 2.23606797749979*(k1*x1);
w2_der := 2.23606797749979*(k2_der*abs(x2)+k2*(x2_der*noEvent((if x2 > 0 then 1 else -1))));
w2 := 2.23606797749979*(k2*abs(x2));
ww_der := 0.9*(if w1 < w2 then w1_der else w2_der);
ww := 0.9*(if w1 < w2 then w1 else w2);
if (ww < y0d) then 
y0d_der := ww_der;
y0d := ww;
end if;
y_der := (if x >= 0 then Modelica.Fluid.Utilities.evaluatePoly3_derivativeAtZero:der(x, x1, y1, y1d, y0d, x_der, x1_der, y1_der, y1d_der, y0d_der) else Modelica.Fluid.Utilities.evaluatePoly3_derivativeAtZero:der(x, x2, y2, y2d, y0d, x_der, x2_der, y2_der, y2d_der, y0d_der));
end if;
annotation(smoothOrder=1);
end Modelica.Fluid.Utilities.regSquare2.regSquare2_utility:der;

  */
DYMOLA_STATIC double   Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility__der
  (double  x0_0, double  x10_0, double  k10_0, double  k20_0, int  usex_0yd0, 
  double  yd00_0, double  xx_0der, double  x1x_0der, double  k1x_0der, double  
  k2x_0der, double  yd0x_0der) {
  PushContext("Modelica.Fluid.Utilities.regSquare2.regSquare2_utility:der")
  {
    /* Declare outputs and temporaries */
    double   y0_0;
    double   x20_0;
    double   y10_0;
    double   y20_0;
    double   y1d0_0;
    double   y2d0_0;
    double   w0_0;
    double   w10_0;
    double   w20_0;
    double   y0d0_0;
    double   ww0_0;
    double   yx_0der;
    double   x2x_0der;
    double   y1x_0der;
    double   y2x_0der;
    double   y1dx_0der;
    double   y2dx_0der;
    double   wx_0der;
    double   w1x_0der;
    double   w2x_0der;
    double   y0dx_0der;
    double   wwx_0der;
    y0_0=0;
    x20_0=0;
    y10_0=0;
    y20_0=0;
    y1d0_0=0;
    y2d0_0=0;
    w0_0=0;
    w10_0=0;
    w20_0=0;
    y0d0_0=0;
    ww0_0=0;
    yx_0der=0;
    x2x_0der=0;
    y1x_0der=0;
    y2x_0der=0;
    y1dx_0der=0;
    y2dx_0der=0;
    wx_0der=0;
    w1x_0der=0;
    w2x_0der=0;
    y0dx_0der=0;
    wwx_0der=0;
    /* Start of real code */
      x2x_0der =  -x1x_0der;
      x20_0 =  -x10_0;
      if (x0_0 <= x20_0) {
        yx_0der =  -(k2x_0der*sqr(x0_0)+2.0*k20_0*x0_0*xx_0der);
      }
      else{
        y1x_0der = k1x_0der*sqr(x10_0)+2.0*k10_0*x10_0*x1x_0der;
        y10_0 = k10_0*sqr(x10_0);
        y2x_0der =  -(k2x_0der*sqr(x20_0)+2.0*k20_0*x20_0*x2x_0der);
        y20_0 =  -k20_0*sqr(x20_0);
        y1dx_0der = 2.0*(k1x_0der*x10_0+k10_0*x1x_0der);
        y1d0_0 = 2.0*k10_0*x10_0;
        y2dx_0der = (-2.0)*(k2x_0der*x20_0+k20_0*x2x_0der);
        y2d0_0 = (-2.0)*k20_0*x20_0;
        if (usex_0yd0) {
          y0dx_0der = yd0x_0der;
          y0d0_0 = yd00_0;
        }
        else{
          wx_0der = divmacro(x2x_0der,"x2_der",x10_0,"x1")-divmacro(x20_0*
            x1x_0der,"x2*x1_der",sqr(x10_0),"x1^2");
          w0_0 = divmacro(x20_0,"x2",x10_0,"x1");
          /* Introducing 17 common subexpressions used in 12 expressions */
          /* Of the common subexpressions 17 are reals, 0 are integers, and 0
             are booleans. */

          { double helpvarF[17];
          DYNX(helpvarF,0) = 3*y2x_0der-(x2x_0der*y2d0_0+x20_0*y2dx_0der);
          DYNX(helpvarF,1) = divmacro(1.0,"1.0",w0_0,"w");
          DYNX(helpvarF,2) = 3*y20_0-x20_0*y2d0_0;
          DYNX(helpvarF,3) = DYNX(helpvarF,2)*wx_0der;
          DYNX(helpvarF,4) = sqr(w0_0);
          DYNX(helpvarF,5) = divmacro(1.0,"1.0",DYNX(helpvarF,4),"w^2");
          DYNX(helpvarF,6) = 3*y1x_0der-(x1x_0der*y1d0_0+x10_0*y1dx_0der);
          DYNX(helpvarF,7) = 3*y10_0-x10_0*y1d0_0;
          DYNX(helpvarF,8) = 1-w0_0;
          DYNX(helpvarF,9) = 2.0*x10_0*DYNX(helpvarF,8);
          DYNX(helpvarF,10) = divmacro(1.0,"1.0",DYNX(helpvarF,9),
            "2.0*(x1*(1-w))");
          DYNX(helpvarF,11) = DYNX(helpvarF,1)*DYNX(helpvarF,2);
          DYNX(helpvarF,12) = DYNX(helpvarF,7)*w0_0;
          DYNX(helpvarF,13) = x1x_0der*DYNX(helpvarF,8);
          DYNX(helpvarF,14) = x10_0*wx_0der;
          DYNX(helpvarF,15) = sqr(DYNX(helpvarF,9));
          DYNX(helpvarF,16) = divmacro(1.0,"1.0",DYNX(helpvarF,15),
            "(2.0*(x1*(1-w)))^2");
          y0dx_0der = DYNX(helpvarF,10)*(DYNX(helpvarF,1)*DYNX(helpvarF,0)-
            DYNX(helpvarF,5)*DYNX(helpvarF,3)-(DYNX(helpvarF,6)*w0_0+
            DYNX(helpvarF,7)*wx_0der))-DYNX(helpvarF,16)*2.0*(DYNX(helpvarF,11)-
            DYNX(helpvarF,12))*(DYNX(helpvarF,13)-DYNX(helpvarF,14));
          }
          y0d0_0 = divmacro(divmacro(3*y20_0-x20_0*y2d0_0,"3*y2-x2*y2d",w0_0,"w")
            -(3*y10_0-x10_0*y1d0_0)*w0_0,"(3*y2-x2*y2d)/w-(3*y1-x1*y1d)*w",2.0*
            x10_0*(1-w0_0),"2.0*(x1*(1-w))");
        }
        w1x_0der = 2.23606797749979*(k1x_0der*x10_0+k10_0*x1x_0der);
        w10_0 = 2.23606797749979*k10_0*x10_0;
        w2x_0der = 2.23606797749979*(k2x_0der*fabs(x20_0)+k20_0*x2x_0der*(IF 
          x20_0 > 0 THEN 1 ELSE -1));
        w20_0 = 2.23606797749979*k20_0*fabs(x20_0);
        wwx_0der = 0.9*(IF w10_0 < w20_0 THEN w1x_0der ELSE w2x_0der);
        ww0_0 = 0.9*(IF w10_0 < w20_0 THEN w10_0 ELSE w20_0);
        if (ww0_0 < y0d0_0) {
          y0dx_0der = wwx_0der;
          y0d0_0 = ww0_0;
        }
        yx_0der = IF x0_0 >= 0 THEN Modelica_Fluid_Utilities_evaluatePoly3x_0derivativeAtZero__der
          (x0_0, x10_0, y10_0, y1d0_0, y0d0_0, xx_0der, x1x_0der, y1x_0der, 
          y1dx_0der, y0dx_0der) ELSE Modelica_Fluid_Utilities_evaluatePoly3x_0derivativeAtZero__der
          (x0_0, x20_0, y20_0, y2d0_0, y0d0_0, xx_0der, x2x_0der, y2x_0der, 
          y2dx_0der, y0dx_0der);
      }
    /* Output section */
    PopContext()
    return yx_0der;
  }}

/* Flattened Modelica model:

function massFlowRate_dp_staticHead_Unique15
discrete input Real dp(unit = "Pa", displayUnit = "bar") "Pressure loss (dp = port_a.p - port_b.p)";
discrete input Real rho_a(unit = "kg/m3", displayUnit = "g/cm3", min = 0.0) "Density at port_a";
discrete input Real rho_b(unit = "kg/m3", displayUnit = "g/cm3", min = 0.0) "Density at port_b";
discrete input Real mu_a(unit = "Pa.s", min = 0.0) "Dynamic viscosity at port_a (dummy if use_mu = false)";
discrete input Real mu_b(unit = "Pa.s", min = 0.0) "Dynamic viscosity at port_b (dummy if use_mu = false)";
discrete input Real length(unit = "m") "Length of pipe";
discrete input Real diameter(unit = "m", min = 0.0) "Inner (hydraulic) diameter of pipe";
discrete input Real g_times_height_ab "Gravity times (Height(port_b) - Height(port_a))";
discrete input Real crossArea(start = 0.7853981633974483*diameter^2, unit = "m2") "Inner cross section area";
discrete input Real roughness(start = 2.5E-05, unit = "m", min = 0.0) "Absolute roughness of pipe, with a default for a smooth steel pipe (dummy if use_roughness = false)";
discrete input Real dp_small(start = 1, nominal = 100000.0, unit = "Pa", displayUnit = "bar", min = 0.0) "Regularization of zero flow if |dp| < dp_small (dummy if use_dp_small = false)";
discrete input Real Re_turbulent(start = 4000, unit = "1") "Turbulent flow if Re >= Re_turbulent (dummy if use_Re_turbulent = false)";
discrete output Real m_flow(unit = "kg/s") "Mass flow rate from port_a to port_b";
protected 
discrete Real Delta(start = roughness/diameter) "Relative roughness";
discrete Real Re(unit = "1") "Reynolds number";
discrete Real Re1(start = min((745*exp((if Delta <= 0.0065 then 1 else 0.0065/Delta)))^0.97, Re_turbulent), unit = "1") "Boundary between laminar regime and transition";
discrete Real Re2(start = Re_turbulent, unit = "1") "Boundary between transition and turbulent regime";
discrete Real dp_a(unit = "Pa", displayUnit = "bar") "Upper end of regularization domain of the m_flow(dp) relation";
discrete Real dp_b(unit = "Pa", displayUnit = "bar") "Lower end of regularization domain of the m_flow(dp) relation";
discrete Real m_flow_a(unit = "kg/s") "Value at upper end of regularization domain";
discrete Real m_flow_b(unit = "kg/s") "Value at lower end of regularization domain";
discrete Real dm_flow_ddp_fric_a(unit = "kg/s") "Derivative at upper end of regularization domain";
discrete Real dm_flow_ddp_fric_b(unit = "kg/s") "Derivative at lower end of regularization domain";
discrete Real dp_grav_a(start = g_times_height_ab*rho_a, unit = "Pa", displayUnit = "bar") "Static head if mass flows in design direction (a to b)";
discrete Real dp_grav_b(start = g_times_height_ab*rho_b, unit = "Pa", displayUnit = "bar") "Static head if mass flows against design direction (b to a)";
discrete Real m_flow_zero(start = 0, unit = "kg/s");
discrete Real dp_zero(start = 0.5*(dp_grav_a+dp_grav_b), unit = "Pa", displayUnit = "bar");
discrete Real dm_flow_ddp_fric_zero;
public 
algorithm 
dp_a := max(dp_grav_a, dp_grav_b)+dp_small;
dp_b := min(dp_grav_a, dp_grav_b)-dp_small;
if (dp >= dp_a) then 
m_flow := Modelica.Fluid.Pipes.BaseClasses.WallFriction.Detailed.Internal.m_flow_of_dp_fric(dp-dp_grav_a, rho_a, rho_b, mu_a, mu_b, length, diameter, crossArea, Re1, Re2, Delta);
elseif (dp <= dp_b) then 
m_flow := Modelica.Fluid.Pipes.BaseClasses.WallFriction.Detailed.Internal.m_flow_of_dp_fric(dp-dp_grav_b, rho_a, rho_b, mu_a, mu_b, length, diameter, crossArea, Re1, Re2, Delta);
else
(m_flow_a, dm_flow_ddp_fric_a)  := Modelica.Fluid.Pipes.BaseClasses.WallFriction.Detailed.Internal.m_flow_of_dp_fric(dp_a-dp_grav_a, rho_a, rho_b, mu_a, mu_b, length, diameter, crossArea, Re1, Re2, Delta);
(m_flow_b, dm_flow_ddp_fric_b)  := Modelica.Fluid.Pipes.BaseClasses.WallFriction.Detailed.Internal.m_flow_of_dp_fric(dp_b-dp_grav_b, rho_a, rho_b, mu_a, mu_b, length, diameter, crossArea, Re1, Re2, Delta);
(m_flow, dm_flow_ddp_fric_zero)  := Modelica.Fluid.Utilities.regFun3(dp_zero, dp_b, dp_a, m_flow_b, m_flow_a, dm_flow_ddp_fric_b, dm_flow_ddp_fric_a);
if (dp > dp_zero) then 
m_flow := Modelica.Fluid.Utilities.regFun3(dp, dp_zero, dp_a, m_flow_zero, m_flow_a, dm_flow_ddp_fric_zero, dm_flow_ddp_fric_a);
else
m_flow := Modelica.Fluid.Utilities.regFun3(dp, dp_b, dp_zero, m_flow_b, m_flow_zero, dm_flow_ddp_fric_b, dm_flow_ddp_fric_zero);
end if;
end if;
annotation(derivative=massFlowRate_dp_staticHead_Unique15:der, smoothOrder=1);
end massFlowRate_dp_staticHead_Unique15;

  */
DYMOLA_STATIC double   massFlowRatex_0dpx_0staticHeadx_0Unique15(double  dp0_0, 
  double  rhox_0a, double  rhox_0b, double  mux_0a, double  mux_0b, double  
  length0_0, double  diameter0_0, double  gx_0timesx_0heightx_0ab, double  
  crossArea0_0, double  roughness0_0, double  dpx_0small, double  Rex_0turbulent)
   {
  PushContext("massFlowRate_dp_staticHead_Unique15")
  {
    /* Declare outputs and temporaries */
    double   mx_0flow;
    double   Delta0_0;
    double   Re0_0;
    double   Re10_0;
    double   Re20_0;
    double   dpx_0a;
    double   dpx_0b;
    double   mx_0flowx_0a;
    double   mx_0flowx_0b;
    double   dmx_0flowx_0ddpx_0fricx_0a;
    double   dmx_0flowx_0ddpx_0fricx_0b;
    double   dpx_0gravx_0a;
    double   dpx_0gravx_0b;
    double   mx_0flowx_0zero;
    double   dpx_0zero;
    double   dmx_0flowx_0ddpx_0fricx_0zero;
    mx_0flow=0;
    Delta0_0 = divmacro(roughness0_0,"roughness",diameter0_0,"diameter");
    Re0_0=0;
    Re10_0 = RealBmin(powmacro(745*exp(IF Delta0_0 <= 0.0065 THEN 1 ELSE 
      divmacro(0.0065,"0.0065",Delta0_0,"Delta")),"745*exp((if Delta <= 0.0065 then 1 else 0.0065/Delta))",
      0.97,"0.97"), Rex_0turbulent);
    Re20_0 = Rex_0turbulent;
    dpx_0a=0;
    dpx_0b=0;
    mx_0flowx_0a=0;
    mx_0flowx_0b=0;
    dmx_0flowx_0ddpx_0fricx_0a=0;
    dmx_0flowx_0ddpx_0fricx_0b=0;
    dpx_0gravx_0a = gx_0timesx_0heightx_0ab*rhox_0a;
    dpx_0gravx_0b = gx_0timesx_0heightx_0ab*rhox_0b;
    mx_0flowx_0zero = 0;
    dpx_0zero = 0.5*(dpx_0gravx_0a+dpx_0gravx_0b);
    dmx_0flowx_0ddpx_0fricx_0zero=0;
    /* Start of real code */
      dpx_0a = RealBmax(dpx_0gravx_0a, dpx_0gravx_0b)+dpx_0small;
      dpx_0b = RealBmin(dpx_0gravx_0a, dpx_0gravx_0b)-dpx_0small;
      if (dp0_0 >= dpx_0a) {
        mx_0flow = Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric
          (dp0_0-dpx_0gravx_0a, rhox_0a, rhox_0b, mux_0a, mux_0b, length0_0, 
          diameter0_0, crossArea0_0, Re10_0, Re20_0, Delta0_0).mx_0flow_0member;
      }
      else if (dp0_0 <= dpx_0b) {
        mx_0flow = Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric
          (dp0_0-dpx_0gravx_0b, rhox_0a, rhox_0b, mux_0a, mux_0b, length0_0, 
          diameter0_0, crossArea0_0, Re10_0, Re20_0, Delta0_0).mx_0flow_0member;
      }
      else{
        {
          struct Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric_struct
             dummy_mult_=Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric
            (dpx_0a-dpx_0gravx_0a, rhox_0a, rhox_0b, mux_0a, mux_0b, length0_0, 
            diameter0_0, crossArea0_0, Re10_0, Re20_0, Delta0_0);
          mx_0flowx_0a = dummy_mult_.mx_0flow_0member;
          dmx_0flowx_0ddpx_0fricx_0a = dummy_mult_.dmx_0flowx_0ddpx_0fric_0member;
        }
        {
          struct Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric_struct
             dummy_mult_=Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric
            (dpx_0b-dpx_0gravx_0b, rhox_0a, rhox_0b, mux_0a, mux_0b, length0_0, 
            diameter0_0, crossArea0_0, Re10_0, Re20_0, Delta0_0);
          mx_0flowx_0b = dummy_mult_.mx_0flow_0member;
          dmx_0flowx_0ddpx_0fricx_0b = dummy_mult_.dmx_0flowx_0ddpx_0fric_0member;
        }
        {
          struct Modelica_Fluid_Utilities_regFun3_struct dummy_mult_=
            Modelica_Fluid_Utilities_regFun3(dpx_0zero, dpx_0b, dpx_0a, 
            mx_0flowx_0b, mx_0flowx_0a, dmx_0flowx_0ddpx_0fricx_0b, 
            dmx_0flowx_0ddpx_0fricx_0a);
          mx_0flow = dummy_mult_.y0_0_0member;
          dmx_0flowx_0ddpx_0fricx_0zero = dummy_mult_.c0_0_0member;
        }
        if (dp0_0 > dpx_0zero) {
          mx_0flow = Modelica_Fluid_Utilities_regFun3(dp0_0, dpx_0zero, dpx_0a, 
            mx_0flowx_0zero, mx_0flowx_0a, dmx_0flowx_0ddpx_0fricx_0zero, 
            dmx_0flowx_0ddpx_0fricx_0a).y0_0_0member;
        }
        else{
          mx_0flow = Modelica_Fluid_Utilities_regFun3(dp0_0, dpx_0b, dpx_0zero, 
            mx_0flowx_0b, mx_0flowx_0zero, dmx_0flowx_0ddpx_0fricx_0b, 
            dmx_0flowx_0ddpx_0fricx_0zero).y0_0_0member;
        }
      }
    /* Output section */
    PopContext()
    return mx_0flow;
  }}

/* Flattened Modelica model:

function massFlowRate_dp_staticHead_Unique15:der
discrete input Real dp;
discrete input Real rho_a;
discrete input Real rho_b;
discrete input Real mu_a;
discrete input Real mu_b;
discrete input Real length;
discrete input Real diameter;
discrete input Real g_times_height_ab;
discrete input Real crossArea(start = 0.7853981633974483*diameter^2);
discrete input Real roughness(start = 2.5E-05);
discrete input Real dp_small(start = 1);
discrete input Real Re_turbulent(start = 4000);
protected 
discrete Real m_flow;
discrete Real Delta(start = roughness/diameter);
discrete Real Re;
discrete Real Re1(start = min((745*exp((if Delta <= 0.0065 then 1 else 0.0065/Delta)))^0.97, Re_turbulent));
discrete Real Re2(start = Re_turbulent);
discrete Real dp_a;
discrete Real dp_b;
discrete Real m_flow_a;
discrete Real m_flow_b;
discrete Real dm_flow_ddp_fric_a;
discrete Real dm_flow_ddp_fric_b;
discrete Real dp_grav_a(start = g_times_height_ab*rho_a);
discrete Real dp_grav_b(start = g_times_height_ab*rho_b);
discrete Real m_flow_zero(start = 0);
discrete Real dp_zero(start = 0.5*(dp_grav_a+dp_grav_b));
discrete Real dm_flow_ddp_fric_zero;
public 
discrete input Real dp_der;
discrete input Real rho_a_der;
discrete input Real rho_b_der;
discrete input Real mu_a_der;
discrete input Real mu_b_der;
discrete input Real length_der;
discrete input Real diameter_der;
discrete input Real g_times_height_ab_der;
discrete input Real crossArea_der(start = 1.5707963267948966*(diameter*diameter_der));
discrete input Real roughness_der(start = 0.0);
discrete input Real dp_small_der(start = 0);
discrete input Real Re_turbulent_der(start = 0);
discrete output Real m_flow_der;
protected 
discrete Real Delta_der(start = roughness_der/diameter-roughness*diameter_der/diameter^2);
discrete Real Re_der;
discrete Real Re1_der(start = (if noEvent((745*exp((if Delta <= 0.0065 then 1 else 0.0065/Delta)))^0.97 < Re_turbulent) then 722.65*((745*exp((if Delta <= 0.0065 then 1 else 0.0065/Delta)))^(-0.030000000000000027)*((if Delta <= 0.0065 then 0 else  -0.0065*Delta_der/Delta^2)*exp((if Delta <= 0.0065 then 1 else 0.0065/Delta)))) else Re_turbulent_der));
discrete Real Re2_der(start = Re_turbulent_der);
discrete Real dp_a_der;
discrete Real dp_b_der;
discrete Real m_flow_a_der;
discrete Real m_flow_b_der;
discrete Real dm_flow_ddp_fric_a_der;
discrete Real dm_flow_ddp_fric_b_der;
discrete Real dp_grav_a_der(start = g_times_height_ab_der*rho_a+g_times_height_ab*rho_a_der);
discrete Real dp_grav_b_der(start = g_times_height_ab_der*rho_b+g_times_height_ab*rho_b_der);
discrete Real m_flow_zero_der(start = 0);
discrete Real dp_zero_der(start = 0.5*(dp_grav_a_der+dp_grav_b_der));
discrete Real dm_flow_ddp_fric_zero_der;
public 
algorithm 
dp_a_der := (if noEvent(dp_grav_a > dp_grav_b) then dp_grav_a_der else dp_grav_b_der)+dp_small_der;
dp_a := max(dp_grav_a, dp_grav_b)+dp_small;
dp_b_der := (if noEvent(dp_grav_a < dp_grav_b) then dp_grav_a_der else dp_grav_b_der)-dp_small_der;
dp_b := min(dp_grav_a, dp_grav_b)-dp_small;
if (dp >= dp_a) then 
m_flow_der := Modelica.Fluid.Pipes.BaseClasses.WallFriction.Detailed.Internal.m_flow_of_dp_fric:der(dp-dp_grav_a, rho_a, rho_b, mu_a, mu_b, length, diameter, crossArea, Re1, Re2, Delta, dp_der-dp_grav_a_der, rho_a_der, rho_b_der, mu_a_der, mu_b_der, length_der, diameter_der, crossArea_der, Re1_der, Re2_der, Delta_der);
elseif (dp <= dp_b) then 
m_flow_der := Modelica.Fluid.Pipes.BaseClasses.WallFriction.Detailed.Internal.m_flow_of_dp_fric:der(dp-dp_grav_b, rho_a, rho_b, mu_a, mu_b, length, diameter, crossArea, Re1, Re2, Delta, dp_der-dp_grav_b_der, rho_a_der, rho_b_der, mu_a_der, mu_b_der, length_der, diameter_der, crossArea_der, Re1_der, Re2_der, Delta_der);
else
(m_flow_a_der, dm_flow_ddp_fric_a_der)  := Modelica.Fluid.Pipes.BaseClasses.WallFriction.Detailed.Internal.m_flow_of_dp_fric:der(dp_a-dp_grav_a, rho_a, rho_b, mu_a, mu_b, length, diameter, crossArea, Re1, Re2, Delta, dp_a_der-dp_grav_a_der, rho_a_der, rho_b_der, mu_a_der, mu_b_der, length_der, diameter_der, crossArea_der, Re1_der, Re2_der, Delta_der);
(m_flow_a, dm_flow_ddp_fric_a)  := Modelica.Fluid.Pipes.BaseClasses.WallFriction.Detailed.Internal.m_flow_of_dp_fric(dp_a-dp_grav_a, rho_a, rho_b, mu_a, mu_b, length, diameter, crossArea, Re1, Re2, Delta);
(m_flow_b_der, dm_flow_ddp_fric_b_der)  := Modelica.Fluid.Pipes.BaseClasses.WallFriction.Detailed.Internal.m_flow_of_dp_fric:der(dp_b-dp_grav_b, rho_a, rho_b, mu_a, mu_b, length, diameter, crossArea, Re1, Re2, Delta, dp_b_der-dp_grav_b_der, rho_a_der, rho_b_der, mu_a_der, mu_b_der, length_der, diameter_der, crossArea_der, Re1_der, Re2_der, Delta_der);
(m_flow_b, dm_flow_ddp_fric_b)  := Modelica.Fluid.Pipes.BaseClasses.WallFriction.Detailed.Internal.m_flow_of_dp_fric(dp_b-dp_grav_b, rho_a, rho_b, mu_a, mu_b, length, diameter, crossArea, Re1, Re2, Delta);
(m_flow_der, dm_flow_ddp_fric_zero_der)  := Modelica.Fluid.Utilities.regFun3:der(dp_zero, dp_b, dp_a, m_flow_b, m_flow_a, dm_flow_ddp_fric_b, dm_flow_ddp_fric_a, dp_zero_der, dp_b_der, dp_a_der, m_flow_b_der, m_flow_a_der, dm_flow_ddp_fric_b_der, dm_flow_ddp_fric_a_der);
(m_flow, dm_flow_ddp_fric_zero)  := Modelica.Fluid.Utilities.regFun3(dp_zero, dp_b, dp_a, m_flow_b, m_flow_a, dm_flow_ddp_fric_b, dm_flow_ddp_fric_a);
if (dp > dp_zero) then 
m_flow_der := Modelica.Fluid.Utilities.regFun3:der(dp, dp_zero, dp_a, 0.0, m_flow_a, dm_flow_ddp_fric_zero, dm_flow_ddp_fric_a, dp_der, dp_zero_der, dp_a_der, 0.0, m_flow_a_der, dm_flow_ddp_fric_zero_der, dm_flow_ddp_fric_a_der);
else
m_flow_der := Modelica.Fluid.Utilities.regFun3:der(dp, dp_b, dp_zero, m_flow_b, 0.0, dm_flow_ddp_fric_b, dm_flow_ddp_fric_zero, dp_der, dp_b_der, dp_zero_der, m_flow_b_der, 0.0, dm_flow_ddp_fric_b_der, dm_flow_ddp_fric_zero_der);
end if;
end if;
annotation(smoothOrder=0);
end massFlowRate_dp_staticHead_Unique15:der;

  */
DYMOLA_STATIC double   massFlowRatex_0dpx_0staticHeadx_0Unique15__der(double  
  dp0_0, double  rhox_0a, double  rhox_0b, double  mux_0a, double  mux_0b, 
  double  length0_0, double  diameter0_0, double  gx_0timesx_0heightx_0ab, 
  double  crossArea0_0, double  roughness0_0, double  dpx_0small, double  
  Rex_0turbulent, double  dpx_0der, double  rhox_0ax_0der, double  rhox_0bx_0der,
   double  mux_0ax_0der, double  mux_0bx_0der, double  lengthx_0der, double  
  diameterx_0der, double  gx_0timesx_0heightx_0abx_0der, double  crossAreax_0der,
   double  roughnessx_0der, double  dpx_0smallx_0der, double  Rex_0turbulentx_0der)
   {
  PushContext("massFlowRate_dp_staticHead_Unique15:der")
  {
    /* Declare outputs and temporaries */
    double   mx_0flow;
    double   Delta0_0;
    double   Re0_0;
    double   Re10_0;
    double   Re20_0;
    double   dpx_0a;
    double   dpx_0b;
    double   mx_0flowx_0a;
    double   mx_0flowx_0b;
    double   dmx_0flowx_0ddpx_0fricx_0a;
    double   dmx_0flowx_0ddpx_0fricx_0b;
    double   dpx_0gravx_0a;
    double   dpx_0gravx_0b;
    double   mx_0flowx_0zero;
    double   dpx_0zero;
    double   dmx_0flowx_0ddpx_0fricx_0zero;
    double   mx_0flowx_0der;
    double   Deltax_0der;
    double   Rex_0der;
    double   Re1x_0der;
    double   Re2x_0der;
    double   dpx_0ax_0der;
    double   dpx_0bx_0der;
    double   mx_0flowx_0ax_0der;
    double   mx_0flowx_0bx_0der;
    double   dmx_0flowx_0ddpx_0fricx_0ax_0der;
    double   dmx_0flowx_0ddpx_0fricx_0bx_0der;
    double   dpx_0gravx_0ax_0der;
    double   dpx_0gravx_0bx_0der;
    double   mx_0flowx_0zerox_0der;
    double   dpx_0zerox_0der;
    double   dmx_0flowx_0ddpx_0fricx_0zerox_0der;
    mx_0flow=0;
    Delta0_0 = divmacro(roughness0_0,"roughness",diameter0_0,"diameter");
    Re0_0=0;
    Re10_0 = RealBmin(powmacro(745*exp(IF Delta0_0 <= 0.0065 THEN 1 ELSE 
      divmacro(0.0065,"0.0065",Delta0_0,"Delta")),"745*exp((if Delta <= 0.0065 then 1 else 0.0065/Delta))",
      0.97,"0.97"), Rex_0turbulent);
    Re20_0 = Rex_0turbulent;
    dpx_0a=0;
    dpx_0b=0;
    mx_0flowx_0a=0;
    mx_0flowx_0b=0;
    dmx_0flowx_0ddpx_0fricx_0a=0;
    dmx_0flowx_0ddpx_0fricx_0b=0;
    dpx_0gravx_0a = gx_0timesx_0heightx_0ab*rhox_0a;
    dpx_0gravx_0b = gx_0timesx_0heightx_0ab*rhox_0b;
    mx_0flowx_0zero = 0;
    dpx_0zero = 0.5*(dpx_0gravx_0a+dpx_0gravx_0b);
    dmx_0flowx_0ddpx_0fricx_0zero=0;
    mx_0flowx_0der=0;
    Deltax_0der = divmacro(roughnessx_0der,"roughness_der",diameter0_0,
      "diameter")-divmacro(roughness0_0*diameterx_0der,"roughness*diameter_der",
      sqr(diameter0_0),"diameter^2");
    Rex_0der=0;
    Re1x_0der = IF powmacro(745*exp(IF Delta0_0 <= 0.0065 THEN 1 ELSE divmacro(
      0.0065,"0.0065",Delta0_0,"Delta")),"745*exp((if Delta <= 0.0065 then 1 else 0.0065/Delta))",
      0.97,"0.97") < Rex_0turbulent THEN 722.65*powmacro(745*exp(IF Delta0_0 <= 
      0.0065 THEN 1 ELSE divmacro(0.0065,"0.0065",Delta0_0,"Delta")),
      "745*exp((if Delta <= 0.0065 then 1 else 0.0065/Delta))",-0.030000000000000027,
      "-0.030000000000000027")*(IF Delta0_0 <= 0.0065 THEN 0 ELSE  -divmacro(
      0.0065*Deltax_0der,"0.0065*Delta_der",sqr(Delta0_0),"Delta^2"))*exp(IF 
      Delta0_0 <= 0.0065 THEN 1 ELSE divmacro(0.0065,"0.0065",Delta0_0,"Delta"))
       ELSE Rex_0turbulentx_0der;
    Re2x_0der = Rex_0turbulentx_0der;
    dpx_0ax_0der=0;
    dpx_0bx_0der=0;
    mx_0flowx_0ax_0der=0;
    mx_0flowx_0bx_0der=0;
    dmx_0flowx_0ddpx_0fricx_0ax_0der=0;
    dmx_0flowx_0ddpx_0fricx_0bx_0der=0;
    dpx_0gravx_0ax_0der = gx_0timesx_0heightx_0abx_0der*rhox_0a+gx_0timesx_0heightx_0ab
      *rhox_0ax_0der;
    dpx_0gravx_0bx_0der = gx_0timesx_0heightx_0abx_0der*rhox_0b+gx_0timesx_0heightx_0ab
      *rhox_0bx_0der;
    mx_0flowx_0zerox_0der = 0;
    dpx_0zerox_0der = 0.5*(dpx_0gravx_0ax_0der+dpx_0gravx_0bx_0der);
    dmx_0flowx_0ddpx_0fricx_0zerox_0der=0;
    /* Start of real code */
      dpx_0ax_0der = (IF dpx_0gravx_0a > dpx_0gravx_0b THEN dpx_0gravx_0ax_0der
         ELSE dpx_0gravx_0bx_0der)+dpx_0smallx_0der;
      dpx_0a = RealBmax(dpx_0gravx_0a, dpx_0gravx_0b)+dpx_0small;
      dpx_0bx_0der = (IF dpx_0gravx_0a < dpx_0gravx_0b THEN dpx_0gravx_0ax_0der
         ELSE dpx_0gravx_0bx_0der)-dpx_0smallx_0der;
      dpx_0b = RealBmin(dpx_0gravx_0a, dpx_0gravx_0b)-dpx_0small;
      if (dp0_0 >= dpx_0a) {
        mx_0flowx_0der = Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric__der
          (dp0_0-dpx_0gravx_0a, rhox_0a, rhox_0b, mux_0a, mux_0b, length0_0, 
          diameter0_0, crossArea0_0, Re10_0, Re20_0, Delta0_0, dpx_0der-
          dpx_0gravx_0ax_0der, rhox_0ax_0der, rhox_0bx_0der, mux_0ax_0der, 
          mux_0bx_0der, lengthx_0der, diameterx_0der, crossAreax_0der, Re1x_0der,
           Re2x_0der, Deltax_0der).mx_0flowx_0der_0member;
      }
      else if (dp0_0 <= dpx_0b) {
        mx_0flowx_0der = Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric__der
          (dp0_0-dpx_0gravx_0b, rhox_0a, rhox_0b, mux_0a, mux_0b, length0_0, 
          diameter0_0, crossArea0_0, Re10_0, Re20_0, Delta0_0, dpx_0der-
          dpx_0gravx_0bx_0der, rhox_0ax_0der, rhox_0bx_0der, mux_0ax_0der, 
          mux_0bx_0der, lengthx_0der, diameterx_0der, crossAreax_0der, Re1x_0der,
           Re2x_0der, Deltax_0der).mx_0flowx_0der_0member;
      }
      else{
        {
          struct Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric__der_struct
             dummy_mult_=Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric__der
            (dpx_0a-dpx_0gravx_0a, rhox_0a, rhox_0b, mux_0a, mux_0b, length0_0, 
            diameter0_0, crossArea0_0, Re10_0, Re20_0, Delta0_0, dpx_0ax_0der-
            dpx_0gravx_0ax_0der, rhox_0ax_0der, rhox_0bx_0der, mux_0ax_0der, 
            mux_0bx_0der, lengthx_0der, diameterx_0der, crossAreax_0der, 
            Re1x_0der, Re2x_0der, Deltax_0der);
          mx_0flowx_0ax_0der = dummy_mult_.mx_0flowx_0der_0member;
          dmx_0flowx_0ddpx_0fricx_0ax_0der = dummy_mult_.dmx_0flowx_0ddpx_0fricx_0der_0member;
        }
        {
          struct Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric_struct
             dummy_mult_=Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric
            (dpx_0a-dpx_0gravx_0a, rhox_0a, rhox_0b, mux_0a, mux_0b, length0_0, 
            diameter0_0, crossArea0_0, Re10_0, Re20_0, Delta0_0);
          mx_0flowx_0a = dummy_mult_.mx_0flow_0member;
          dmx_0flowx_0ddpx_0fricx_0a = dummy_mult_.dmx_0flowx_0ddpx_0fric_0member;
        }
        {
          struct Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric__der_struct
             dummy_mult_=Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric__der
            (dpx_0b-dpx_0gravx_0b, rhox_0a, rhox_0b, mux_0a, mux_0b, length0_0, 
            diameter0_0, crossArea0_0, Re10_0, Re20_0, Delta0_0, dpx_0bx_0der-
            dpx_0gravx_0bx_0der, rhox_0ax_0der, rhox_0bx_0der, mux_0ax_0der, 
            mux_0bx_0der, lengthx_0der, diameterx_0der, crossAreax_0der, 
            Re1x_0der, Re2x_0der, Deltax_0der);
          mx_0flowx_0bx_0der = dummy_mult_.mx_0flowx_0der_0member;
          dmx_0flowx_0ddpx_0fricx_0bx_0der = dummy_mult_.dmx_0flowx_0ddpx_0fricx_0der_0member;
        }
        {
          struct Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric_struct
             dummy_mult_=Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric
            (dpx_0b-dpx_0gravx_0b, rhox_0a, rhox_0b, mux_0a, mux_0b, length0_0, 
            diameter0_0, crossArea0_0, Re10_0, Re20_0, Delta0_0);
          mx_0flowx_0b = dummy_mult_.mx_0flow_0member;
          dmx_0flowx_0ddpx_0fricx_0b = dummy_mult_.dmx_0flowx_0ddpx_0fric_0member;
        }
        {
          struct Modelica_Fluid_Utilities_regFun3__der_struct dummy_mult_=
            Modelica_Fluid_Utilities_regFun3__der(dpx_0zero, dpx_0b, dpx_0a, 
            mx_0flowx_0b, mx_0flowx_0a, dmx_0flowx_0ddpx_0fricx_0b, 
            dmx_0flowx_0ddpx_0fricx_0a, dpx_0zerox_0der, dpx_0bx_0der, 
            dpx_0ax_0der, mx_0flowx_0bx_0der, mx_0flowx_0ax_0der, 
            dmx_0flowx_0ddpx_0fricx_0bx_0der, dmx_0flowx_0ddpx_0fricx_0ax_0der);
          mx_0flowx_0der = dummy_mult_.yx_0der_0member;
          dmx_0flowx_0ddpx_0fricx_0zerox_0der = dummy_mult_.cx_0der_0member;
        }
        {
          struct Modelica_Fluid_Utilities_regFun3_struct dummy_mult_=
            Modelica_Fluid_Utilities_regFun3(dpx_0zero, dpx_0b, dpx_0a, 
            mx_0flowx_0b, mx_0flowx_0a, dmx_0flowx_0ddpx_0fricx_0b, 
            dmx_0flowx_0ddpx_0fricx_0a);
          mx_0flow = dummy_mult_.y0_0_0member;
          dmx_0flowx_0ddpx_0fricx_0zero = dummy_mult_.c0_0_0member;
        }
        if (dp0_0 > dpx_0zero) {
          mx_0flowx_0der = Modelica_Fluid_Utilities_regFun3__der(dp0_0, 
            dpx_0zero, dpx_0a, 0.0, mx_0flowx_0a, dmx_0flowx_0ddpx_0fricx_0zero,
             dmx_0flowx_0ddpx_0fricx_0a, dpx_0der, dpx_0zerox_0der, dpx_0ax_0der,
             0.0, mx_0flowx_0ax_0der, dmx_0flowx_0ddpx_0fricx_0zerox_0der, 
            dmx_0flowx_0ddpx_0fricx_0ax_0der).yx_0der_0member;
        }
        else{
          mx_0flowx_0der = Modelica_Fluid_Utilities_regFun3__der(dp0_0, dpx_0b, 
            dpx_0zero, mx_0flowx_0b, 0.0, dmx_0flowx_0ddpx_0fricx_0b, 
            dmx_0flowx_0ddpx_0fricx_0zero, dpx_0der, dpx_0bx_0der, 
            dpx_0zerox_0der, mx_0flowx_0bx_0der, 0.0, dmx_0flowx_0ddpx_0fricx_0bx_0der,
             dmx_0flowx_0ddpx_0fricx_0zerox_0der).yx_0der_0member;
        }
      }
    /* Output section */
    PopContext()
    return mx_0flowx_0der;
  }}

/* Flattened Modelica model:

function pressureLoss_m_flow_Unique11
discrete input Real m_flow(unit = "kg/s") "Mass flow rate from port_a to port_b";
discrete input Real rho_a(unit = "kg/m3", displayUnit = "g/cm3", min = 0.0) "Density at port_a";
discrete input Real rho_b(unit = "kg/m3", displayUnit = "g/cm3", min = 0.0) "Density at port_b";
discrete input Real mu_a(unit = "Pa.s", min = 0.0) "Dynamic viscosity at port_a (dummy if use_mu = false)";
discrete input Real mu_b(unit = "Pa.s", min = 0.0) "Dynamic viscosity at port_b (dummy if use_mu = false)";
discrete input Real length(unit = "m") "Length of pipe";
discrete input Real diameter(unit = "m", min = 0.0) "Inner (hydraulic) diameter of pipe";
discrete input Real crossArea(start = 0.7853981633974483*diameter^2, unit = "m2") "Inner cross section area";
discrete input Real roughness(start = 2.5E-05, unit = "m", min = 0.0) "Absolute roughness of pipe, with a default for a smooth steel pipe (dummy if use_roughness = false)";
discrete input Real m_flow_small(start = 0.01, unit = "kg/s") "Regularization of zero flow if |m_flow| < m_flow_small (dummy if use_m_flow_small = false)";
discrete input Real Re_turbulent(start = 4000, unit = "1") "Turbulent flow if Re >= Re_turbulent (dummy if use_Re_turbulent = false)";
discrete output Real dp(unit = "Pa", displayUnit = "bar") "Pressure loss (dp = port_a.p - port_b.p)";
protected 
discrete Real Delta(start = roughness/diameter) "Relative roughness";
discrete Real Re1(start = min(745*exp((if Delta <= 0.0065 then 1 else 0.0065/Delta)), Re_turbulent), unit = "1") "Re leaving laminar curve";
discrete Real Re2(start = Re_turbulent, unit = "1") "Re entering turbulent curve";
discrete Real mu(unit = "Pa.s", min = 0.0) "Upstream viscosity";
discrete Real rho(unit = "kg/m3", displayUnit = "g/cm3", min = 0.0) "Upstream density";
discrete Real Re(unit = "1") "Reynolds number";
discrete Real lambda2 "Modified friction coefficient (= lambda*Re^2)";
public 
algorithm 
rho := (if m_flow >= 0 then rho_a else rho_b);
mu := (if m_flow >= 0 then mu_a else mu_b);
Re := diameter*abs(m_flow)/(crossArea*mu);
lambda2 := (if Re <= Re1 then 64*Re else (if Re >= Re2 then 0.25*(Re/log10(Delta/3.7+5.74/Re^0.9))^2 else interpolateInRegion2_Unique12(Re, Re1, Re2, Delta)));
dp := length*mu*mu/(2*rho*diameter*diameter*diameter)*(if m_flow >= 0 then lambda2 else  -lambda2);
annotation(smoothOrder=1);
end pressureLoss_m_flow_Unique11;

  */
DYMOLA_STATIC double   pressureLossx_0mx_0flowx_0Unique11(double  mx_0flow, 
  double  rhox_0a, double  rhox_0b, double  mux_0a, double  mux_0b, double  
  length0_0, double  diameter0_0, double  crossArea0_0, double  roughness0_0, 
  double  mx_0flowx_0small, double  Rex_0turbulent) {
  PushContext("pressureLoss_m_flow_Unique11")
  {
    /* Declare outputs and temporaries */
    double   dp0_0;
    double   Delta0_0;
    double   Re10_0;
    double   Re20_0;
    double   mu0_0;
    double   rho0_0;
    double   Re0_0;
    double   lambda20_0;
    dp0_0=0;
    Delta0_0 = divmacro(roughness0_0,"roughness",diameter0_0,"diameter");
    Re10_0 = RealBmin(745*exp(IF Delta0_0 <= 0.0065 THEN 1 ELSE divmacro(0.0065,
      "0.0065",Delta0_0,"Delta")), Rex_0turbulent);
    Re20_0 = Rex_0turbulent;
    mu0_0=0;
    rho0_0=0;
    Re0_0=0;
    lambda20_0=0;
    /* Start of real code */
      rho0_0 = IF mx_0flow >= 0 THEN rhox_0a ELSE rhox_0b;
      mu0_0 = IF mx_0flow >= 0 THEN mux_0a ELSE mux_0b;
      Re0_0 = divmacro(diameter0_0*fabs(mx_0flow),"diameter*abs(m_flow)",
        crossArea0_0*mu0_0,"crossArea*mu");
      lambda20_0 = IF Re0_0 <= Re10_0 THEN 64*Re0_0 ELSE IF Re0_0 >= Re20_0
         THEN 0.25*sqr(divmacro(Re0_0,"Re",log10Guarded(Delta0_0/(double)(3.7)+
        divmacro(5.74,"5.74",powmacro(Re0_0,"Re",0.9,"0.9"),"Re^0.9"),
        "Delta/3.7+5.74/Re^0.9"),"log10(Delta/3.7+5.74/Re^0.9)")) ELSE 
        interpolateInRegion2x_0Unique12(Re0_0, Re10_0, Re20_0, Delta0_0);
      dp0_0 = divmacro(length0_0*mu0_0*mu0_0,"length*mu*mu",2*rho0_0*diameter0_0
        *diameter0_0*diameter0_0,"2*rho*diameter*diameter*diameter")*(IF 
        mx_0flow >= 0 THEN lambda20_0 ELSE  -lambda20_0);
    /* Output section */
    PopContext()
    return dp0_0;
  }}

/* Flattened Modelica model:

function pump.flowCharacteristic_Unique'"pump"'
discrete input Real V_flow(unit = "m3/s") "Volumetric flow rate";
discrete output Real head(unit = "m", min = 0.0) "Pump head";
discrete input Real V_flow_nominal[3](start = {0, pump.V_flow_op, 1.5*pump.V_flow_op}, unit = "m3/s") "Volume flow rate for three operating points (single pump)" annotation (Dialog);
discrete input Real head_nominal[3](start = {2*pump.head_op, pump.head_op, 0}, unit = "m", min = 0.0) "Pump head for three operating points" annotation (Dialog);
protected 
discrete Real V_flow_nominal2[3](start = {V_flow_nominal[1]^2, V_flow_nominal[2]^2, V_flow_nominal[3]^2}) "Squared nominal flow rates";
discrete Real c[3](start = Modelica.Math.Matrices.solve([ones(3), V_flow_nominal, V_flow_nominal2], head_nominal)) "Coefficients of quadratic head curve";
discrete Real V_flow_min(start = min(V_flow_nominal), unit = "m3/s");
discrete Real V_flow_max(start = max(V_flow_nominal), unit = "m3/s");
public 
algorithm 
assert(max(c[2].+2*c[3]*V_flow_nominal) <= -1E-60, "Wrong pump curve -- head_nominal must be monotonically decreasing with increasing V_flow_nominal", AssertionLevel.warning);
if (V_flow < V_flow_min) then 
head := max(head_nominal)+(V_flow-V_flow_min)*(c[2]+2*c[3]*V_flow_min);
elseif (V_flow > V_flow_max) then 
head := min(head_nominal)+(V_flow-V_flow_max)*(c[2]+2*c[3]*V_flow_max);
else
head := c[1]+V_flow*(c[2]+V_flow*c[3]);
end if;
end pump.flowCharacteristic_Unique'"pump"';

  */
DYMOLA_STATIC double   pump_flowCharacteristicx_0Uniquez_0cchahfgnhacc(double  
  Vx_0flow, RealArray   Vx_0flowx_0nominal, RealArray   headx_0nominal) {
  PushContext("pump.flowCharacteristic_Unique'\"pump\"'")
  AssertModelica(DYNSizeSimple(Vx_0flowx_0nominal,1)==3,"size(V_flow_nominal, 1) == 3","Dimension check of input to function failed");
  AssertModelica(DYNSizeSimple(headx_0nominal,1)==3,"size(head_nominal, 1) == 3","Dimension check of input to function failed");
  {
    /* Declare outputs and temporaries */
    double   head0_0;
    RealArray    Vx_0flowx_0nominal2;
    RealArray    c0_0;
    double   Vx_0flowx_0min;
    double   Vx_0flowx_0max;
    MarkObject retmark_ = PushMark();
    head0_0=0;
    Vx_0flowx_0nominal2=RealTemporary( 1, 3);
    PushMark();
    RealAssign (Vx_0flowx_0nominal2, RealScalarArray ( 3, sqr(RealVectorElement( 
      Vx_0flowx_0nominal, (SizeType)(1))), sqr(RealVectorElement( 
      Vx_0flowx_0nominal, (SizeType)(2))), sqr(RealVectorElement( 
      Vx_0flowx_0nominal, (SizeType)(3)))));
    Release();
    c0_0=RealTemporary( 1, 3);
    PushMark();
    RealAssign (c0_0, Modelica_Math_Matrices_solve((RealCat( 2, 3, RealPromote( 
      RealConvertInteger (IntegerFill( 1, 1, (SizeType)(3))), 2), RealPromote( 
      Vx_0flowx_0nominal, 2), RealPromote( Vx_0flowx_0nominal2, 2))), 
      headx_0nominal));
    Release();
    Vx_0flowx_0min = Realmin( Vx_0flowx_0nominal);
    Release();
    Vx_0flowx_0max = Realmax( Vx_0flowx_0nominal);
    Release();
    /* Start of real code */
      AssertModelica3(Realmax( addScalar_For_1_1(RealVectorElement( c0_0, 
        (SizeType)(2)), RealScale (Vx_0flowx_0nominal,2*RealVectorElement( c0_0,
         (SizeType)(3))))) <= -1E-60,"max(c[2].+2*c[3]*V_flow_nominal) <= -1E-60",
         "Wrong pump curve -- head_nominal must be monotonically decreasing with increasing V_flow_nominal",
         1);
      Release();
      if (Vx_0flow < Vx_0flowx_0min) {
        head0_0 = Realmax( headx_0nominal)+(Vx_0flow-Vx_0flowx_0min)*(
          RealVectorElement( c0_0, (SizeType)(2))+2*RealVectorElement( c0_0, 
          (SizeType)(3))*Vx_0flowx_0min);
        Release();
      }
      else if (Vx_0flow > Vx_0flowx_0max) {
        head0_0 = Realmin( headx_0nominal)+(Vx_0flow-Vx_0flowx_0max)*(
          RealVectorElement( c0_0, (SizeType)(2))+2*RealVectorElement( c0_0, 
          (SizeType)(3))*Vx_0flowx_0max);
        Release();
      }
      else{
        head0_0 = RealVectorElement( c0_0, (SizeType)(1))+Vx_0flow*(
          RealVectorElement( c0_0, (SizeType)(2))+Vx_0flow*RealVectorElement( 
          c0_0, (SizeType)(3)));
      }
    /* Output section */
    PopMark(retmark_);
    PopContext()
    return head0_0;
  }}

/* Flattened Modelica model:

function Modelica.Blocks.Continuous.Internal.Filter.Utilities.toHighestPowerOne
discrete input Real den1[:] "[s] coefficients of polynomials (den1[i]*s + 1)";
discrete input Real den2[:, 2] "[s^2, s] coefficients of polynomials (den2[i,1]*s^2 + den2[i,2]*s + 1)";
discrete output Real cr[size(den1, 1)] "[s^0] coefficients of polynomials cr[i]*(s+1/cr[i])";
discrete output Real c0[size(den2, 1)] "[s^0] coefficients of polynomials (s^2 + (den2[i,2]/den2[i,1])*s + (1/den2[i,1]))";
discrete output Real c1[size(den2, 1)] "[s^1] coefficients of polynomials (s^2 + (den2[i,2]/den2[i,1])*s + (1/den2[i,1]))";

algorithm 
for i in (1:size(den1, 1)) loop
cr[i] := 1/den1[i];
end for;
for i in (1:size(den2, 1)) loop
c1[i] := den2[i, 2]/den2[i, 1];
c0[i] := 1/den2[i, 1];
end for;
end Modelica.Blocks.Continuous.Internal.Filter.Utilities.toHighestPowerOne;

  */
DYMOLA_STATIC struct Modelica_Blocks_Continuous_Internal_Filter_Utilities_toHighestPowerOne_struct
   Modelica_Blocks_Continuous_Internal_Filter_Utilities_toHighestPowerOne(
  RealArray   den10_0, RealArray   den20_0) {
  PushContext("Modelica.Blocks.Continuous.Internal.Filter.Utilities.toHighestPowerOne")
  AssertModelica(DYNSizeSimple(den20_0,2)==2,"size(den2, 2) == 2","Dimension check of input to function failed");
  {
    /* Declare outputs and temporaries */
    RealArray    cr0_0;
    RealArray    c00_0;
    RealArray    c10_0;
    MarkObject retmark_ = PushMark();
    cr0_0=RealTemporary( 1, DYNSizeSimple(den10_0, 1));
    RePushMark(&retmark_);
    RealFillAssign( cr0_0, 0);
    c00_0=RealTemporary( 1, DYNSizeSimple(den20_0, 1));
    RePushMark(&retmark_);
    RealFillAssign( c00_0, 0);
    c10_0=RealTemporary( 1, DYNSizeSimple(den20_0, 1));
    RePushMark(&retmark_);
    RealFillAssign( c10_0, 0);
    /* Start of real code */
      {
        int end_ = DYNSizeSimple(den10_0, 1);
        int i0_0_0;
        for(i0_0_0 = 1;i0_0_0 <= end_;i0_0_0 += 1) {
          SetRealVectorElement(divmacro(1,"1",RealVectorElement( den10_0, 
            (SizeType)(i0_0_0)),"den1[i]"), cr0_0, (SizeType)(i0_0_0));
        }
      }
      {
        int end_ = DYNSizeSimple(den20_0, 1);
        int i0_0_0;
        for(i0_0_0 = 1;i0_0_0 <= end_;i0_0_0 += 1) {
          SetRealVectorElement(divmacro(RealMatrixElement( den20_0, (SizeType)(
            i0_0_0), (SizeType)(2)),"den2[i, 2]",RealMatrixElement( den20_0, 
            (SizeType)(i0_0_0), (SizeType)(1)),"den2[i, 1]"), c10_0, (SizeType)(
            i0_0_0));
          SetRealVectorElement(divmacro(1,"1",RealMatrixElement( den20_0, 
            (SizeType)(i0_0_0), (SizeType)(1)),"den2[i, 1]"), c00_0, (SizeType)(
            i0_0_0));
        }
      }
    /* Output section */
    PopMark(retmark_);
    PopContext()
    {
      struct Modelica_Blocks_Continuous_Internal_Filter_Utilities_toHighestPowerOne_struct out_;
      out_.cr0_0_0member = cr0_0;
      out_.c00_0_0member = c00_0;
      out_.c10_0_0member = c10_0;
      return out_;
    }
  }}

/* Flattened Modelica model:

function Modelica.Blocks.Continuous.Internal.Filter.coefficients.lowPass
discrete input Real cr_in[:] "Coefficients of real poles";
discrete input Real c0_in[:] "Coefficients of s^0 term if conjugate complex pole";
discrete input Real c1_in[size(c0_in, 1)] "Coefficients of s^1 term if conjugate complex pole";
discrete input Real f_cut(unit = "Hz") "Cut-off frequency";
discrete output Real cr[size(cr_in, 1)] "Coefficient of real pole";
discrete output Real c0[size(c0_in, 1)] "Coefficients of s^0 term if conjugate complex pole";
discrete output Real c1[size(c0_in, 1)] "Coefficients of s^1 term if conjugate complex pole";
protected 
discrete Real w_cut(start = 6.283185307179586*f_cut, unit = "rad/s") "Cut-off angular frequency";
discrete Real w_cut2(start = w_cut*w_cut);
public 
algorithm 
assert(f_cut > 0, "Cut-off frequency f_cut must be positive");
cr := w_cut*cr_in;
c1 := w_cut*c1_in;
c0 := w_cut2*c0_in;
end Modelica.Blocks.Continuous.Internal.Filter.coefficients.lowPass;

  */
DYMOLA_STATIC struct Modelica_Blocks_Continuous_Internal_Filter_coefficients_lowPass_struct
   Modelica_Blocks_Continuous_Internal_Filter_coefficients_lowPass(RealArray   
  crx_0in, RealArray   c0x_0in, RealArray   c1x_0in, double  fx_0cut) {
  PushContext("Modelica.Blocks.Continuous.Internal.Filter.coefficients.lowPass")
  AssertModelica(DYNSizeSimple(c1x_0in,1)==DYNSizeSimple(c0x_0in, 1),
    "size(c1_in, 1) == size(c0_in, 1)","Dimension check of input to function failed");
  {
    /* Declare outputs and temporaries */
    RealArray    cr0_0;
    RealArray    c00_0;
    RealArray    c10_0;
    double   wx_0cut;
    double   wx_0cut2;
    MarkObject retmark_ = PushMark();
    cr0_0=RealTemporary( 1, DYNSizeSimple(crx_0in, 1));
    RePushMark(&retmark_);
    RealFillAssign( cr0_0, 0);
    c00_0=RealTemporary( 1, DYNSizeSimple(c0x_0in, 1));
    RePushMark(&retmark_);
    RealFillAssign( c00_0, 0);
    c10_0=RealTemporary( 1, DYNSizeSimple(c0x_0in, 1));
    RePushMark(&retmark_);
    RealFillAssign( c10_0, 0);
    wx_0cut = 6.283185307179586*fx_0cut;
    wx_0cut2 = wx_0cut*wx_0cut;
    /* Start of real code */
      AssertModelica(fx_0cut > 0,"f_cut > 0", "Cut-off frequency f_cut must be positive");
      RealAssign (cr0_0, RealScale (crx_0in,wx_0cut));
      Release();
      RealAssign (c10_0, RealScale (c1x_0in,wx_0cut));
      Release();
      RealAssign (c00_0, RealScale (c0x_0in,wx_0cut2));
      Release();
    /* Output section */
    PopMark(retmark_);
    PopContext()
    {
      struct Modelica_Blocks_Continuous_Internal_Filter_coefficients_lowPass_struct out_;
      out_.cr0_0_0member = cr0_0;
      out_.c00_0_0member = c00_0;
      out_.c10_0_0member = c10_0;
      return out_;
    }
  }}

/* Flattened Modelica model:

function Modelica.Fluid.Pipes.BaseClasses.WallFriction.Detailed.Internal.m_flow_of_dp_fric
discrete input Real dp_fric(unit = "Pa", displayUnit = "bar") "Pressure loss due to friction (dp = port_a.p - port_b.p)";
discrete input Real rho_a(unit = "kg/m3", displayUnit = "g/cm3", min = 0.0) "Density at port_a";
discrete input Real rho_b(unit = "kg/m3", displayUnit = "g/cm3", min = 0.0) "Density at port_b";
discrete input Real mu_a(unit = "Pa.s", min = 0.0) "Dynamic viscosity at port_a (dummy if use_mu = false)";
discrete input Real mu_b(unit = "Pa.s", min = 0.0) "Dynamic viscosity at port_b (dummy if use_mu = false)";
discrete input Real length(unit = "m") "Length of pipe";
discrete input Real diameter(unit = "m", min = 0.0) "Inner (hydraulic) diameter of pipe";
discrete input Real crossArea(unit = "m2") "Inner cross section area";
discrete input Real Re1(unit = "1") "Boundary between laminar regime and transition";
discrete input Real Re2(unit = "1") "Boundary between transition and turbulent regime";
discrete input Real Delta "Relative roughness";
discrete output Real m_flow(unit = "kg/s") "Mass flow rate from port_a to port_b";
discrete output Real dm_flow_ddp_fric "Derivative of mass flow rate with dp_fric";
protected 
discrete Real mu(unit = "Pa.s", min = 0.0) "Upstream viscosity";
discrete Real rho(unit = "kg/m3", displayUnit = "g/cm3", min = 0.0) "Upstream density";
discrete Real lambda2 "Modified friction coefficient (= lambda*Re^2)";
discrete Real Re(unit = "1") "Reynolds number";
discrete Real dRe_ddp "dRe/ddp";
discrete Real aux1;
discrete Real aux2;
public 
algorithm 
if (dp_fric >= 0) then 
rho := rho_a;
mu := mu_a;
else
rho := rho_b;
mu := mu_b;
end if;
lambda2 := abs(dp_fric)*2*diameter^3*rho/(length*mu*mu);
aux1 := 2*diameter^3*rho/(length*mu^2);
Re := lambda2/64;
dRe_ddp := aux1/64;
if (Re > Re1) then 
Re :=  -2*sqrt(lambda2)*log10(2.51/sqrt(lambda2)+0.27*Delta);
aux2 := sqrt(aux1*abs(dp_fric));
dRe_ddp := 0.43429448190325176*(( -2*log(2.51/aux2+0.27*Delta)*aux1/(2*aux2))+5.02/(2*abs(dp_fric)*(2.51/aux2+0.27*Delta)));
if (Re < Re2) then 
(Re, dRe_ddp)  := Modelica.Fluid.Pipes.BaseClasses.WallFriction.Detailed.Internal.m_flow_of_dp_fric.interpolateInRegion2_withDerivative(lambda2, Re1, Re2, Delta, dp_fric);
end if;
end if;
m_flow := crossArea/diameter*mu*(if dp_fric >= 0 then Re else  -Re);
dm_flow_ddp_fric := crossArea/diameter*mu*dRe_ddp;
annotation(derivative=Modelica.Fluid.Pipes.BaseClasses.WallFriction.Detailed.Internal.m_flow_of_dp_fric:der, smoothOrder=1);
end Modelica.Fluid.Pipes.BaseClasses.WallFriction.Detailed.Internal.m_flow_of_dp_fric;

  */
DYMOLA_STATIC struct Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric_struct
   Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric
  (double  dpx_0fric, double  rhox_0a, double  rhox_0b, double  mux_0a, double  
  mux_0b, double  length0_0, double  diameter0_0, double  crossArea0_0, double  
  Re10_0, double  Re20_0, double  Delta0_0) {
  PushContext("Modelica.Fluid.Pipes.BaseClasses.WallFriction.Detailed.Internal.m_flow_of_dp_fric")
  {
    /* Declare outputs and temporaries */
    double   mx_0flow;
    double   dmx_0flowx_0ddpx_0fric;
    double   mu0_0;
    double   rho0_0;
    double   lambda20_0;
    double   Re0_0;
    double   dRex_0ddp;
    double   aux10_0;
    double   aux20_0;
    mx_0flow=0;
    dmx_0flowx_0ddpx_0fric=0;
    mu0_0=0;
    rho0_0=0;
    lambda20_0=0;
    Re0_0=0;
    dRex_0ddp=0;
    aux10_0=0;
    aux20_0=0;
    /* Start of real code */
      if (dpx_0fric >= 0) {
        rho0_0 = rhox_0a;
        mu0_0 = mux_0a;
      }
      else{
        rho0_0 = rhox_0b;
        mu0_0 = mux_0b;
      }
      lambda20_0 = divmacro(fabs(dpx_0fric)*2*powmacro2(diameter0_0,"diameter",3,
        "3")*rho0_0,"abs(dp_fric)*2*diameter^3*rho",length0_0*mu0_0*mu0_0,
        "length*mu*mu");
      aux10_0 = divmacro(2*powmacro2(diameter0_0,"diameter",3,"3")*rho0_0,
        "2*diameter^3*rho",length0_0*sqr(mu0_0),"length*mu^2");
      Re0_0 = lambda20_0/(double)(64);
      dRex_0ddp = aux10_0/(double)(64);
      if (Re0_0 > Re10_0) {
        Re0_0 =  -2*sqrtGuarded(lambda20_0,"lambda2")*log10Guarded(divmacro(2.51,
          "2.51",sqrtGuarded(lambda20_0,"lambda2"),"sqrt(lambda2)")+0.27*
          Delta0_0,"2.51/sqrt(lambda2)+0.27*Delta");
        aux20_0 = sqrtGuarded(aux10_0*fabs(dpx_0fric),"aux1*abs(dp_fric)");
        dRex_0ddp = 0.43429448190325176*(( -divmacro(2*logGuarded(divmacro(2.51,
          "2.51",aux20_0,"aux2")+0.27*Delta0_0,"2.51/aux2+0.27*Delta")*aux10_0,
          "2*log(2.51/aux2+0.27*Delta)*aux1",2*aux20_0,"2*aux2"))+divmacro(5.02,
          "5.02",2*fabs(dpx_0fric)*(divmacro(2.51,"2.51",aux20_0,"aux2")+0.27*
          Delta0_0),"2*abs(dp_fric)*(2.51/aux2+0.27*Delta)"));
        if (Re0_0 < Re20_0) {
          {
            struct Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric_interpolateInRegion2x_0withDerivative_struct
               dummy_mult_=Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric_interpolateInRegion2x_0withDerivative
              (lambda20_0, Re10_0, Re20_0, Delta0_0, dpx_0fric);
            Re0_0 = dummy_mult_.Re0_0_0member;
            dRex_0ddp = dummy_mult_.dRex_0ddp_0member;
          }
        }
      }
      mx_0flow = divmacro(crossArea0_0,"crossArea",diameter0_0,"diameter")*mu0_0
        *(IF dpx_0fric >= 0 THEN Re0_0 ELSE  -Re0_0);
      dmx_0flowx_0ddpx_0fric = divmacro(crossArea0_0,"crossArea",diameter0_0,
        "diameter")*mu0_0*dRex_0ddp;
    /* Output section */
    PopContext()
    {
      struct Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric_struct out_;
      out_.mx_0flow_0member = mx_0flow;
      out_.dmx_0flowx_0ddpx_0fric_0member = dmx_0flowx_0ddpx_0fric;
      return out_;
    }
  }}

/* Flattened Modelica model:

function Modelica.Fluid.Pipes.BaseClasses.WallFriction.Detailed.Internal.m_flow_of_dp_fric.interpolateInRegion2_withDerivative
discrete input Real lambda2 "Known independent variable";
discrete input Real Re1(unit = "1") "Boundary between laminar regime and transition";
discrete input Real Re2(unit = "1") "Boundary between transition and turbulent regime";
discrete input Real Delta "Relative roughness";
discrete input Real dp_fric(unit = "Pa", displayUnit = "bar") "Pressure loss due to friction (dp = port_a.p - port_b.p)";
discrete output Real Re(unit = "1") "Unknown return variable";
discrete output Real dRe_ddp "Derivative of return value";
protected 
discrete Real x1(start = log10(64*Re1));
discrete Real y1(start = log10(Re1));
discrete Real y1d(start = 1);
discrete Real aux2(start = Delta/3.7+5.74/Re2^0.9);
discrete Real aux3(start = log10(aux2));
discrete Real L2(start = 0.25*(Re2/aux3)^2);
discrete Real aux4(start = 2.51/sqrt(L2)+0.27*Delta);
discrete Real aux5(start = (-2.0)*(sqrt(L2)*log10(aux4)));
discrete Real x2(start = log10(L2));
discrete Real y2(start = log10(aux5));
discrete Real y2d(start = 0.5+1.0900791495771618/(aux5*aux4));
discrete Real x(start = log10(lambda2));
discrete Real y;
discrete Real dy_dx "Derivative in transformed space";
public 
algorithm 
(y, dy_dx)  := Modelica.Fluid.Utilities.cubicHermite_withDerivative(x, x1, x2, y1, y2, y1d, y2d);
Re := 10^y;
dRe_ddp := Re/abs(dp_fric)*dy_dx;
annotation(derivative=Modelica.Fluid.Pipes.BaseClasses.WallFriction.Detailed.Internal.m_flow_of_dp_fric.interpolateInRegion2_withDerivative:der, smoothOrder=1);
end Modelica.Fluid.Pipes.BaseClasses.WallFriction.Detailed.Internal.m_flow_of_dp_fric.interpolateInRegion2_withDerivative;

  */
DYMOLA_STATIC struct Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric_interpolateInRegion2x_0withDerivative_struct
   Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric_interpolateInRegion2x_0withDerivative
  (double  lambda20_0, double  Re10_0, double  Re20_0, double  Delta0_0, double 
   dpx_0fric) {
  PushContext("Modelica.Fluid.Pipes.BaseClasses.WallFriction.Detailed.Internal.m_flow_of_dp_fric.interpolateInRegion2_withDerivative")
  {
    /* Declare outputs and temporaries */
    double   Re0_0;
    double   dRex_0ddp;
    double   x10_0;
    double   y10_0;
    double   y1d0_0;
    double   aux20_0;
    double   aux30_0;
    double   L20_0;
    double   aux40_0;
    double   aux50_0;
    double   x20_0;
    double   y20_0;
    double   y2d0_0;
    double   x0_0;
    double   y0_0;
    double   dyx_0dx;
    Re0_0=0;
    dRex_0ddp=0;
    x10_0 = log10Guarded(64*Re10_0,"64*Re1");
    y10_0 = log10Guarded(Re10_0,"Re1");
    y1d0_0 = 1;
    aux20_0 = Delta0_0/(double)(3.7)+divmacro(5.74,"5.74",powmacro(Re20_0,"Re2",
      0.9,"0.9"),"Re2^0.9");
    aux30_0 = log10Guarded(aux20_0,"aux2");
    L20_0 = 0.25*sqr(divmacro(Re20_0,"Re2",aux30_0,"aux3"));
    aux40_0 = divmacro(2.51,"2.51",sqrtGuarded(L20_0,"L2"),"sqrt(L2)")+0.27*
      Delta0_0;
    aux50_0 = (-2.0)*sqrtGuarded(L20_0,"L2")*log10Guarded(aux40_0,"aux4");
    x20_0 = log10Guarded(L20_0,"L2");
    y20_0 = log10Guarded(aux50_0,"aux5");
    y2d0_0 = 0.5+divmacro(1.0900791495771618,"1.0900791495771618",aux50_0*
      aux40_0,"aux5*aux4");
    x0_0 = log10Guarded(lambda20_0,"lambda2");
    y0_0=0;
    dyx_0dx=0;
    /* Start of real code */
      {
        struct Modelica_Fluid_Utilities_cubicHermitex_0withDerivative_struct
           dummy_mult_=Modelica_Fluid_Utilities_cubicHermitex_0withDerivative(
          x0_0, x10_0, x20_0, y10_0, y20_0, y1d0_0, y2d0_0);
        y0_0 = dummy_mult_.y0_0_0member;
        dyx_0dx = dummy_mult_.dyx_0dx_0member;
      }
      Re0_0 = powmacro(10,"10",y0_0,"y");
      dRex_0ddp = divmacro(Re0_0,"Re",fabs(dpx_0fric),"abs(dp_fric)")*dyx_0dx;
    /* Output section */
    PopContext()
    {
      struct Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric_interpolateInRegion2x_0withDerivative_struct out_;
      out_.Re0_0_0member = Re0_0;
      out_.dRex_0ddp_0member = dRex_0ddp;
      return out_;
    }
  }}

/* Flattened Modelica model:

function Modelica.Fluid.Pipes.BaseClasses.WallFriction.Detailed.Internal.m_flow_of_dp_fric:der
discrete input Real dp_fric;
discrete input Real rho_a;
discrete input Real rho_b;
discrete input Real mu_a;
discrete input Real mu_b;
discrete input Real length;
discrete input Real diameter;
discrete input Real crossArea;
discrete input Real Re1;
discrete input Real Re2;
discrete input Real Delta;
protected 
discrete Real m_flow;
discrete Real dm_flow_ddp_fric;
discrete Real mu;
discrete Real rho;
discrete Real lambda2;
discrete Real Re;
discrete Real dRe_ddp;
discrete Real aux1;
discrete Real aux2;
public 
discrete input Real dp_fric_der;
discrete input Real rho_a_der;
discrete input Real rho_b_der;
discrete input Real mu_a_der;
discrete input Real mu_b_der;
discrete input Real length_der;
discrete input Real diameter_der;
discrete input Real crossArea_der;
discrete input Real Re1_der;
discrete input Real Re2_der;
discrete input Real Delta_der;
discrete output Real m_flow_der;
discrete output Real dm_flow_ddp_fric_der;
protected 
discrete Real mu_der;
discrete Real rho_der;
discrete Real lambda2_der;
discrete Real Re_der;
discrete Real dRe_ddp_der;
discrete Real aux1_der;
discrete Real aux2_der;
public 
algorithm 
if (dp_fric >= 0) then 
rho_der := rho_a_der;
rho := rho_a;
mu_der := mu_a_der;
mu := mu_a;
else
rho_der := rho_b_der;
rho := rho_b;
mu_der := mu_b_der;
mu := mu_b;
end if;
lambda2_der := 2.0*((dp_fric_der*noEvent((if dp_fric > 0 then 1 else -1))*diameter^3+3.0*(abs(dp_fric)*(diameter^2*diameter_der)))*rho+abs(dp_fric)*diameter^3*rho_der)/(length*mu*mu)-2.0*(abs(dp_fric)*diameter^3*rho*((length_der*mu+length*mu_der)*mu+length*mu*mu_der))/(length*mu*mu)^2;
lambda2 := 2.0*(abs(dp_fric)*diameter^3*rho)/(length*mu*mu);
aux1_der := 2.0*(3.0*(diameter^2*diameter_der*rho)+diameter^3*rho_der)/(length*mu^2)-2.0*(diameter^3*rho*(length_der*mu^2+2.0*(length*(mu*mu_der))))/(length*mu^2)^2;
aux1 := 2.0*(diameter^3*rho)/(length*mu^2);
Re_der := 0.015625*lambda2_der;
Re := 0.015625*lambda2;
dRe_ddp_der := 0.015625*aux1_der;
dRe_ddp := 0.015625*aux1;
if (Re > Re1) then 
Re_der := (-2.0)*(0.5*(lambda2_der*log10(2.51/sqrt(lambda2)+0.27*Delta))/sqrt(lambda2)+sqrt(lambda2)*(0.27*Delta_der-1.255*lambda2_der/sqrt(lambda2)/sqrt(lambda2)^2)/(2.302585092994046*(2.51/sqrt(lambda2)+0.27*Delta)));
Re := (-2.0)*(sqrt(lambda2)*log10(2.51/sqrt(lambda2)+0.27*Delta));
aux2_der := 0.5*(aux1_der*abs(dp_fric)+aux1*(dp_fric_der*noEvent((if dp_fric > 0 then 1 else -1))))/sqrt(aux1*abs(dp_fric));
aux2 := sqrt(aux1*abs(dp_fric));
dRe_ddp_der := (-0.43429448190325176)*(10.04*(dp_fric_der*noEvent((if dp_fric > 0 then 1 else -1))*(2.51/aux2+0.27*Delta)+abs(dp_fric)*(0.27*Delta_der-2.51*aux2_der/aux2^2))/(2.0*(abs(dp_fric)*(2.51/aux2+0.27*Delta)))^2+2.0*((0.27*Delta_der-2.51*aux2_der/aux2^2)*aux1/(2.51/aux2+0.27*Delta)+log(2.51/aux2+0.27*Delta)*aux1_der)/(2*aux2)-4.0*(log(2.51/aux2+0.27*Delta)*aux1*aux2_der)/(2*aux2)^2);
dRe_ddp := 0.43429448190325176*(5.02/(2.0*(abs(dp_fric)*(2.51/aux2+0.27*Delta)))-2.0*(log(2.51/aux2+0.27*Delta)*aux1)/(2*aux2));
if (Re < Re2) then 
(Re_der, dRe_ddp_der)  := Modelica.Fluid.Pipes.BaseClasses.WallFriction.Detailed.Internal.m_flow_of_dp_fric.interpolateInRegion2_withDerivative:der(lambda2, Re1, Re2, Delta, dp_fric, lambda2_der, Re1_der, Re2_der, Delta_der, dp_fric_der);
(Re, dRe_ddp)  := Modelica.Fluid.Pipes.BaseClasses.WallFriction.Detailed.Internal.m_flow_of_dp_fric.interpolateInRegion2_withDerivative(lambda2, Re1, Re2, Delta, dp_fric);
end if;
end if;
m_flow_der := ((crossArea_der*mu+crossArea*mu_der)*(if dp_fric >= 0 then Re else  -Re)+crossArea*mu*(if dp_fric >= 0 then Re_der else  -Re_der))/diameter-crossArea*mu*(if dp_fric >= 0 then Re else  -Re)*diameter_der/diameter^2;
m_flow := crossArea*mu*(if dp_fric >= 0 then Re else  -Re)/diameter;
dm_flow_ddp_fric_der := ((crossArea_der*mu+crossArea*mu_der)*dRe_ddp+crossArea*mu*dRe_ddp_der)/diameter-crossArea*mu*dRe_ddp*diameter_der/diameter^2;
annotation(smoothOrder=0);
end Modelica.Fluid.Pipes.BaseClasses.WallFriction.Detailed.Internal.m_flow_of_dp_fric:der;

  */
DYMOLA_STATIC struct Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric__der_struct
   Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric__der
  (double  dpx_0fric, double  rhox_0a, double  rhox_0b, double  mux_0a, double  
  mux_0b, double  length0_0, double  diameter0_0, double  crossArea0_0, double  
  Re10_0, double  Re20_0, double  Delta0_0, double  dpx_0fricx_0der, double  
  rhox_0ax_0der, double  rhox_0bx_0der, double  mux_0ax_0der, double  
  mux_0bx_0der, double  lengthx_0der, double  diameterx_0der, double  
  crossAreax_0der, double  Re1x_0der, double  Re2x_0der, double  Deltax_0der) {
  PushContext("Modelica.Fluid.Pipes.BaseClasses.WallFriction.Detailed.Internal.m_flow_of_dp_fric:der")
  {
    /* Declare outputs and temporaries */
    double   mx_0flow;
    double   dmx_0flowx_0ddpx_0fric;
    double   mu0_0;
    double   rho0_0;
    double   lambda20_0;
    double   Re0_0;
    double   dRex_0ddp;
    double   aux10_0;
    double   aux20_0;
    double   mx_0flowx_0der;
    double   dmx_0flowx_0ddpx_0fricx_0der;
    double   mux_0der;
    double   rhox_0der;
    double   lambda2x_0der;
    double   Rex_0der;
    double   dRex_0ddpx_0der;
    double   aux1x_0der;
    double   aux2x_0der;
    mx_0flow=0;
    dmx_0flowx_0ddpx_0fric=0;
    mu0_0=0;
    rho0_0=0;
    lambda20_0=0;
    Re0_0=0;
    dRex_0ddp=0;
    aux10_0=0;
    aux20_0=0;
    mx_0flowx_0der=0;
    dmx_0flowx_0ddpx_0fricx_0der=0;
    mux_0der=0;
    rhox_0der=0;
    lambda2x_0der=0;
    Rex_0der=0;
    dRex_0ddpx_0der=0;
    aux1x_0der=0;
    aux2x_0der=0;
    /* Start of real code */
      if (dpx_0fric >= 0) {
        rhox_0der = rhox_0ax_0der;
        rho0_0 = rhox_0a;
        mux_0der = mux_0ax_0der;
        mu0_0 = mux_0a;
      }
      else{
        rhox_0der = rhox_0bx_0der;
        rho0_0 = rhox_0b;
        mux_0der = mux_0bx_0der;
        mu0_0 = mux_0b;
      }
      /* Introducing 11 common subexpressions used in 9 expressions */
      /* Of the common subexpressions 11 are reals, 0 are integers, and 0
         are booleans. */

      { double helpvarF[11];
      DYNX(helpvarF,0) = powmacro2(diameter0_0,"diameter",3,"3");
      DYNX(helpvarF,1) = fabs(dpx_0fric);
      DYNX(helpvarF,2) = dpx_0fricx_0der*(IF dpx_0fric > 0 THEN 1 ELSE -1)*
        DYNX(helpvarF,0)+3.0*DYNX(helpvarF,1)*sqr(diameter0_0)*diameterx_0der;
      DYNX(helpvarF,3) = DYNX(helpvarF,1)*DYNX(helpvarF,0);
      DYNX(helpvarF,4) = length0_0*mu0_0;
      DYNX(helpvarF,5) = DYNX(helpvarF,4)*mu0_0;
      DYNX(helpvarF,6) = divmacro(1.0,"1.0",DYNX(helpvarF,5),"length*mu*mu");
      DYNX(helpvarF,7) = (lengthx_0der*mu0_0+length0_0*mux_0der)*mu0_0;
      DYNX(helpvarF,8) = DYNX(helpvarF,4)*mux_0der;
      DYNX(helpvarF,9) = sqr(DYNX(helpvarF,5));
      DYNX(helpvarF,10) = divmacro(1.0,"1.0",DYNX(helpvarF,9),"(length*mu*mu)^2");
      lambda2x_0der = DYNX(helpvarF,6)*2.0*(DYNX(helpvarF,2)*rho0_0+
        DYNX(helpvarF,3)*rhox_0der)-DYNX(helpvarF,10)*2.0*DYNX(helpvarF,3)*
        rho0_0*(DYNX(helpvarF,7)+DYNX(helpvarF,8));
      }
      lambda20_0 = divmacro(2.0*fabs(dpx_0fric)*powmacro2(diameter0_0,"diameter",3,
        "3")*rho0_0,"2.0*(abs(dp_fric)*diameter^3*rho)",length0_0*mu0_0*mu0_0,
        "length*mu*mu");
      aux1x_0der = divmacro(2.0*(3.0*sqr(diameter0_0)*diameterx_0der*rho0_0+
        powmacro2(diameter0_0,"diameter",3,"3")*rhox_0der),"2.0*(3.0*(diameter^2*diameter_der*rho)+diameter^3*rho_der)",
        length0_0*sqr(mu0_0),"length*mu^2")-divmacro(2.0*powmacro2(diameter0_0,
        "diameter",3,"3")*rho0_0*(lengthx_0der*sqr(mu0_0)+2.0*length0_0*mu0_0*
        mux_0der),"2.0*(diameter^3*rho*(length_der*mu^2+2.0*(length*(mu*mu_der))))",
        sqr(length0_0*sqr(mu0_0)),"(length*mu^2)^2");
      aux10_0 = divmacro(2.0*powmacro2(diameter0_0,"diameter",3,"3")*rho0_0,
        "2.0*(diameter^3*rho)",length0_0*sqr(mu0_0),"length*mu^2");
      Rex_0der = 0.015625*lambda2x_0der;
      Re0_0 = 0.015625*lambda20_0;
      dRex_0ddpx_0der = 0.015625*aux1x_0der;
      dRex_0ddp = 0.015625*aux10_0;
      if (Re0_0 > Re10_0) {
        Rex_0der = (-2.0)*(divmacro(0.5*lambda2x_0der*log10Guarded(divmacro(2.51,
          "2.51",sqrtGuarded(lambda20_0,"lambda2"),"sqrt(lambda2)")+0.27*
          Delta0_0,"2.51/sqrt(lambda2)+0.27*Delta"),"0.5*(lambda2_der*log10(2.51/sqrt(lambda2)+0.27*Delta))",
          sqrtGuarded(lambda20_0,"lambda2"),"sqrt(lambda2)")+divmacro(
          sqrtGuarded(lambda20_0,"lambda2")*(0.27*Deltax_0der-divmacro(divmacro(
          1.255*lambda2x_0der,"1.255*lambda2_der",sqrtGuarded(lambda20_0,
          "lambda2"),"sqrt(lambda2)"),"1.255*lambda2_der/sqrt(lambda2)",sqr(
          sqrtGuarded(lambda20_0,"lambda2")),"sqrt(lambda2)^2")),
          "sqrt(lambda2)*(0.27*Delta_der-1.255*lambda2_der/sqrt(lambda2)/sqrt(lambda2)^2)",
          2.302585092994046*(divmacro(2.51,"2.51",sqrtGuarded(lambda20_0,
          "lambda2"),"sqrt(lambda2)")+0.27*Delta0_0),"2.302585092994046*(2.51/sqrt(lambda2)+0.27*Delta)"));
        Re0_0 = (-2.0)*sqrtGuarded(lambda20_0,"lambda2")*log10Guarded(divmacro(
          2.51,"2.51",sqrtGuarded(lambda20_0,"lambda2"),"sqrt(lambda2)")+0.27*
          Delta0_0,"2.51/sqrt(lambda2)+0.27*Delta");
        aux2x_0der = divmacro(0.5*(aux1x_0der*fabs(dpx_0fric)+aux10_0*
          dpx_0fricx_0der*(IF dpx_0fric > 0 THEN 1 ELSE -1)),"0.5*(aux1_der*abs(dp_fric)+aux1*(dp_fric_der*noEvent((if dp_fric > 0 then 1 else -1))))",
          sqrtGuarded(aux10_0*fabs(dpx_0fric),"aux1*abs(dp_fric)"),
          "sqrt(aux1*abs(dp_fric))");
        aux20_0 = sqrtGuarded(aux10_0*fabs(dpx_0fric),"aux1*abs(dp_fric)");
        /* Introducing 19 common subexpressions used in 18 expressions */
        /* Of the common subexpressions 19 are reals, 0 are integers, and 0
           are booleans. */

        { double helpvarF[19];
        DYNX(helpvarF,0) = divmacro(1.0,"1.0",aux20_0,"aux2");
        DYNX(helpvarF,1) = DYNX(helpvarF,0)*2.51+0.27*Delta0_0;
        DYNX(helpvarF,2) = dpx_0fricx_0der*(IF dpx_0fric > 0 THEN 1 ELSE -1)*
          DYNX(helpvarF,1);
        DYNX(helpvarF,3) = fabs(dpx_0fric);
        DYNX(helpvarF,4) = sqr(aux20_0);
        DYNX(helpvarF,5) = divmacro(1.0,"1.0",DYNX(helpvarF,4),"aux2^2");
        DYNX(helpvarF,6) = 0.27*Deltax_0der-DYNX(helpvarF,5)*2.51*aux2x_0der;
        DYNX(helpvarF,7) = DYNX(helpvarF,3)*DYNX(helpvarF,6);
        DYNX(helpvarF,8) = DYNX(helpvarF,3)*DYNX(helpvarF,1);
        DYNX(helpvarF,9) = sqr(2.0*DYNX(helpvarF,8));
        DYNX(helpvarF,10) = divmacro(1.0,"1.0",DYNX(helpvarF,9),"(2.0*(abs(dp_fric)*(2.51/aux2+0.27*Delta)))^2");
        DYNX(helpvarF,11) = divmacro(1.0,"1.0",DYNX(helpvarF,1),"2.51/aux2+0.27*Delta");
        DYNX(helpvarF,12) = logGuarded(DYNX(helpvarF,1),"2.51/aux2+0.27*Delta");
        DYNX(helpvarF,13) = DYNX(helpvarF,11)*DYNX(helpvarF,6)*aux10_0+
          DYNX(helpvarF,12)*aux1x_0der;
        DYNX(helpvarF,14) = 2*aux20_0;
        DYNX(helpvarF,15) = divmacro(1.0,"1.0",DYNX(helpvarF,14),"2*aux2");
        DYNX(helpvarF,16) = DYNX(helpvarF,12)*aux10_0*aux2x_0der;
        DYNX(helpvarF,17) = sqr(DYNX(helpvarF,14));
        DYNX(helpvarF,18) = divmacro(1.0,"1.0",DYNX(helpvarF,17),"(2*aux2)^2");
        dRex_0ddpx_0der = (-0.43429448190325176)*(DYNX(helpvarF,10)*10.04*(
          DYNX(helpvarF,2)+DYNX(helpvarF,7))+DYNX(helpvarF,15)*2.0*
          DYNX(helpvarF,13)-DYNX(helpvarF,18)*4.0*DYNX(helpvarF,16));
        }
        dRex_0ddp = 0.43429448190325176*(divmacro(5.02,"5.02",2.0*fabs(dpx_0fric)
          *(divmacro(2.51,"2.51",aux20_0,"aux2")+0.27*Delta0_0),"2.0*(abs(dp_fric)*(2.51/aux2+0.27*Delta))")
          -divmacro(2.0*logGuarded(divmacro(2.51,"2.51",aux20_0,"aux2")+0.27*
          Delta0_0,"2.51/aux2+0.27*Delta")*aux10_0,"2.0*(log(2.51/aux2+0.27*Delta)*aux1)",2
          *aux20_0,"2*aux2"));
        if (Re0_0 < Re20_0) {
          {
            struct Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric_interpolateInRegion2x_0withDerivative__der_struct
               dummy_mult_=Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric_interpolateInRegion2x_0withDerivative__der
              (lambda20_0, Re10_0, Re20_0, Delta0_0, dpx_0fric, lambda2x_0der, 
              Re1x_0der, Re2x_0der, Deltax_0der, dpx_0fricx_0der);
            Rex_0der = dummy_mult_.Rex_0der_0member;
            dRex_0ddpx_0der = dummy_mult_.dRex_0ddpx_0der_0member;
          }
          {
            struct Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric_interpolateInRegion2x_0withDerivative_struct
               dummy_mult_=Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric_interpolateInRegion2x_0withDerivative
              (lambda20_0, Re10_0, Re20_0, Delta0_0, dpx_0fric);
            Re0_0 = dummy_mult_.Re0_0_0member;
            dRex_0ddp = dummy_mult_.dRex_0ddp_0member;
          }
        }
      }
      mx_0flowx_0der = divmacro((crossAreax_0der*mu0_0+crossArea0_0*mux_0der)*(
        IF dpx_0fric >= 0 THEN Re0_0 ELSE  -Re0_0)+crossArea0_0*mu0_0*(IF 
        dpx_0fric >= 0 THEN Rex_0der ELSE  -Rex_0der),"(crossArea_der*mu+crossArea*mu_der)*(if dp_fric >= 0 then Re else  -Re)+crossArea*mu*(if dp_fric >= 0 then Re_der else  -Re_der)",
        diameter0_0,"diameter")-divmacro(crossArea0_0*mu0_0*(IF dpx_0fric >= 0
         THEN Re0_0 ELSE  -Re0_0)*diameterx_0der,"crossArea*mu*(if dp_fric >= 0 then Re else  -Re)*diameter_der",
        sqr(diameter0_0),"diameter^2");
      mx_0flow = divmacro(crossArea0_0*mu0_0*(IF dpx_0fric >= 0 THEN Re0_0 ELSE 
         -Re0_0),"crossArea*mu*(if dp_fric >= 0 then Re else  -Re)",diameter0_0,
        "diameter");
      dmx_0flowx_0ddpx_0fricx_0der = divmacro((crossAreax_0der*mu0_0+
        crossArea0_0*mux_0der)*dRex_0ddp+crossArea0_0*mu0_0*dRex_0ddpx_0der,
        "(crossArea_der*mu+crossArea*mu_der)*dRe_ddp+crossArea*mu*dRe_ddp_der",
        diameter0_0,"diameter")-divmacro(crossArea0_0*mu0_0*dRex_0ddp*
        diameterx_0der,"crossArea*mu*dRe_ddp*diameter_der",sqr(diameter0_0),
        "diameter^2");
    /* Output section */
    PopContext()
    {
      struct Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric__der_struct out_;
      out_.mx_0flowx_0der_0member = mx_0flowx_0der;
      out_.dmx_0flowx_0ddpx_0fricx_0der_0member = dmx_0flowx_0ddpx_0fricx_0der;
      return out_;
    }
  }}

/* Flattened Modelica model:

function Modelica.Fluid.Utilities.cubicHermite_withDerivative
discrete input Real x "Abscissa value";
discrete input Real x1 "Lower abscissa value";
discrete input Real x2 "Upper abscissa value";
discrete input Real y1 "Lower ordinate value";
discrete input Real y2 "Upper ordinate value";
discrete input Real y1d "Lower gradient";
discrete input Real y2d "Upper gradient";
discrete output Real y "Interpolated ordinate value";
discrete output Real dy_dx "Derivative dy/dx at abscissa value x";
protected 
discrete Real h "Distance between x1 and x2";
discrete Real t "abscissa scaled with h, i.e., t=[0..1] within x=[x1..x2]";
discrete Real h00 "Basis function 00 of cubic Hermite spline";
discrete Real h10 "Basis function 10 of cubic Hermite spline";
discrete Real h01 "Basis function 01 of cubic Hermite spline";
discrete Real h11 "Basis function 11 of cubic Hermite spline";
discrete Real h00d "d/dt h00";
discrete Real h10d "d/dt h10";
discrete Real h01d "d/dt h01";
discrete Real h11d "d/dt h11";
discrete Real aux3 "t cube";
discrete Real aux2 "t square";
public 
algorithm 
h := x2-x1;
if (abs(h) > 0) then 
t := (x-x1)/h;
aux3 := t^3;
aux2 := t^2;
h00 := 2*aux3-3*aux2+1;
h10 := aux3-2*aux2+t;
h01 := ( -2*aux3)+3*aux2;
h11 := aux3-aux2;
h00d := 6*(aux2-t);
h10d := 3*aux2-4*t+1;
h01d := 6*(t-aux2);
h11d := 3*aux2-2*t;
y := y1*h00+h*y1d*h10+y2*h01+h*y2d*h11;
dy_dx := y1*h00d/h+y1d*h10d+y2*h01d/h+y2d*h11d;
else
y := (y1+y2)/2;
dy_dx := noEvent((if y2-y1 > 0 then 1 else (if y2-y1 < 0 then -1 else 0)))*1E+60;
end if;
annotation(derivative=Modelica.Fluid.Utilities.cubicHermite_withDerivative:der, smoothOrder=3);
end Modelica.Fluid.Utilities.cubicHermite_withDerivative;

  */
DYMOLA_STATIC struct Modelica_Fluid_Utilities_cubicHermitex_0withDerivative_struct
   Modelica_Fluid_Utilities_cubicHermitex_0withDerivative(double  x0_0, double  
  x10_0, double  x20_0, double  y10_0, double  y20_0, double  y1d0_0, double  
  y2d0_0) {
  PushContext("Modelica.Fluid.Utilities.cubicHermite_withDerivative")
  {
    /* Declare outputs and temporaries */
    double   y0_0;
    double   dyx_0dx;
    double   h0_0;
    double   t0_0;
    double   h000_0;
    double   h100_0;
    double   h010_0;
    double   h110_0;
    double   h00d0_0;
    double   h10d0_0;
    double   h01d0_0;
    double   h11d0_0;
    double   aux30_0;
    double   aux20_0;
    y0_0=0;
    dyx_0dx=0;
    h0_0=0;
    t0_0=0;
    h000_0=0;
    h100_0=0;
    h010_0=0;
    h110_0=0;
    h00d0_0=0;
    h10d0_0=0;
    h01d0_0=0;
    h11d0_0=0;
    aux30_0=0;
    aux20_0=0;
    /* Start of real code */
      h0_0 = x20_0-x10_0;
      if (fabs(h0_0) > 0) {
        t0_0 = divmacro(x0_0-x10_0,"x-x1",h0_0,"h");
        aux30_0 = powmacro2(t0_0,"t",3,"3");
        aux20_0 = sqr(t0_0);
        h000_0 = 2*aux30_0-3*aux20_0+1;
        h100_0 = aux30_0-2*aux20_0+t0_0;
        h010_0 = ( -2*aux30_0)+3*aux20_0;
        h110_0 = aux30_0-aux20_0;
        h00d0_0 = 6*(aux20_0-t0_0);
        h10d0_0 = 3*aux20_0-4*t0_0+1;
        h01d0_0 = 6*(t0_0-aux20_0);
        h11d0_0 = 3*aux20_0-2*t0_0;
        y0_0 = y10_0*h000_0+h0_0*y1d0_0*h100_0+y20_0*h010_0+h0_0*y2d0_0*h110_0;
        dyx_0dx = divmacro(y10_0*h00d0_0,"y1*h00d",h0_0,"h")+y1d0_0*h10d0_0+
          divmacro(y20_0*h01d0_0,"y2*h01d",h0_0,"h")+y2d0_0*h11d0_0;
      }
      else{
        y0_0 = (y10_0+y20_0)/(double)(2);
        dyx_0dx = (IF y20_0-y10_0 > 0 THEN 1 ELSE IF y20_0-y10_0 < 0 THEN -1
           ELSE 0)*1E+60;
      }
    /* Output section */
    PopContext()
    {
      struct Modelica_Fluid_Utilities_cubicHermitex_0withDerivative_struct out_;
      out_.y0_0_0member = y0_0;
      out_.dyx_0dx_0member = dyx_0dx;
      return out_;
    }
  }}

/* Flattened Modelica model:

function Modelica.Fluid.Utilities.evaluatePoly3_derivativeAtZero
discrete input Real x "Value for which polynomial shall be evaluated";
discrete input Real x1 "Abscissa value";
discrete input Real y1 "y1=f(x1)";
discrete input Real y1d "First derivative at y1";
discrete input Real y0d "First derivative at f(x=0)";
discrete output Real y;
protected 
discrete Real a1;
discrete Real a2;
discrete Real a3;
discrete Real xx;
public 
algorithm 
a1 := x1*y0d;
a2 := 3*y1-x1*y1d-2*a1;
a3 := y1-a2-a1;
xx := x/x1;
y := xx*(a1+xx*(a2+xx*a3));
annotation(derivative=Modelica.Fluid.Utilities.evaluatePoly3_derivativeAtZero:der, smoothOrder=3);
end Modelica.Fluid.Utilities.evaluatePoly3_derivativeAtZero;

  */
DYMOLA_STATIC double   Modelica_Fluid_Utilities_evaluatePoly3x_0derivativeAtZero
  (double  x0_0, double  x10_0, double  y10_0, double  y1d0_0, double  y0d0_0) {
  PushContext("Modelica.Fluid.Utilities.evaluatePoly3_derivativeAtZero")
  {
    /* Declare outputs and temporaries */
    double   y0_0;
    double   a10_0;
    double   a20_0;
    double   a30_0;
    double   xx0_0;
    y0_0=0;
    a10_0=0;
    a20_0=0;
    a30_0=0;
    xx0_0=0;
    /* Start of real code */
      a10_0 = x10_0*y0d0_0;
      a20_0 = 3*y10_0-x10_0*y1d0_0-2*a10_0;
      a30_0 = y10_0-a20_0-a10_0;
      xx0_0 = divmacro(x0_0,"x",x10_0,"x1");
      y0_0 = xx0_0*(a10_0+xx0_0*(a20_0+xx0_0*a30_0));
    /* Output section */
    PopContext()
    return y0_0;
  }}

/* Flattened Modelica model:

function Modelica.Fluid.Utilities.evaluatePoly3_derivativeAtZero:der
discrete input Real x;
discrete input Real x1;
discrete input Real y1;
discrete input Real y1d;
discrete input Real y0d;
protected 
discrete Real y;
discrete Real a1;
discrete Real a2;
discrete Real a3;
discrete Real xx;
public 
discrete input Real x_der;
discrete input Real x1_der;
discrete input Real y1_der;
discrete input Real y1d_der;
discrete input Real y0d_der;
discrete output Real y_der;
protected 
discrete Real a1_der;
discrete Real a2_der;
discrete Real a3_der;
discrete Real xx_der;
public 
algorithm 
a1_der := x1_der*y0d+x1*y0d_der;
a1 := x1*y0d;
a2_der := 3*y1_der-(x1_der*y1d+x1*y1d_der)-2*a1_der;
a2 := 3*y1-x1*y1d-2*a1;
a3_der := y1_der-a2_der-a1_der;
a3 := y1-a2-a1;
xx_der := x_der/x1-x*x1_der/x1^2;
xx := x/x1;
y_der := xx_der*(a1+xx*(a2+xx*a3))+xx*(a1_der+xx_der*(a2+xx*a3)+xx*(a2_der+xx_der*a3+xx*a3_der));
annotation(smoothOrder=2);
end Modelica.Fluid.Utilities.evaluatePoly3_derivativeAtZero:der;

  */
DYMOLA_STATIC double   Modelica_Fluid_Utilities_evaluatePoly3x_0derivativeAtZero__der
  (double  x0_0, double  x10_0, double  y10_0, double  y1d0_0, double  y0d0_0, 
  double  xx_0der, double  x1x_0der, double  y1x_0der, double  y1dx_0der, double 
   y0dx_0der) {
  PushContext("Modelica.Fluid.Utilities.evaluatePoly3_derivativeAtZero:der")
  {
    /* Declare outputs and temporaries */
    double   y0_0;
    double   a10_0;
    double   a20_0;
    double   a30_0;
    double   xx0_0;
    double   yx_0der;
    double   a1x_0der;
    double   a2x_0der;
    double   a3x_0der;
    double   xxx_0der;
    y0_0=0;
    a10_0=0;
    a20_0=0;
    a30_0=0;
    xx0_0=0;
    yx_0der=0;
    a1x_0der=0;
    a2x_0der=0;
    a3x_0der=0;
    xxx_0der=0;
    /* Start of real code */
      a1x_0der = x1x_0der*y0d0_0+x10_0*y0dx_0der;
      a10_0 = x10_0*y0d0_0;
      a2x_0der = 3*y1x_0der-(x1x_0der*y1d0_0+x10_0*y1dx_0der)-2*a1x_0der;
      a20_0 = 3*y10_0-x10_0*y1d0_0-2*a10_0;
      a3x_0der = y1x_0der-a2x_0der-a1x_0der;
      a30_0 = y10_0-a20_0-a10_0;
      xxx_0der = divmacro(xx_0der,"x_der",x10_0,"x1")-divmacro(x0_0*x1x_0der,
        "x*x1_der",sqr(x10_0),"x1^2");
      xx0_0 = divmacro(x0_0,"x",x10_0,"x1");
      yx_0der = xxx_0der*(a10_0+xx0_0*(a20_0+xx0_0*a30_0))+xx0_0*(a1x_0der+
        xxx_0der*(a20_0+xx0_0*a30_0)+xx0_0*(a2x_0der+xxx_0der*a30_0+xx0_0*
        a3x_0der));
    /* Output section */
    PopContext()
    return yx_0der;
  }}

/* Flattened Modelica model:

function Modelica.Fluid.Utilities.regFun3
discrete input Real x "Abscissa value";
discrete input Real x0 "Lower abscissa value";
discrete input Real x1 "Upper abscissa value";
discrete input Real y0 "Ordinate value at lower abscissa value";
discrete input Real y1 "Ordinate value at upper abscissa value";
discrete input Real y0d "Derivative at lower abscissa value";
discrete input Real y1d "Derivative at upper abscissa value";
discrete output Real y "Ordinate value";
discrete output Real c "Slope of linear section between two cubic polynomials or dummy linear section slope if single cubic is used";
protected 
discrete Real h0 "Width of interval i=0";
discrete Real Delta0 "Slope of secant on interval i=0";
discrete Real xstar "Inflection point of cubic polynomial S0";
discrete Real mu "Distance of inflection point and left limit x0";
discrete Real eta "Distance of right limit x1 and inflection point";
discrete Real omega "Slope of cubic polynomial S0 at inflection point";
discrete Real rho "Weighting factor of eta and eta_tilde, mu and mu_tilde";
discrete Real theta0 "Slope metric";
discrete Real mu_tilde "Distance of start of linear section and left limit x0";
discrete Real eta_tilde "Distance of right limit x1 and end of linear section";
discrete Real xi1 "Start of linear section";
discrete Real xi2 "End of linear section";
discrete Real a1 "Leading coefficient of cubic on the left";
discrete Real a2 "Leading coefficient of cubic on the right";
discrete Real const12 "Integration constant of left cubic, linear section";
discrete Real const3 "Integration constant of right cubic";
discrete Real aux01;
discrete Real aux02;
Boolean useSingleCubicPolynomial(start = false) "Indicate to override further logic and use single cubic";
public 
algorithm 
assert(x0 < x1, "regFun3(): Data points not sorted appropriately (x0 = "+       String(x0, true, 0)+" > x1 = "+       String(x1, true, 0)+"). Please flip arguments.");
if (y0d*y1d >= 0) then 
// No equations
else
assert(abs(y0d) < 1E-15 or abs(y1d) < 1E-15, "regFun3(): Derivatives at data points do not allow co-monotone interpolation, as both are non-zero, of opposite sign and have an absolute value larger than machine eps (y0d = "+       String(y0d, true, 0)+", y1d = "+       String(y1d, true, 0)+"). Please correct arguments.");
end if;
h0 := x1-x0;
Delta0 := (y1-y0)/h0;
if (abs(Delta0) <= 0) then 
y := y0+Delta0*(x-x0);
c := 0;
elseif (abs(y1d+y0d-2*Delta0) < 1E-13) then 
y := y0+(x-x0)*(y0d+(x-x0)/h0*(( -2*y0d)-y1d+3*Delta0+(x-x0)*(y0d+y1d-2*Delta0)/h0));
aux01 := (x0+x1)/2;
c := 3*(y0d+y1d-2*Delta0)*(aux01-x0)^2/h0^2+2*(( -2*y0d)-y1d+3*Delta0)*(aux01-x0)/h0+y0d;
else
xstar := 0.3333333333333333*(( -3*x0*y0d)-3*x0*y1d+6*x0*Delta0-2*h0*y0d-h0*y1d+3*h0*Delta0)/(( -y0d)-y1d+2*Delta0);
mu := xstar-x0;
eta := x1-xstar;
omega := 3*(y0d+y1d-2*Delta0)*(xstar-x0)^2/h0^2+2*(( -2*y0d)-y1d+3*Delta0)*(xstar-x0)/h0+y0d;
aux01 := 0.25*noEvent((if Delta0 > 0 then 1 else (if Delta0 < 0 then -1 else 0)))*min(abs(omega), abs(Delta0));
if (abs(y0d-y1d) <= 1E-13) then 
aux02 := y0d;
if (y1 > y0+y0d*(x1-x0)) then 
useSingleCubicPolynomial := true;
end if;
elseif (abs(y1d+y0d-2*Delta0) < 1E-13) then 
aux02 := (6*Delta0*(y1d+y0d-1.5*Delta0)-y1d*y0d-y1d^2-y0d^2)*(if y1d+y0d-2*Delta0 >= 0 then 1 else -1)*1E+60;
else
aux02 := (6*Delta0*(y1d+y0d-1.5*Delta0)-y1d*y0d-y1d^2-y0d^2)/(3*(y1d+y0d-2*Delta0));
end if;
if ((mu > 0 and eta < h0 and Delta0*omega <= 0 or abs(aux01) < abs(aux02) and aux02*Delta0 >= 0 or abs(aux01) < abs(0.1*Delta0)) and  not useSingleCubicPolynomial) then 
c := aux01;
if (abs(c) < abs(aux02) and aux02*Delta0 >= 0) then 
c := aux02;
end if;
if (abs(c) < abs(0.1*Delta0)) then 
c := 0.1*Delta0;
end if;
theta0 := (y0d*mu+y1d*eta)/h0;
if (abs(theta0-c) < 1E-06) then 
c := 0.999999*theta0;
end if;
rho := 3*(Delta0-c)/(theta0-c);
mu_tilde := rho*mu;
eta_tilde := rho*eta;
xi1 := x0+mu_tilde;
xi2 := x1-eta_tilde;
a1 := (y0d-c)/max(mu_tilde^2, 1E-13);
a2 := (y1d-c)/max(eta_tilde^2, 1E-13);
const12 := y0-a1/3*(x0-xi1)^3-c*x0;
const3 := y1-a2/3*(x1-xi2)^3-c*x1;
if (x < xi1) then 
y := a1/3*(x-xi1)^3+c*x+const12;
elseif (x < xi2) then 
y := c*x+const12;
else
y := a2/3*(x-xi2)^3+c*x+const3;
end if;
else
y := y0+(x-x0)*(y0d+(x-x0)/h0*(( -2*y0d)-y1d+3*Delta0+(x-x0)*(y0d+y1d-2*Delta0)/h0));
aux01 := (x0+x1)/2;
c := 3*(y0d+y1d-2*Delta0)*(aux01-x0)^2/h0^2+2*(( -2*y0d)-y1d+3*Delta0)*(aux01-x0)/h0+y0d;
end if;
end if;
annotation(derivative=Modelica.Fluid.Utilities.regFun3:der, smoothOrder=1);
end Modelica.Fluid.Utilities.regFun3;

  */
DYMOLA_STATIC struct Modelica_Fluid_Utilities_regFun3_struct Modelica_Fluid_Utilities_regFun3
  (double  x0_0, double  x00_0, double  x10_0, double  y00_0, double  y10_0, 
  double  y0d0_0, double  y1d0_0) {
  char*retSMark_=GetStringMark();
  PushContext("Modelica.Fluid.Utilities.regFun3")
  {
    /* Declare outputs and temporaries */
    double   y0_0;
    double   c0_0;
    double   h00_0;
    double   Delta00_0;
    double   xstar0_0;
    double   mu0_0;
    double   eta0_0;
    double   omega0_0;
    double   rho0_0;
    double   theta00_0;
    double   mux_0tilde;
    double   etax_0tilde;
    double   xi10_0;
    double   xi20_0;
    double   a10_0;
    double   a20_0;
    double   const120_0;
    double   const30_0;
    double   aux010_0;
    double   aux020_0;
    int   useSingleCubicPolynomial0_0;
    y0_0=0;
    c0_0=0;
    h00_0=0;
    Delta00_0=0;
    xstar0_0=0;
    mu0_0=0;
    eta0_0=0;
    omega0_0=0;
    rho0_0=0;
    theta00_0=0;
    mux_0tilde=0;
    etax_0tilde=0;
    xi10_0=0;
    xi20_0=0;
    a10_0=0;
    a20_0=0;
    const120_0=0;
    const30_0=0;
    aux010_0=0;
    aux020_0=0;
    useSingleCubicPolynomial0_0 = false;
    /* Start of real code */
      AssertModelica(x00_0 < x10_0,"x0 < x1", StringAdd(StringAdd(StringAdd(
        StringAdd("regFun3(): Data points not sorted appropriately (x0 = ",
        Real2String2(x00_0, true, 0))," > x1 = "),Real2String2(x10_0, true, 0)),
        "). Please flip arguments."));
      if (y0d0_0*y1d0_0 >= 0) {
        /* No equations */
      }
      else{
        AssertModelica(fabs(y0d0_0) < 1E-15 OR fabs(y1d0_0) < 1E-15,
          "abs(y0d) < 1E-15 or abs(y1d) < 1E-15", StringAdd(StringAdd(StringAdd(
          StringAdd("regFun3(): Derivatives at data points do not allow co-monotone interpolation, as both are non-zero, of opposite sign and have an absolute value larger than machine eps (y0d = ",
          Real2String2(y0d0_0, true, 0)),", y1d = "),Real2String2(y1d0_0, true, 0)),
          "). Please correct arguments."));
      }
      h00_0 = x10_0-x00_0;
      Delta00_0 = divmacro(y10_0-y00_0,"y1-y0",h00_0,"h0");
      if (fabs(Delta00_0) <= 0) {
        y0_0 = y00_0+Delta00_0*(x0_0-x00_0);
        c0_0 = 0;
      }
      else if (fabs(y1d0_0+y0d0_0-2*Delta00_0) < 1E-13) {
        y0_0 = y00_0+(x0_0-x00_0)*(y0d0_0+divmacro(x0_0-x00_0,"x-x0",h00_0,"h0")
          *(( -2*y0d0_0)-y1d0_0+3*Delta00_0+divmacro((x0_0-x00_0)*(y0d0_0+y1d0_0
          -2*Delta00_0),"(x-x0)*(y0d+y1d-2*Delta0)",h00_0,"h0")));
        aux010_0 = (x00_0+x10_0)/(double)(2);
        c0_0 = divmacro(3*(y0d0_0+y1d0_0-2*Delta00_0)*sqr(aux010_0-x00_0),
          "3*(y0d+y1d-2*Delta0)*(aux01-x0)^2",sqr(h00_0),"h0^2")+divmacro(2*(( -2
          *y0d0_0)-y1d0_0+3*Delta00_0)*(aux010_0-x00_0),"2*(( -2*y0d)-y1d+3*Delta0)*(aux01-x0)",
          h00_0,"h0")+y0d0_0;
      }
      else{
        xstar0_0 = divmacro(0.3333333333333333*(( -3*x00_0*y0d0_0)-3*x00_0*
          y1d0_0+6*x00_0*Delta00_0-2*h00_0*y0d0_0-h00_0*y1d0_0+3*h00_0*Delta00_0),
          "0.3333333333333333*(( -3*x0*y0d)-3*x0*y1d+6*x0*Delta0-2*h0*y0d-h0*y1d+3*h0*Delta0)",
          ( -y0d0_0)-y1d0_0+2*Delta00_0,"( -y0d)-y1d+2*Delta0");
        mu0_0 = xstar0_0-x00_0;
        eta0_0 = x10_0-xstar0_0;
        omega0_0 = divmacro(3*(y0d0_0+y1d0_0-2*Delta00_0)*sqr(xstar0_0-x00_0),
          "3*(y0d+y1d-2*Delta0)*(xstar-x0)^2",sqr(h00_0),"h0^2")+divmacro(2*(( -2
          *y0d0_0)-y1d0_0+3*Delta00_0)*(xstar0_0-x00_0),"2*(( -2*y0d)-y1d+3*Delta0)*(xstar-x0)",
          h00_0,"h0")+y0d0_0;
        aux010_0 = 0.25*(IF Delta00_0 > 0 THEN 1 ELSE IF Delta00_0 < 0 THEN -1
           ELSE 0)*RealBmin(fabs(omega0_0), fabs(Delta00_0));
        if (fabs(y0d0_0-y1d0_0) <= 1E-13) {
          aux020_0 = y0d0_0;
          if (y10_0 > y00_0+y0d0_0*(x10_0-x00_0)) {
            useSingleCubicPolynomial0_0 = true;
          }
        }
        else if (fabs(y1d0_0+y0d0_0-2*Delta00_0) < 1E-13) {
          aux020_0 = (6*Delta00_0*(y1d0_0+y0d0_0-1.5*Delta00_0)-y1d0_0*y0d0_0-
            sqr(y1d0_0)-sqr(y0d0_0))*(IF y1d0_0+y0d0_0-2*Delta00_0 >= 0 THEN 1
             ELSE -1)*1E+60;
        }
        else{
          aux020_0 = divmacro(6*Delta00_0*(y1d0_0+y0d0_0-1.5*Delta00_0)-y1d0_0*
            y0d0_0-sqr(y1d0_0)-sqr(y0d0_0),"6*Delta0*(y1d+y0d-1.5*Delta0)-y1d*y0d-y1d^2-y0d^2",3
            *(y1d0_0+y0d0_0-2*Delta00_0),"3*(y1d+y0d-2*Delta0)");
        }
        if ((mu0_0 > 0 AND eta0_0 < h00_0 AND Delta00_0*omega0_0 <= 0 OR fabs(
          aux010_0) < fabs(aux020_0) AND aux020_0*Delta00_0 >= 0 OR fabs(
          aux010_0) < fabs(0.1*Delta00_0)) AND  NOT useSingleCubicPolynomial0_0)
           {
          c0_0 = aux010_0;
          if (fabs(c0_0) < fabs(aux020_0) AND aux020_0*Delta00_0 >= 0) {
            c0_0 = aux020_0;
          }
          if (fabs(c0_0) < fabs(0.1*Delta00_0)) {
            c0_0 = 0.1*Delta00_0;
          }
          theta00_0 = divmacro(y0d0_0*mu0_0+y1d0_0*eta0_0,"y0d*mu+y1d*eta",h00_0,
            "h0");
          if (fabs(theta00_0-c0_0) < 1E-06) {
            c0_0 = 0.999999*theta00_0;
          }
          rho0_0 = divmacro(3*(Delta00_0-c0_0),"3*(Delta0-c)",theta00_0-c0_0,
            "theta0-c");
          mux_0tilde = rho0_0*mu0_0;
          etax_0tilde = rho0_0*eta0_0;
          xi10_0 = x00_0+mux_0tilde;
          xi20_0 = x10_0-etax_0tilde;
          a10_0 = divmacro(y0d0_0-c0_0,"y0d-c",RealBmax(sqr(mux_0tilde), 1E-13),
            "max(mu_tilde^2, 1E-13)");
          a20_0 = divmacro(y1d0_0-c0_0,"y1d-c",RealBmax(sqr(etax_0tilde), 1E-13),
            "max(eta_tilde^2, 1E-13)");
          const120_0 = y00_0-a10_0/(double)(3)*powmacro2(x00_0-xi10_0,"x0-xi1",3,
            "3")-c0_0*x00_0;
          const30_0 = y10_0-a20_0/(double)(3)*powmacro2(x10_0-xi20_0,"x1-xi2",3,
            "3")-c0_0*x10_0;
          if (x0_0 < xi10_0) {
            y0_0 = a10_0/(double)(3)*powmacro2(x0_0-xi10_0,"x-xi1",3,"3")+c0_0*
              x0_0+const120_0;
          }
          else if (x0_0 < xi20_0) {
            y0_0 = c0_0*x0_0+const120_0;
          }
          else{
            y0_0 = a20_0/(double)(3)*powmacro2(x0_0-xi20_0,"x-xi2",3,"3")+c0_0*
              x0_0+const30_0;
          }
        }
        else{
          y0_0 = y00_0+(x0_0-x00_0)*(y0d0_0+divmacro(x0_0-x00_0,"x-x0",h00_0,
            "h0")*(( -2*y0d0_0)-y1d0_0+3*Delta00_0+divmacro((x0_0-x00_0)*(y0d0_0
            +y1d0_0-2*Delta00_0),"(x-x0)*(y0d+y1d-2*Delta0)",h00_0,"h0")));
          aux010_0 = (x00_0+x10_0)/(double)(2);
          c0_0 = divmacro(3*(y0d0_0+y1d0_0-2*Delta00_0)*sqr(aux010_0-x00_0),
            "3*(y0d+y1d-2*Delta0)*(aux01-x0)^2",sqr(h00_0),"h0^2")+divmacro(2*((
             -2*y0d0_0)-y1d0_0+3*Delta00_0)*(aux010_0-x00_0),"2*(( -2*y0d)-y1d+3*Delta0)*(aux01-x0)",
            h00_0,"h0")+y0d0_0;
        }
      }
    /* Output section */
    SetStringMark(retSMark_);
    PopContext()
    {
      struct Modelica_Fluid_Utilities_regFun3_struct out_;
      out_.y0_0_0member = y0_0;
      out_.c0_0_0member = c0_0;
      return out_;
    }
  }}

/* Flattened Modelica model:

function Modelica.Fluid.Utilities.regFun3:der
discrete input Real x;
discrete input Real x0;
discrete input Real x1;
discrete input Real y0;
discrete input Real y1;
discrete input Real y0d;
discrete input Real y1d;
protected 
discrete Real y;
discrete Real c;
discrete Real h0;
discrete Real Delta0;
discrete Real xstar;
discrete Real mu;
discrete Real eta;
discrete Real omega;
discrete Real rho;
discrete Real theta0;
discrete Real mu_tilde;
discrete Real eta_tilde;
discrete Real xi1;
discrete Real xi2;
discrete Real a1;
discrete Real a2;
discrete Real const12;
discrete Real const3;
discrete Real aux01;
discrete Real aux02;
Boolean useSingleCubicPolynomial(start = false);
public 
discrete input Real x_der;
discrete input Real x0_der;
discrete input Real x1_der;
discrete input Real y0_der;
discrete input Real y1_der;
discrete input Real y0d_der;
discrete input Real y1d_der;
discrete output Real y_der;
discrete output Real c_der;
protected 
discrete Real h0_der;
discrete Real Delta0_der;
discrete Real xstar_der;
discrete Real mu_der;
discrete Real eta_der;
discrete Real omega_der;
discrete Real rho_der;
discrete Real theta0_der;
discrete Real mu_tilde_der;
discrete Real eta_tilde_der;
discrete Real xi1_der;
discrete Real xi2_der;
discrete Real a1_der;
discrete Real a2_der;
discrete Real const12_der;
discrete Real const3_der;
discrete Real aux01_der;
discrete Real aux02_der;
public 
algorithm 
assert(x0 < x1, "regFun3(): Data points not sorted appropriately (x0 = "+       String(x0, true, 0)+" > x1 = "+       String(x1, true, 0)+"). Please flip arguments.");
if (y0d*y1d >= 0) then 
// No equations
else
assert(abs(y0d) < 1E-15 or abs(y1d) < 1E-15, "regFun3(): Derivatives at data points do not allow co-monotone interpolation, as both are non-zero, of opposite sign and have an absolute value larger than machine eps (y0d = "+       String(y0d, true, 0)+", y1d = "+       String(y1d, true, 0)+"). Please correct arguments.");
end if;
h0_der := x1_der-x0_der;
h0 := x1-x0;
Delta0_der := (y1_der-y0_der)/h0-(y1-y0)*h0_der/h0^2;
Delta0 := (y1-y0)/h0;
if (abs(Delta0) <= 0) then 
y_der := y0_der+Delta0_der*(x-x0)+Delta0*(x_der-x0_der);
y := y0+Delta0*(x-x0);
c_der := 0;
elseif (abs(y1d+y0d-2*Delta0) < 1E-13) then 
y_der := y0_der+(x_der-x0_der)*(y0d+(x-x0)*((-2)*y0d-y1d+3*Delta0+(x-x0)*(y0d+y1d-2*Delta0)/h0)/h0)+(x-x0)*(y0d_der+((x_der-x0_der)*((-2)*y0d-y1d+3*Delta0+(x-x0)*(y0d+y1d-2*Delta0)/h0)+(x-x0)*((-2)*y0d_der-y1d_der+3*Delta0_der+((x_der-x0_der)*(y0d+y1d-2*Delta0)+(x-x0)*(y0d_der+y1d_der-2*Delta0_der))/h0-(x-x0)*(y0d+y1d-2*Delta0)*h0_der/h0^2))/h0-(x-x0)*((-2)*y0d-y1d+3*Delta0+(x-x0)*(y0d+y1d-2*Delta0)/h0)*h0_der/h0^2);
y := y0+(x-x0)*(y0d+(x-x0)*((-2)*y0d-y1d+3*Delta0+(x-x0)*(y0d+y1d-2*Delta0)/h0)/h0);
aux01_der := 0.5*(x0_der+x1_der);
aux01 := 0.5*(x0+x1);
c_der := 3.0*((y0d_der+y1d_der-2*Delta0_der)*(aux01-x0)^2+2.0*((y0d+y1d-2*Delta0)*((aux01-x0)*(aux01_der-x0_der))))/h0^2-6.0*((y0d+y1d-2*Delta0)*(aux01-x0)^2*(h0*h0_der))/(h0^2)^2+2.0*(((-2)*y0d_der-y1d_der+3*Delta0_der)*(aux01-x0)+((-2)*y0d-y1d+3*Delta0)*(aux01_der-x0_der))/h0-2.0*(((-2)*y0d-y1d+3*Delta0)*(aux01-x0)*h0_der)/h0^2+y0d_der;
else
xstar_der := 0.3333333333333333*(6.0*(x0_der*Delta0+x0*Delta0_der)-3.0*(x0_der*y0d+x0*y0d_der+x0_der*y1d+x0*y1d_der)-2.0*(h0_der*y0d+h0*y0d_der)-(h0_der*y1d+h0*y1d_der)+3.0*(h0_der*Delta0+h0*Delta0_der))/(2*Delta0-(y0d+y1d))-0.3333333333333333*((6.0*(x0*Delta0)-3.0*(x0*y0d+x0*y1d)-2.0*(h0*y0d)-h0*y1d+3.0*(h0*Delta0))*(2*Delta0_der-(y0d_der+y1d_der)))/(2*Delta0-(y0d+y1d))^2;
xstar := 0.3333333333333333*(6.0*(x0*Delta0)-3.0*(x0*y0d+x0*y1d)-2.0*(h0*y0d)-h0*y1d+3.0*(h0*Delta0))/(2*Delta0-(y0d+y1d));
mu_der := xstar_der-x0_der;
mu := xstar-x0;
eta_der := x1_der-xstar_der;
eta := x1-xstar;
omega_der := 3.0*((y0d_der+y1d_der-2*Delta0_der)*(xstar-x0)^2+2.0*((y0d+y1d-2*Delta0)*((xstar-x0)*(xstar_der-x0_der))))/h0^2-6.0*((y0d+y1d-2*Delta0)*(xstar-x0)^2*(h0*h0_der))/(h0^2)^2+2.0*(((-2)*y0d_der-y1d_der+3*Delta0_der)*(xstar-x0)+((-2)*y0d-y1d+3*Delta0)*(xstar_der-x0_der))/h0-2.0*(((-2)*y0d-y1d+3*Delta0)*(xstar-x0)*h0_der)/h0^2+y0d_der;
omega := 3.0*((y0d+y1d-2*Delta0)*(xstar-x0)^2)/h0^2+2.0*(((-2)*y0d-y1d+3*Delta0)*(xstar-x0))/h0+y0d;
aux01_der := 0.25*(noEvent((if Delta0 > 0 then 1 else (if Delta0 < 0 then -1 else 0)))*(if noEvent(abs(omega) < abs(Delta0)) then omega_der*noEvent((if omega > 0 then 1 else -1)) else Delta0_der*noEvent((if Delta0 > 0 then 1 else -1))));
aux01 := 0.25*(noEvent((if Delta0 > 0 then 1 else (if Delta0 < 0 then -1 else 0)))*min(abs(omega), abs(Delta0)));
if (abs(y0d-y1d) <= 1E-13) then 
aux02_der := y0d_der;
aux02 := y0d;
if (y1 > y0+y0d*(x1-x0)) then 
useSingleCubicPolynomial := true;
end if;
elseif (abs(y1d+y0d-2*Delta0) < 1E-13) then 
aux02_der := 1E+60*((6.0*(Delta0_der*(y1d+y0d-1.5*Delta0)+Delta0*(y1d_der+y0d_der-1.5*Delta0_der))-(y1d_der*y0d+y1d*y0d_der)-2.0*(y1d*y1d_der)-2.0*(y0d*y0d_der))*(if y1d+y0d-2*Delta0 >= 0 then 1 else -1));
aux02 := 1E+60*((6.0*(Delta0*(y1d+y0d-1.5*Delta0))-y1d*y0d-y1d^2-y0d^2)*(if y1d+y0d-2*Delta0 >= 0 then 1 else -1));
else
aux02_der := (6.0*(Delta0_der*(y1d+y0d-1.5*Delta0)+Delta0*(y1d_der+y0d_der-1.5*Delta0_der))-(y1d_der*y0d+y1d*y0d_der)-2.0*(y1d*y1d_der)-2.0*(y0d*y0d_der))/(3*(y1d+y0d-2*Delta0))-3.0*((6.0*(Delta0*(y1d+y0d-1.5*Delta0))-y1d*y0d-y1d^2-y0d^2)*(y1d_der+y0d_der-2*Delta0_der))/(3*(y1d+y0d-2*Delta0))^2;
aux02 := (6.0*(Delta0*(y1d+y0d-1.5*Delta0))-y1d*y0d-y1d^2-y0d^2)/(3*(y1d+y0d-2*Delta0));
end if;
if ((mu > 0 and eta < h0 and Delta0*omega <= 0 or abs(aux01) < abs(aux02) and aux02*Delta0 >= 0 or abs(aux01) < abs(0.1*Delta0)) and  not useSingleCubicPolynomial) then 
c_der := aux01_der;
c := aux01;
if (abs(c) < abs(aux02) and aux02*Delta0 >= 0) then 
c_der := aux02_der;
c := aux02;
end if;
if (abs(c) < abs(0.1*Delta0)) then 
c_der := 0.1*Delta0_der;
c := 0.1*Delta0;
end if;
theta0_der := (y0d_der*mu+y0d*mu_der+y1d_der*eta+y1d*eta_der)/h0-(y0d*mu+y1d*eta)*h0_der/h0^2;
theta0 := (y0d*mu+y1d*eta)/h0;
if (abs(theta0-c) < 1E-06) then 
c_der := 0.999999*theta0_der;
c := 0.999999*theta0;
end if;
rho_der := 3*(Delta0_der-c_der)/(theta0-c)-3.0*((Delta0-c)*(theta0_der-c_der))/(theta0-c)^2;
rho := 3*(Delta0-c)/(theta0-c);
mu_tilde_der := rho_der*mu+rho*mu_der;
mu_tilde := rho*mu;
eta_tilde_der := rho_der*eta+rho*eta_der;
eta_tilde := rho*eta;
xi1_der := x0_der+mu_tilde_der;
xi1 := x0+mu_tilde;
xi2_der := x1_der-eta_tilde_der;
xi2 := x1-eta_tilde;
a1_der := (y0d_der-c_der)/max(mu_tilde^2, 1E-13)-(y0d-c)*(if noEvent(mu_tilde^2 > 1E-13) then 2.0*(mu_tilde*mu_tilde_der) else 0.0)/max(mu_tilde^2, 1E-13)^2;
a1 := (y0d-c)/max(mu_tilde^2, 1E-13);
a2_der := (y1d_der-c_der)/max(eta_tilde^2, 1E-13)-(y1d-c)*(if noEvent(eta_tilde^2 > 1E-13) then 2.0*(eta_tilde*eta_tilde_der) else 0.0)/max(eta_tilde^2, 1E-13)^2;
a2 := (y1d-c)/max(eta_tilde^2, 1E-13);
const12_der := y0_der-0.3333333333333333*(a1_der*(x0-xi1)^3+3.0*(a1*((x0-xi1)^2*(x0_der-xi1_der))))-(c_der*x0+c*x0_der);
const12 := y0-0.3333333333333333*(a1*(x0-xi1)^3)-c*x0;
const3_der := y1_der-0.3333333333333333*(a2_der*(x1-xi2)^3+3.0*(a2*((x1-xi2)^2*(x1_der-xi2_der))))-(c_der*x1+c*x1_der);
const3 := y1-0.3333333333333333*(a2*(x1-xi2)^3)-c*x1;
if (x < xi1) then 
y_der := 0.3333333333333333*(a1_der*(x-xi1)^3+3.0*(a1*((x-xi1)^2*(x_der-xi1_der))))+c_der*x+c*x_der+const12_der;
elseif (x < xi2) then 
y_der := c_der*x+c*x_der+const12_der;
else
y_der := 0.3333333333333333*(a2_der*(x-xi2)^3+3.0*(a2*((x-xi2)^2*(x_der-xi2_der))))+c_der*x+c*x_der+const3_der;
end if;
else
y_der := y0_der+(x_der-x0_der)*(y0d+(x-x0)*((-2)*y0d-y1d+3*Delta0+(x-x0)*(y0d+y1d-2*Delta0)/h0)/h0)+(x-x0)*(y0d_der+((x_der-x0_der)*((-2)*y0d-y1d+3*Delta0+(x-x0)*(y0d+y1d-2*Delta0)/h0)+(x-x0)*((-2)*y0d_der-y1d_der+3*Delta0_der+((x_der-x0_der)*(y0d+y1d-2*Delta0)+(x-x0)*(y0d_der+y1d_der-2*Delta0_der))/h0-(x-x0)*(y0d+y1d-2*Delta0)*h0_der/h0^2))/h0-(x-x0)*((-2)*y0d-y1d+3*Delta0+(x-x0)*(y0d+y1d-2*Delta0)/h0)*h0_der/h0^2);
y := y0+(x-x0)*(y0d+(x-x0)*((-2)*y0d-y1d+3*Delta0+(x-x0)*(y0d+y1d-2*Delta0)/h0)/h0);
aux01_der := 0.5*(x0_der+x1_der);
aux01 := 0.5*(x0+x1);
c_der := 3.0*((y0d_der+y1d_der-2*Delta0_der)*(aux01-x0)^2+2.0*((y0d+y1d-2*Delta0)*((aux01-x0)*(aux01_der-x0_der))))/h0^2-6.0*((y0d+y1d-2*Delta0)*(aux01-x0)^2*(h0*h0_der))/(h0^2)^2+2.0*(((-2)*y0d_der-y1d_der+3*Delta0_der)*(aux01-x0)+((-2)*y0d-y1d+3*Delta0)*(aux01_der-x0_der))/h0-2.0*(((-2)*y0d-y1d+3*Delta0)*(aux01-x0)*h0_der)/h0^2+y0d_der;
end if;
end if;
annotation(smoothOrder=0);
end Modelica.Fluid.Utilities.regFun3:der;

  */
DYMOLA_STATIC struct Modelica_Fluid_Utilities_regFun3__der_struct 
  Modelica_Fluid_Utilities_regFun3__der(double  x0_0, double  x00_0, double  
  x10_0, double  y00_0, double  y10_0, double  y0d0_0, double  y1d0_0, double  
  xx_0der, double  x0x_0der, double  x1x_0der, double  y0x_0der, double  
  y1x_0der, double  y0dx_0der, double  y1dx_0der) {
  char*retSMark_=GetStringMark();
  PushContext("Modelica.Fluid.Utilities.regFun3:der")
  {
    /* Declare outputs and temporaries */
    double   y0_0;
    double   c0_0;
    double   h00_0;
    double   Delta00_0;
    double   xstar0_0;
    double   mu0_0;
    double   eta0_0;
    double   omega0_0;
    double   rho0_0;
    double   theta00_0;
    double   mux_0tilde;
    double   etax_0tilde;
    double   xi10_0;
    double   xi20_0;
    double   a10_0;
    double   a20_0;
    double   const120_0;
    double   const30_0;
    double   aux010_0;
    double   aux020_0;
    int   useSingleCubicPolynomial0_0;
    double   yx_0der;
    double   cx_0der;
    double   h0x_0der;
    double   Delta0x_0der;
    double   xstarx_0der;
    double   mux_0der;
    double   etax_0der;
    double   omegax_0der;
    double   rhox_0der;
    double   theta0x_0der;
    double   mux_0tildex_0der;
    double   etax_0tildex_0der;
    double   xi1x_0der;
    double   xi2x_0der;
    double   a1x_0der;
    double   a2x_0der;
    double   const12x_0der;
    double   const3x_0der;
    double   aux01x_0der;
    double   aux02x_0der;
    y0_0=0;
    c0_0=0;
    h00_0=0;
    Delta00_0=0;
    xstar0_0=0;
    mu0_0=0;
    eta0_0=0;
    omega0_0=0;
    rho0_0=0;
    theta00_0=0;
    mux_0tilde=0;
    etax_0tilde=0;
    xi10_0=0;
    xi20_0=0;
    a10_0=0;
    a20_0=0;
    const120_0=0;
    const30_0=0;
    aux010_0=0;
    aux020_0=0;
    useSingleCubicPolynomial0_0 = false;
    yx_0der=0;
    cx_0der=0;
    h0x_0der=0;
    Delta0x_0der=0;
    xstarx_0der=0;
    mux_0der=0;
    etax_0der=0;
    omegax_0der=0;
    rhox_0der=0;
    theta0x_0der=0;
    mux_0tildex_0der=0;
    etax_0tildex_0der=0;
    xi1x_0der=0;
    xi2x_0der=0;
    a1x_0der=0;
    a2x_0der=0;
    const12x_0der=0;
    const3x_0der=0;
    aux01x_0der=0;
    aux02x_0der=0;
    /* Start of real code */
      AssertModelica(x00_0 < x10_0,"x0 < x1", StringAdd(StringAdd(StringAdd(
        StringAdd("regFun3(): Data points not sorted appropriately (x0 = ",
        Real2String2(x00_0, true, 0))," > x1 = "),Real2String2(x10_0, true, 0)),
        "). Please flip arguments."));
      if (y0d0_0*y1d0_0 >= 0) {
        /* No equations */
      }
      else{
        AssertModelica(fabs(y0d0_0) < 1E-15 OR fabs(y1d0_0) < 1E-15,
          "abs(y0d) < 1E-15 or abs(y1d) < 1E-15", StringAdd(StringAdd(StringAdd(
          StringAdd("regFun3(): Derivatives at data points do not allow co-monotone interpolation, as both are non-zero, of opposite sign and have an absolute value larger than machine eps (y0d = ",
          Real2String2(y0d0_0, true, 0)),", y1d = "),Real2String2(y1d0_0, true, 0)),
          "). Please correct arguments."));
      }
      h0x_0der = x1x_0der-x0x_0der;
      h00_0 = x10_0-x00_0;
      Delta0x_0der = divmacro(y1x_0der-y0x_0der,"y1_der-y0_der",h00_0,"h0")-
        divmacro((y10_0-y00_0)*h0x_0der,"(y1-y0)*h0_der",sqr(h00_0),"h0^2");
      Delta00_0 = divmacro(y10_0-y00_0,"y1-y0",h00_0,"h0");
      if (fabs(Delta00_0) <= 0) {
        yx_0der = y0x_0der+Delta0x_0der*(x0_0-x00_0)+Delta00_0*(xx_0der-x0x_0der);
        y0_0 = y00_0+Delta00_0*(x0_0-x00_0);
        cx_0der = 0;
      }
      else if (fabs(y1d0_0+y0d0_0-2*Delta00_0) < 1E-13) {
        /* Introducing 14 common subexpressions used in 18 expressions */
        /* Of the common subexpressions 14 are reals, 0 are integers, and 0
           are booleans. */

        { double helpvarF[14];
        DYNX(helpvarF,0) = xx_0der-x0x_0der;
        DYNX(helpvarF,1) = x0_0-x00_0;
        DYNX(helpvarF,2) = y0d0_0+y1d0_0-2*Delta00_0;
        DYNX(helpvarF,3) = DYNX(helpvarF,1)*DYNX(helpvarF,2);
        DYNX(helpvarF,4) = divmacro(1.0,"1.0",h00_0,"h0");
        DYNX(helpvarF,5) = (-2)*y0d0_0-y1d0_0+3*Delta00_0+DYNX(helpvarF,4)*
          DYNX(helpvarF,3);
        DYNX(helpvarF,6) = DYNX(helpvarF,1)*DYNX(helpvarF,5);
        DYNX(helpvarF,7) = (-2)*y0dx_0der;
        DYNX(helpvarF,8) = DYNX(helpvarF,0)*DYNX(helpvarF,2)+DYNX(helpvarF,1)*(
          y0dx_0der+y1dx_0der-2*Delta0x_0der);
        DYNX(helpvarF,9) = DYNX(helpvarF,3)*h0x_0der;
        DYNX(helpvarF,10) = sqr(h00_0);
        DYNX(helpvarF,11) = divmacro(1.0,"1.0",DYNX(helpvarF,10),"h0^2");
        DYNX(helpvarF,12) = DYNX(helpvarF,4)*(DYNX(helpvarF,0)*DYNX(helpvarF,5)+
          DYNX(helpvarF,1)*(DYNX(helpvarF,7)-y1dx_0der+3*Delta0x_0der+
          DYNX(helpvarF,4)*DYNX(helpvarF,8)-DYNX(helpvarF,11)*DYNX(helpvarF,9)));
        DYNX(helpvarF,13) = DYNX(helpvarF,11)*DYNX(helpvarF,6)*h0x_0der;
        yx_0der = y0x_0der+DYNX(helpvarF,0)*(y0d0_0+DYNX(helpvarF,4)*
          DYNX(helpvarF,6))+DYNX(helpvarF,1)*(y0dx_0der+DYNX(helpvarF,12)-
          DYNX(helpvarF,13));
        }
        y0_0 = y00_0+(x0_0-x00_0)*(y0d0_0+divmacro((x0_0-x00_0)*((-2)*y0d0_0-
          y1d0_0+3*Delta00_0+divmacro((x0_0-x00_0)*(y0d0_0+y1d0_0-2*Delta00_0),
          "(x-x0)*(y0d+y1d-2*Delta0)",h00_0,"h0")),"(x-x0)*((-2)*y0d-y1d+3*Delta0+(x-x0)*(y0d+y1d-2*Delta0)/h0)",
          h00_0,"h0"));
        aux01x_0der = 0.5*(x0x_0der+x1x_0der);
        aux010_0 = 0.5*(x00_0+x10_0);
        /* Introducing 14 common subexpressions used in 15 expressions */
        /* Of the common subexpressions 14 are reals, 0 are integers, and 0
           are booleans. */

        { double helpvarF[14];
        DYNX(helpvarF,0) = aux010_0-x00_0;
        DYNX(helpvarF,1) = sqr(DYNX(helpvarF,0));
        DYNX(helpvarF,2) = y0d0_0+y1d0_0-2*Delta00_0;
        DYNX(helpvarF,3) = aux01x_0der-x0x_0der;
        DYNX(helpvarF,4) = (y0dx_0der+y1dx_0der-2*Delta0x_0der)*DYNX(helpvarF,1)
          +2.0*DYNX(helpvarF,2)*DYNX(helpvarF,0)*DYNX(helpvarF,3);
        DYNX(helpvarF,5) = sqr(h00_0);
        DYNX(helpvarF,6) = divmacro(1.0,"1.0",DYNX(helpvarF,5),"h0^2");
        DYNX(helpvarF,7) = DYNX(helpvarF,2)*DYNX(helpvarF,1)*h00_0*h0x_0der;
        DYNX(helpvarF,8) = sqr(DYNX(helpvarF,5));
        DYNX(helpvarF,9) = divmacro(1.0,"1.0",DYNX(helpvarF,8),"(h0^2)^2");
        DYNX(helpvarF,10) = (-2)*y0d0_0-y1d0_0+3*Delta00_0;
        DYNX(helpvarF,11) = ((-2)*y0dx_0der-y1dx_0der+3*Delta0x_0der)*
          DYNX(helpvarF,0)+DYNX(helpvarF,10)*DYNX(helpvarF,3);
        DYNX(helpvarF,12) = divmacro(1.0,"1.0",h00_0,"h0");
        DYNX(helpvarF,13) = DYNX(helpvarF,10)*DYNX(helpvarF,0)*h0x_0der;
        cx_0der = DYNX(helpvarF,6)*3.0*DYNX(helpvarF,4)-DYNX(helpvarF,9)*6.0*
          DYNX(helpvarF,7)+DYNX(helpvarF,12)*2.0*DYNX(helpvarF,11)-
          DYNX(helpvarF,6)*2.0*DYNX(helpvarF,13)+y0dx_0der;
        }
      }
      else{
        /* Introducing 11 common subexpressions used in 5 expressions */
        /* Of the common subexpressions 11 are reals, 0 are integers, and 0
           are booleans. */

        { double helpvarF[11];
        DYNX(helpvarF,0) = 6.0*(x0x_0der*Delta00_0+x00_0*Delta0x_0der)-3.0*(
          x0x_0der*y0d0_0+x00_0*y0dx_0der+x0x_0der*y1d0_0+x00_0*y1dx_0der)-2.0*(
          h0x_0der*y0d0_0+h00_0*y0dx_0der);
        DYNX(helpvarF,1) = h0x_0der*y1d0_0+h00_0*y1dx_0der;
        DYNX(helpvarF,2) = h0x_0der*Delta00_0+h00_0*Delta0x_0der;
        DYNX(helpvarF,3) = 2*Delta00_0-(y0d0_0+y1d0_0);
        DYNX(helpvarF,4) = divmacro(1.0,"1.0",DYNX(helpvarF,3),"2*Delta0-(y0d+y1d)");
        DYNX(helpvarF,5) = 6.0*x00_0*Delta00_0-3.0*(x00_0*y0d0_0+x00_0*y1d0_0)-
          2.0*h00_0*y0d0_0-h00_0*y1d0_0;
        DYNX(helpvarF,6) = 3.0*h00_0*Delta00_0;
        DYNX(helpvarF,7) = 2*Delta0x_0der;
        DYNX(helpvarF,8) = y0dx_0der+y1dx_0der;
        DYNX(helpvarF,9) = sqr(DYNX(helpvarF,3));
        DYNX(helpvarF,10) = divmacro(1.0,"1.0",DYNX(helpvarF,9),"(2*Delta0-(y0d+y1d))^2");
        xstarx_0der = DYNX(helpvarF,4)*0.3333333333333333*(DYNX(helpvarF,0)-
          DYNX(helpvarF,1)+3.0*DYNX(helpvarF,2))-DYNX(helpvarF,10)*
          0.3333333333333333*(DYNX(helpvarF,5)+DYNX(helpvarF,6))*(
          DYNX(helpvarF,7)-DYNX(helpvarF,8));
        }
        xstar0_0 = divmacro(0.3333333333333333*(6.0*x00_0*Delta00_0-3.0*(x00_0*
          y0d0_0+x00_0*y1d0_0)-2.0*h00_0*y0d0_0-h00_0*y1d0_0+3.0*h00_0*Delta00_0),
          "0.3333333333333333*(6.0*(x0*Delta0)-3.0*(x0*y0d+x0*y1d)-2.0*(h0*y0d)-h0*y1d+3.0*(h0*Delta0))",2
          *Delta00_0-(y0d0_0+y1d0_0),"2*Delta0-(y0d+y1d)");
        mux_0der = xstarx_0der-x0x_0der;
        mu0_0 = xstar0_0-x00_0;
        etax_0der = x1x_0der-xstarx_0der;
        eta0_0 = x10_0-xstar0_0;
        /* Introducing 14 common subexpressions used in 15 expressions */
        /* Of the common subexpressions 14 are reals, 0 are integers, and 0
           are booleans. */

        { double helpvarF[14];
        DYNX(helpvarF,0) = xstar0_0-x00_0;
        DYNX(helpvarF,1) = sqr(DYNX(helpvarF,0));
        DYNX(helpvarF,2) = y0d0_0+y1d0_0-2*Delta00_0;
        DYNX(helpvarF,3) = xstarx_0der-x0x_0der;
        DYNX(helpvarF,4) = (y0dx_0der+y1dx_0der-2*Delta0x_0der)*DYNX(helpvarF,1)
          +2.0*DYNX(helpvarF,2)*DYNX(helpvarF,0)*DYNX(helpvarF,3);
        DYNX(helpvarF,5) = sqr(h00_0);
        DYNX(helpvarF,6) = divmacro(1.0,"1.0",DYNX(helpvarF,5),"h0^2");
        DYNX(helpvarF,7) = DYNX(helpvarF,2)*DYNX(helpvarF,1)*h00_0*h0x_0der;
        DYNX(helpvarF,8) = sqr(DYNX(helpvarF,5));
        DYNX(helpvarF,9) = divmacro(1.0,"1.0",DYNX(helpvarF,8),"(h0^2)^2");
        DYNX(helpvarF,10) = (-2)*y0d0_0-y1d0_0+3*Delta00_0;
        DYNX(helpvarF,11) = ((-2)*y0dx_0der-y1dx_0der+3*Delta0x_0der)*
          DYNX(helpvarF,0)+DYNX(helpvarF,10)*DYNX(helpvarF,3);
        DYNX(helpvarF,12) = divmacro(1.0,"1.0",h00_0,"h0");
        DYNX(helpvarF,13) = DYNX(helpvarF,10)*DYNX(helpvarF,0)*h0x_0der;
        omegax_0der = DYNX(helpvarF,6)*3.0*DYNX(helpvarF,4)-DYNX(helpvarF,9)*6.0
          *DYNX(helpvarF,7)+DYNX(helpvarF,12)*2.0*DYNX(helpvarF,11)-
          DYNX(helpvarF,6)*2.0*DYNX(helpvarF,13)+y0dx_0der;
        }
        omega0_0 = divmacro(3.0*(y0d0_0+y1d0_0-2*Delta00_0)*sqr(xstar0_0-x00_0),
          "3.0*((y0d+y1d-2*Delta0)*(xstar-x0)^2)",sqr(h00_0),"h0^2")+divmacro(
          2.0*((-2)*y0d0_0-y1d0_0+3*Delta00_0)*(xstar0_0-x00_0),"2.0*(((-2)*y0d-y1d+3*Delta0)*(xstar-x0))",
          h00_0,"h0")+y0d0_0;
        aux01x_0der = 0.25*(IF Delta00_0 > 0 THEN 1 ELSE IF Delta00_0 < 0 THEN -1
           ELSE 0)*(IF fabs(omega0_0) < fabs(Delta00_0) THEN omegax_0der*(IF 
          omega0_0 > 0 THEN 1 ELSE -1) ELSE Delta0x_0der*(IF Delta00_0 > 0 THEN 1
           ELSE -1));
        aux010_0 = 0.25*(IF Delta00_0 > 0 THEN 1 ELSE IF Delta00_0 < 0 THEN -1
           ELSE 0)*RealBmin(fabs(omega0_0), fabs(Delta00_0));
        if (fabs(y0d0_0-y1d0_0) <= 1E-13) {
          aux02x_0der = y0dx_0der;
          aux020_0 = y0d0_0;
          if (y10_0 > y00_0+y0d0_0*(x10_0-x00_0)) {
            useSingleCubicPolynomial0_0 = true;
          }
        }
        else if (fabs(y1d0_0+y0d0_0-2*Delta00_0) < 1E-13) {
          aux02x_0der = 1E+60*(6.0*(Delta0x_0der*(y1d0_0+y0d0_0-1.5*Delta00_0)+
            Delta00_0*(y1dx_0der+y0dx_0der-1.5*Delta0x_0der))-(y1dx_0der*y0d0_0+
            y1d0_0*y0dx_0der)-2.0*y1d0_0*y1dx_0der-2.0*y0d0_0*y0dx_0der)*(IF 
            y1d0_0+y0d0_0-2*Delta00_0 >= 0 THEN 1 ELSE -1);
          aux020_0 = 1E+60*(6.0*Delta00_0*(y1d0_0+y0d0_0-1.5*Delta00_0)-y1d0_0*
            y0d0_0-sqr(y1d0_0)-sqr(y0d0_0))*(IF y1d0_0+y0d0_0-2*Delta00_0 >= 0
             THEN 1 ELSE -1);
        }
        else{
          /* Introducing 13 common subexpressions used in 8 expressions */
          /* Of the common subexpressions 13 are reals, 0 are integers, and 0
             are booleans. */

          { double helpvarF[13];
          DYNX(helpvarF,0) = y1d0_0+y0d0_0;
          DYNX(helpvarF,1) = DYNX(helpvarF,0)-1.5*Delta00_0;
          DYNX(helpvarF,2) = y1dx_0der+y0dx_0der;
          DYNX(helpvarF,3) = 6.0*(Delta0x_0der*DYNX(helpvarF,1)+Delta00_0*(
            DYNX(helpvarF,2)-1.5*Delta0x_0der));
          DYNX(helpvarF,4) = y1dx_0der*y0d0_0+y1d0_0*y0dx_0der;
          DYNX(helpvarF,5) = y1d0_0*y1dx_0der;
          DYNX(helpvarF,6) = 3*(DYNX(helpvarF,0)-2*Delta00_0);
          DYNX(helpvarF,7) = divmacro(1.0,"1.0",DYNX(helpvarF,6),
            "3*(y1d+y0d-2*Delta0)");
          DYNX(helpvarF,8) = 6.0*Delta00_0*DYNX(helpvarF,1)-y1d0_0*y0d0_0-sqr(
            y1d0_0);
          DYNX(helpvarF,9) = sqr(y0d0_0);
          DYNX(helpvarF,10) = 2*Delta0x_0der;
          DYNX(helpvarF,11) = sqr(DYNX(helpvarF,6));
          DYNX(helpvarF,12) = divmacro(1.0,"1.0",DYNX(helpvarF,11),
            "(3*(y1d+y0d-2*Delta0))^2");
          aux02x_0der = DYNX(helpvarF,7)*(DYNX(helpvarF,3)-DYNX(helpvarF,4)-2.0*
            DYNX(helpvarF,5)-2.0*y0d0_0*y0dx_0der)-DYNX(helpvarF,12)*3.0*(
            DYNX(helpvarF,8)-DYNX(helpvarF,9))*(DYNX(helpvarF,2)-
            DYNX(helpvarF,10));
          }
          aux020_0 = divmacro(6.0*Delta00_0*(y1d0_0+y0d0_0-1.5*Delta00_0)-y1d0_0
            *y0d0_0-sqr(y1d0_0)-sqr(y0d0_0),"6.0*(Delta0*(y1d+y0d-1.5*Delta0))-y1d*y0d-y1d^2-y0d^2",3
            *(y1d0_0+y0d0_0-2*Delta00_0),"3*(y1d+y0d-2*Delta0)");
        }
        if ((mu0_0 > 0 AND eta0_0 < h00_0 AND Delta00_0*omega0_0 <= 0 OR fabs(
          aux010_0) < fabs(aux020_0) AND aux020_0*Delta00_0 >= 0 OR fabs(
          aux010_0) < fabs(0.1*Delta00_0)) AND  NOT useSingleCubicPolynomial0_0)
           {
          cx_0der = aux01x_0der;
          c0_0 = aux010_0;
          if (fabs(c0_0) < fabs(aux020_0) AND aux020_0*Delta00_0 >= 0) {
            cx_0der = aux02x_0der;
            c0_0 = aux020_0;
          }
          if (fabs(c0_0) < fabs(0.1*Delta00_0)) {
            cx_0der = 0.1*Delta0x_0der;
            c0_0 = 0.1*Delta00_0;
          }
          theta0x_0der = divmacro(y0dx_0der*mu0_0+y0d0_0*mux_0der+y1dx_0der*
            eta0_0+y1d0_0*etax_0der,"y0d_der*mu+y0d*mu_der+y1d_der*eta+y1d*eta_der",
            h00_0,"h0")-divmacro((y0d0_0*mu0_0+y1d0_0*eta0_0)*h0x_0der,
            "(y0d*mu+y1d*eta)*h0_der",sqr(h00_0),"h0^2");
          theta00_0 = divmacro(y0d0_0*mu0_0+y1d0_0*eta0_0,"y0d*mu+y1d*eta",h00_0,
            "h0");
          if (fabs(theta00_0-c0_0) < 1E-06) {
            cx_0der = 0.999999*theta0x_0der;
            c0_0 = 0.999999*theta00_0;
          }
          rhox_0der = divmacro(3*(Delta0x_0der-cx_0der),"3*(Delta0_der-c_der)",
            theta00_0-c0_0,"theta0-c")-divmacro(3.0*(Delta00_0-c0_0)*(
            theta0x_0der-cx_0der),"3.0*((Delta0-c)*(theta0_der-c_der))",sqr(
            theta00_0-c0_0),"(theta0-c)^2");
          rho0_0 = divmacro(3*(Delta00_0-c0_0),"3*(Delta0-c)",theta00_0-c0_0,
            "theta0-c");
          mux_0tildex_0der = rhox_0der*mu0_0+rho0_0*mux_0der;
          mux_0tilde = rho0_0*mu0_0;
          etax_0tildex_0der = rhox_0der*eta0_0+rho0_0*etax_0der;
          etax_0tilde = rho0_0*eta0_0;
          xi1x_0der = x0x_0der+mux_0tildex_0der;
          xi10_0 = x00_0+mux_0tilde;
          xi2x_0der = x1x_0der-etax_0tildex_0der;
          xi20_0 = x10_0-etax_0tilde;
          a1x_0der = divmacro(y0dx_0der-cx_0der,"y0d_der-c_der",RealBmax(sqr(
            mux_0tilde), 1E-13),"max(mu_tilde^2, 1E-13)")-divmacro((y0d0_0-c0_0)
            *(IF sqr(mux_0tilde) > 1E-13 THEN 2.0*mux_0tilde*mux_0tildex_0der
             ELSE 0.0),"(y0d-c)*(if noEvent(mu_tilde^2 > 1E-13) then 2.0*(mu_tilde*mu_tilde_der) else 0.0)",
            sqr(RealBmax(sqr(mux_0tilde), 1E-13)),"max(mu_tilde^2, 1E-13)^2");
          a10_0 = divmacro(y0d0_0-c0_0,"y0d-c",RealBmax(sqr(mux_0tilde), 1E-13),
            "max(mu_tilde^2, 1E-13)");
          a2x_0der = divmacro(y1dx_0der-cx_0der,"y1d_der-c_der",RealBmax(sqr(
            etax_0tilde), 1E-13),"max(eta_tilde^2, 1E-13)")-divmacro((y1d0_0-
            c0_0)*(IF sqr(etax_0tilde) > 1E-13 THEN 2.0*etax_0tilde*
            etax_0tildex_0der ELSE 0.0),"(y1d-c)*(if noEvent(eta_tilde^2 > 1E-13) then 2.0*(eta_tilde*eta_tilde_der) else 0.0)",
            sqr(RealBmax(sqr(etax_0tilde), 1E-13)),"max(eta_tilde^2, 1E-13)^2");
          a20_0 = divmacro(y1d0_0-c0_0,"y1d-c",RealBmax(sqr(etax_0tilde), 1E-13),
            "max(eta_tilde^2, 1E-13)");
          const12x_0der = y0x_0der-0.3333333333333333*(a1x_0der*powmacro2(x00_0-
            xi10_0,"x0-xi1",3,"3")+3.0*a10_0*sqr(x00_0-xi10_0)*(x0x_0der-
            xi1x_0der))-(cx_0der*x00_0+c0_0*x0x_0der);
          const120_0 = y00_0-0.3333333333333333*a10_0*powmacro2(x00_0-xi10_0,
            "x0-xi1",3,"3")-c0_0*x00_0;
          const3x_0der = y1x_0der-0.3333333333333333*(a2x_0der*powmacro2(x10_0-
            xi20_0,"x1-xi2",3,"3")+3.0*a20_0*sqr(x10_0-xi20_0)*(x1x_0der-
            xi2x_0der))-(cx_0der*x10_0+c0_0*x1x_0der);
          const30_0 = y10_0-0.3333333333333333*a20_0*powmacro2(x10_0-xi20_0,
            "x1-xi2",3,"3")-c0_0*x10_0;
          if (x0_0 < xi10_0) {
            yx_0der = 0.3333333333333333*(a1x_0der*powmacro2(x0_0-xi10_0,"x-xi1",3,
              "3")+3.0*a10_0*sqr(x0_0-xi10_0)*(xx_0der-xi1x_0der))+cx_0der*x0_0+
              c0_0*xx_0der+const12x_0der;
          }
          else if (x0_0 < xi20_0) {
            yx_0der = cx_0der*x0_0+c0_0*xx_0der+const12x_0der;
          }
          else{
            yx_0der = 0.3333333333333333*(a2x_0der*powmacro2(x0_0-xi20_0,"x-xi2",3,
              "3")+3.0*a20_0*sqr(x0_0-xi20_0)*(xx_0der-xi2x_0der))+cx_0der*x0_0+
              c0_0*xx_0der+const3x_0der;
          }
        }
        else{
          /* Introducing 14 common subexpressions used in 18 expressions */
          /* Of the common subexpressions 14 are reals, 0 are integers, and 0
             are booleans. */

          { double helpvarF[14];
          DYNX(helpvarF,0) = xx_0der-x0x_0der;
          DYNX(helpvarF,1) = x0_0-x00_0;
          DYNX(helpvarF,2) = y0d0_0+y1d0_0-2*Delta00_0;
          DYNX(helpvarF,3) = DYNX(helpvarF,1)*DYNX(helpvarF,2);
          DYNX(helpvarF,4) = divmacro(1.0,"1.0",h00_0,"h0");
          DYNX(helpvarF,5) = (-2)*y0d0_0-y1d0_0+3*Delta00_0+DYNX(helpvarF,4)*
            DYNX(helpvarF,3);
          DYNX(helpvarF,6) = DYNX(helpvarF,1)*DYNX(helpvarF,5);
          DYNX(helpvarF,7) = (-2)*y0dx_0der;
          DYNX(helpvarF,8) = DYNX(helpvarF,0)*DYNX(helpvarF,2)+DYNX(helpvarF,1)*
            (y0dx_0der+y1dx_0der-2*Delta0x_0der);
          DYNX(helpvarF,9) = DYNX(helpvarF,3)*h0x_0der;
          DYNX(helpvarF,10) = sqr(h00_0);
          DYNX(helpvarF,11) = divmacro(1.0,"1.0",DYNX(helpvarF,10),"h0^2");
          DYNX(helpvarF,12) = DYNX(helpvarF,4)*(DYNX(helpvarF,0)*
            DYNX(helpvarF,5)+DYNX(helpvarF,1)*(DYNX(helpvarF,7)-y1dx_0der+3*
            Delta0x_0der+DYNX(helpvarF,4)*DYNX(helpvarF,8)-DYNX(helpvarF,11)*
            DYNX(helpvarF,9)));
          DYNX(helpvarF,13) = DYNX(helpvarF,11)*DYNX(helpvarF,6)*h0x_0der;
          yx_0der = y0x_0der+DYNX(helpvarF,0)*(y0d0_0+DYNX(helpvarF,4)*
            DYNX(helpvarF,6))+DYNX(helpvarF,1)*(y0dx_0der+DYNX(helpvarF,12)-
            DYNX(helpvarF,13));
          }
          y0_0 = y00_0+(x0_0-x00_0)*(y0d0_0+divmacro((x0_0-x00_0)*((-2)*y0d0_0-
            y1d0_0+3*Delta00_0+divmacro((x0_0-x00_0)*(y0d0_0+y1d0_0-2*Delta00_0),
            "(x-x0)*(y0d+y1d-2*Delta0)",h00_0,"h0")),"(x-x0)*((-2)*y0d-y1d+3*Delta0+(x-x0)*(y0d+y1d-2*Delta0)/h0)",
            h00_0,"h0"));
          aux01x_0der = 0.5*(x0x_0der+x1x_0der);
          aux010_0 = 0.5*(x00_0+x10_0);
          /* Introducing 14 common subexpressions used in 15 expressions */
          /* Of the common subexpressions 14 are reals, 0 are integers, and 0
             are booleans. */

          { double helpvarF[14];
          DYNX(helpvarF,0) = aux010_0-x00_0;
          DYNX(helpvarF,1) = sqr(DYNX(helpvarF,0));
          DYNX(helpvarF,2) = y0d0_0+y1d0_0-2*Delta00_0;
          DYNX(helpvarF,3) = aux01x_0der-x0x_0der;
          DYNX(helpvarF,4) = (y0dx_0der+y1dx_0der-2*Delta0x_0der)*
            DYNX(helpvarF,1)+2.0*DYNX(helpvarF,2)*DYNX(helpvarF,0)*
            DYNX(helpvarF,3);
          DYNX(helpvarF,5) = sqr(h00_0);
          DYNX(helpvarF,6) = divmacro(1.0,"1.0",DYNX(helpvarF,5),"h0^2");
          DYNX(helpvarF,7) = DYNX(helpvarF,2)*DYNX(helpvarF,1)*h00_0*h0x_0der;
          DYNX(helpvarF,8) = sqr(DYNX(helpvarF,5));
          DYNX(helpvarF,9) = divmacro(1.0,"1.0",DYNX(helpvarF,8),"(h0^2)^2");
          DYNX(helpvarF,10) = (-2)*y0d0_0-y1d0_0+3*Delta00_0;
          DYNX(helpvarF,11) = ((-2)*y0dx_0der-y1dx_0der+3*Delta0x_0der)*
            DYNX(helpvarF,0)+DYNX(helpvarF,10)*DYNX(helpvarF,3);
          DYNX(helpvarF,12) = divmacro(1.0,"1.0",h00_0,"h0");
          DYNX(helpvarF,13) = DYNX(helpvarF,10)*DYNX(helpvarF,0)*h0x_0der;
          cx_0der = DYNX(helpvarF,6)*3.0*DYNX(helpvarF,4)-DYNX(helpvarF,9)*6.0*
            DYNX(helpvarF,7)+DYNX(helpvarF,12)*2.0*DYNX(helpvarF,11)-
            DYNX(helpvarF,6)*2.0*DYNX(helpvarF,13)+y0dx_0der;
          }
        }
      }
    /* Output section */
    SetStringMark(retSMark_);
    PopContext()
    {
      struct Modelica_Fluid_Utilities_regFun3__der_struct out_;
      out_.yx_0der_0member = yx_0der;
      out_.cx_0der_0member = cx_0der;
      return out_;
    }
  }}

/* Flattened Modelica model:

function Modelica.Math.Matrices.solve
discrete input Real A[:, size(A, 1)] "Matrix A of A*x = b";
discrete input Real b[size(A, 1)] "Vector b of A*x = b";
discrete output Real x[size(b, 1)] "Vector x such that A*x = b";
protected 
Integer info;
public 
algorithm 
(x, info)  := Modelica.Math.Matrices.LAPACK.dgesv_vec(A, b);
assert(info == 0, "Solving a linear system of equations with function
\"Matrices.solve\" is not possible, because the system has either
no or infinitely many solutions (A is singular).");
end Modelica.Math.Matrices.solve;

  */
DYMOLA_STATIC RealArray    Modelica_Math_Matrices_solve(RealArray   A0_0, 
  RealArray   b0_0) {
  PushContext("Modelica.Math.Matrices.solve")
  AssertModelica(DYNSizeSimple(A0_0,2)==DYNSizeSimple(A0_0, 1),"size(A, 2) == size(A, 1)","Dimension check of input to function failed");
  AssertModelica(DYNSizeSimple(b0_0,1)==DYNSizeSimple(A0_0, 1),"size(b, 1) == size(A, 1)","Dimension check of input to function failed");
  {
    /* Declare outputs and temporaries */
    RealArray    x0_0;
    int   info0_0;
    MarkObject retmark_ = PushMark();
    x0_0=RealTemporary( 1, DYNSizeSimple(b0_0, 1));
    RePushMark(&retmark_);
    RealFillAssign( x0_0, 0);
    info0_0=0;
    /* Start of real code */
      {
        struct Modelica_Math_Matrices_LAPACK_dgesvx_0vec_M_struct dummy_mult_=
          Modelica_Math_Matrices_LAPACK_dgesvx_0vec_M(A0_0, b0_0);
        RealAssign (x0_0, dummy_mult_.x0_0_0member);
        info0_0 = dummy_mult_.info0_0_0member;
      }
      Release();
      AssertModelica(info0_0 == 0,"info == 0", "Solving a linear system of equations with function\n\"Matrices.solve\" is not possible, because the system has either\nno or infinitely many solutions (A is singular).");
    /* Output section */
    PopMark(retmark_);
    PopContext()
    return x0_0;
  }}
DYMOLA_STATIC RealArray    addScalar_For_1_1(double  x_0x1, RealArray   x_0x2) {
  PushContext("Vectorized ""addScalar")
   {
    RealArray  x_0y = RealTemporary(  1, RealSize( x_0x2, 1));
    int i_ ;
    int max_size_ = RealNrElements( x_0y);
    for(i_ = 0 ; i_ < max_size_; i_++) {
      x_0y.data[i_]=((x_0x1)+(x_0x2.data[i_]));
    }
    PopContext()
    return x_0y;
  }
}

/* Flattened Modelica model:

function interpolateInRegion2_Unique12
discrete input Real Re(unit = "1");
discrete input Real Re1(unit = "1");
discrete input Real Re2(unit = "1");
discrete input Real Delta;
discrete output Real lambda2;
protected 
discrete Real x1(start = log10(Re1));
discrete Real y1(start = log10(64*Re1));
discrete Real yd1(start = 1);
discrete Real aux1(start = 1.1217826467560994);
discrete Real aux2(start = Delta/3.7+5.74/Re2^0.9);
discrete Real aux3(start = log10(aux2));
discrete Real L2(start = 0.25*(Re2/aux3)^2);
discrete Real aux4(start = 2.51/sqrt(L2)+0.27*Delta);
discrete Real aux5(start = (-2.0)*(sqrt(L2)*log10(aux4)));
discrete Real x2(start = log10(Re2));
discrete Real y2(start = log10(L2));
discrete Real yd2(start = 2+4*aux1/(aux2*aux3*Re2^0.9));
discrete Real diff_x(start = x2-x1);
discrete Real m(start = (y2-y1)/diff_x);
discrete Real c2(start = (3*m-2*yd1-yd2)/diff_x);
discrete Real c3(start = (yd1+yd2-2*m)/(diff_x*diff_x));
discrete Real dx;
public 
algorithm 
dx := log10(Re/Re1);
lambda2 := 64*Re1*(Re/Re1)^(1+dx*(c2+dx*c3));
annotation(smoothOrder=1);
end interpolateInRegion2_Unique12;

  */
DYMOLA_STATIC double   interpolateInRegion2x_0Unique12(double  Re0_0, double  
  Re10_0, double  Re20_0, double  Delta0_0) {
  PushContext("interpolateInRegion2_Unique12")
  {
    /* Declare outputs and temporaries */
    double   lambda20_0;
    double   x10_0;
    double   y10_0;
    double   yd10_0;
    double   aux10_0;
    double   aux20_0;
    double   aux30_0;
    double   L20_0;
    double   aux40_0;
    double   aux50_0;
    double   x20_0;
    double   y20_0;
    double   yd20_0;
    double   diffx_0x;
    double   m0_0;
    double   c20_0;
    double   c30_0;
    double   dx0_0;
    lambda20_0=0;
    x10_0 = log10Guarded(Re10_0,"Re1");
    y10_0 = log10Guarded(64*Re10_0,"64*Re1");
    yd10_0 = 1;
    aux10_0 = 1.1217826467560994;
    aux20_0 = Delta0_0/(double)(3.7)+divmacro(5.74,"5.74",powmacro(Re20_0,"Re2",
      0.9,"0.9"),"Re2^0.9");
    aux30_0 = log10Guarded(aux20_0,"aux2");
    L20_0 = 0.25*sqr(divmacro(Re20_0,"Re2",aux30_0,"aux3"));
    aux40_0 = divmacro(2.51,"2.51",sqrtGuarded(L20_0,"L2"),"sqrt(L2)")+0.27*
      Delta0_0;
    aux50_0 = (-2.0)*sqrtGuarded(L20_0,"L2")*log10Guarded(aux40_0,"aux4");
    x20_0 = log10Guarded(Re20_0,"Re2");
    y20_0 = log10Guarded(L20_0,"L2");
    yd20_0 = 2+divmacro(4*aux10_0,"4*aux1",aux20_0*aux30_0*powmacro(Re20_0,"Re2",
      0.9,"0.9"),"aux2*aux3*Re2^0.9");
    diffx_0x = x20_0-x10_0;
    m0_0 = divmacro(y20_0-y10_0,"y2-y1",diffx_0x,"diff_x");
    c20_0 = divmacro(3*m0_0-2*yd10_0-yd20_0,"3*m-2*yd1-yd2",diffx_0x,"diff_x");
    c30_0 = divmacro(yd10_0+yd20_0-2*m0_0,"yd1+yd2-2*m",diffx_0x*diffx_0x,
      "diff_x*diff_x");
    dx0_0=0;
    /* Start of real code */
      dx0_0 = log10Guarded(divmacro(Re0_0,"Re",Re10_0,"Re1"),"Re/Re1");
      lambda20_0 = 64*Re10_0*powmacro(divmacro(Re0_0,"Re",Re10_0,"Re1"),"Re/Re1",1
        +dx0_0*(c20_0+dx0_0*c30_0),"1+dx*(c2+dx*c3)");
    /* Output section */
    PopContext()
    return lambda20_0;
  }}

/* Flattened Modelica model:

function Modelica.Fluid.Pipes.BaseClasses.WallFriction.Detailed.Internal.m_flow_of_dp_fric.interpolateInRegion2_withDerivative:der
discrete input Real lambda2;
discrete input Real Re1;
discrete input Real Re2;
discrete input Real Delta;
discrete input Real dp_fric;
protected 
discrete Real Re;
discrete Real dRe_ddp;
discrete Real x1(start = log10(64*Re1));
discrete Real y1(start = log10(Re1));
discrete Real y1d(start = 1);
discrete Real aux2(start = 0.27027027027027023*Delta+5.74/Re2^0.9);
discrete Real aux3(start = log10(aux2));
discrete Real L2(start = 0.25*(Re2/aux3)^2);
discrete Real aux4(start = 2.51/sqrt(L2)+0.27*Delta);
discrete Real aux5(start = (-2.0)*(sqrt(L2)*log10(aux4)));
discrete Real x2(start = log10(L2));
discrete Real y2(start = log10(aux5));
discrete Real y2d(start = 0.5+1.0900791495771618/(aux5*aux4));
discrete Real x(start = log10(lambda2));
discrete Real y;
discrete Real dy_dx;
public 
discrete input Real lambda2_der;
discrete input Real Re1_der;
discrete input Real Re2_der;
discrete input Real Delta_der;
discrete input Real dp_fric_der;
discrete output Real Re_der;
discrete output Real dRe_ddp_der;
protected 
discrete Real x1_der(start = 64*Re1_der/(147.36544595161894*Re1));
discrete Real y1_der(start = Re1_der/(2.302585092994046*Re1));
discrete Real y1d_der(start = 0);
discrete Real aux2_der(start = 0.27027027027027023*Delta_der-5.166*(Re2^(-0.09999999999999998)*Re2_der)/(Re2^0.9)^2);
discrete Real aux3_der(start = aux2_der/(2.302585092994046*aux2));
discrete Real L2_der(start = 0.5*(Re2*(Re2_der/aux3-Re2*aux3_der/aux3^2))/aux3);
discrete Real aux4_der(start = 0.27*Delta_der-1.255*L2_der/sqrt(L2)/sqrt(L2)^2);
discrete Real aux5_der(start = (-2.0)*(0.5*(L2_der*log10(aux4))/sqrt(L2)+sqrt(L2)*aux4_der/(2.302585092994046*aux4)));
discrete Real x2_der(start = L2_der/(2.302585092994046*L2));
discrete Real y2_der(start = aux5_der/(2.302585092994046*aux5));
discrete Real y2d_der(start =  -1.0900791495771618*(aux5_der*aux4+aux5*aux4_der)/(aux5*aux4)^2);
discrete Real x_der(start = lambda2_der/(2.302585092994046*lambda2));
discrete Real y_der;
discrete Real dy_dx_der;
public 
algorithm 
(y_der, dy_dx_der)  := Modelica.Fluid.Utilities.cubicHermite_withDerivative:der(x, x1, x2, y1, y2, y1d, y2d, x_der, x1_der, x2_der, y1_der, y2_der, 0.0, y2d_der);
(y, dy_dx)  := Modelica.Fluid.Utilities.cubicHermite_withDerivative(x, x1, x2, y1, y2, y1d, y2d);
Re_der := 2.302585092994046*(10^y*y_der);
Re := 10^y;
dRe_ddp_der := (Re_der*dy_dx+Re*dy_dx_der)/abs(dp_fric)-Re*dy_dx*(dp_fric_der*noEvent((if dp_fric > 0 then 1 else -1)))/abs(dp_fric)^2;
annotation(smoothOrder=0);
end Modelica.Fluid.Pipes.BaseClasses.WallFriction.Detailed.Internal.m_flow_of_dp_fric.interpolateInRegion2_withDerivative:der;

  */
DYMOLA_STATIC struct Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric_interpolateInRegion2x_0withDerivative__der_struct
   Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric_interpolateInRegion2x_0withDerivative__der
  (double  lambda20_0, double  Re10_0, double  Re20_0, double  Delta0_0, double 
   dpx_0fric, double  lambda2x_0der, double  Re1x_0der, double  Re2x_0der, 
  double  Deltax_0der, double  dpx_0fricx_0der) {
  PushContext("Modelica.Fluid.Pipes.BaseClasses.WallFriction.Detailed.Internal.m_flow_of_dp_fric.interpolateInRegion2_withDerivative:der")
  {
    /* Declare outputs and temporaries */
    double   Re0_0;
    double   dRex_0ddp;
    double   x10_0;
    double   y10_0;
    double   y1d0_0;
    double   aux20_0;
    double   aux30_0;
    double   L20_0;
    double   aux40_0;
    double   aux50_0;
    double   x20_0;
    double   y20_0;
    double   y2d0_0;
    double   x0_0;
    double   y0_0;
    double   dyx_0dx;
    double   Rex_0der;
    double   dRex_0ddpx_0der;
    double   x1x_0der;
    double   y1x_0der;
    double   y1dx_0der;
    double   aux2x_0der;
    double   aux3x_0der;
    double   L2x_0der;
    double   aux4x_0der;
    double   aux5x_0der;
    double   x2x_0der;
    double   y2x_0der;
    double   y2dx_0der;
    double   xx_0der;
    double   yx_0der;
    double   dyx_0dxx_0der;
    Re0_0=0;
    dRex_0ddp=0;
    x10_0 = log10Guarded(64*Re10_0,"64*Re1");
    y10_0 = log10Guarded(Re10_0,"Re1");
    y1d0_0 = 1;
    aux20_0 = 0.27027027027027023*Delta0_0+divmacro(5.74,"5.74",powmacro(Re20_0,
      "Re2",0.9,"0.9"),"Re2^0.9");
    aux30_0 = log10Guarded(aux20_0,"aux2");
    L20_0 = 0.25*sqr(divmacro(Re20_0,"Re2",aux30_0,"aux3"));
    aux40_0 = divmacro(2.51,"2.51",sqrtGuarded(L20_0,"L2"),"sqrt(L2)")+0.27*
      Delta0_0;
    aux50_0 = (-2.0)*sqrtGuarded(L20_0,"L2")*log10Guarded(aux40_0,"aux4");
    x20_0 = log10Guarded(L20_0,"L2");
    y20_0 = log10Guarded(aux50_0,"aux5");
    y2d0_0 = 0.5+divmacro(1.0900791495771618,"1.0900791495771618",aux50_0*
      aux40_0,"aux5*aux4");
    x0_0 = log10Guarded(lambda20_0,"lambda2");
    y0_0=0;
    dyx_0dx=0;
    Rex_0der=0;
    dRex_0ddpx_0der=0;
    x1x_0der = divmacro(64*Re1x_0der,"64*Re1_der",147.36544595161894*Re10_0,
      "147.36544595161894*Re1");
    y1x_0der = divmacro(Re1x_0der,"Re1_der",2.302585092994046*Re10_0,
      "2.302585092994046*Re1");
    y1dx_0der = 0;
    aux2x_0der = 0.27027027027027023*Deltax_0der-divmacro(5.166*powmacro(Re20_0,
      "Re2",-0.09999999999999998,"-0.09999999999999998")*Re2x_0der,
      "5.166*(Re2^(-0.09999999999999998)*Re2_der)",sqr(powmacro(Re20_0,"Re2",0.9,
      "0.9")),"(Re2^0.9)^2");
    aux3x_0der = divmacro(aux2x_0der,"aux2_der",2.302585092994046*aux20_0,
      "2.302585092994046*aux2");
    L2x_0der = divmacro(0.5*Re20_0*(divmacro(Re2x_0der,"Re2_der",aux30_0,"aux3")
      -divmacro(Re20_0*aux3x_0der,"Re2*aux3_der",sqr(aux30_0),"aux3^2")),
      "0.5*(Re2*(Re2_der/aux3-Re2*aux3_der/aux3^2))",aux30_0,"aux3");
    aux4x_0der = 0.27*Deltax_0der-divmacro(divmacro(1.255*L2x_0der,
      "1.255*L2_der",sqrtGuarded(L20_0,"L2"),"sqrt(L2)"),"1.255*L2_der/sqrt(L2)",
      sqr(sqrtGuarded(L20_0,"L2")),"sqrt(L2)^2");
    aux5x_0der = (-2.0)*(divmacro(0.5*L2x_0der*log10Guarded(aux40_0,"aux4"),
      "0.5*(L2_der*log10(aux4))",sqrtGuarded(L20_0,"L2"),"sqrt(L2)")+divmacro(
      sqrtGuarded(L20_0,"L2")*aux4x_0der,"sqrt(L2)*aux4_der",2.302585092994046*
      aux40_0,"2.302585092994046*aux4"));
    x2x_0der = divmacro(L2x_0der,"L2_der",2.302585092994046*L20_0,
      "2.302585092994046*L2");
    y2x_0der = divmacro(aux5x_0der,"aux5_der",2.302585092994046*aux50_0,
      "2.302585092994046*aux5");
    y2dx_0der =  -divmacro(1.0900791495771618*(aux5x_0der*aux40_0+aux50_0*
      aux4x_0der),"1.0900791495771618*(aux5_der*aux4+aux5*aux4_der)",sqr(aux50_0
      *aux40_0),"(aux5*aux4)^2");
    xx_0der = divmacro(lambda2x_0der,"lambda2_der",2.302585092994046*lambda20_0,
      "2.302585092994046*lambda2");
    yx_0der=0;
    dyx_0dxx_0der=0;
    /* Start of real code */
      {
        struct Modelica_Fluid_Utilities_cubicHermitex_0withDerivative__der_struct
           dummy_mult_=Modelica_Fluid_Utilities_cubicHermitex_0withDerivative__der
          (x0_0, x10_0, x20_0, y10_0, y20_0, y1d0_0, y2d0_0, xx_0der, x1x_0der, 
          x2x_0der, y1x_0der, y2x_0der, 0.0, y2dx_0der);
        yx_0der = dummy_mult_.yx_0der_0member;
        dyx_0dxx_0der = dummy_mult_.dyx_0dxx_0der_0member;
      }
      {
        struct Modelica_Fluid_Utilities_cubicHermitex_0withDerivative_struct
           dummy_mult_=Modelica_Fluid_Utilities_cubicHermitex_0withDerivative(
          x0_0, x10_0, x20_0, y10_0, y20_0, y1d0_0, y2d0_0);
        y0_0 = dummy_mult_.y0_0_0member;
        dyx_0dx = dummy_mult_.dyx_0dx_0member;
      }
      Rex_0der = 2.302585092994046*powmacro(10,"10",y0_0,"y")*yx_0der;
      Re0_0 = powmacro(10,"10",y0_0,"y");
      dRex_0ddpx_0der = divmacro(Rex_0der*dyx_0dx+Re0_0*dyx_0dxx_0der,
        "Re_der*dy_dx+Re*dy_dx_der",fabs(dpx_0fric),"abs(dp_fric)")-divmacro(
        Re0_0*dyx_0dx*dpx_0fricx_0der*(IF dpx_0fric > 0 THEN 1 ELSE -1),
        "Re*dy_dx*(dp_fric_der*noEvent((if dp_fric > 0 then 1 else -1)))",sqr(
        fabs(dpx_0fric)),"abs(dp_fric)^2");
    /* Output section */
    PopContext()
    {
      struct Modelica_Fluid_Pipes_BaseClasses_WallFriction_Detailed_Internal_mx_0flowx_0ofx_0dpx_0fric_interpolateInRegion2x_0withDerivative__der_struct out_;
      out_.Rex_0der_0member = Rex_0der;
      out_.dRex_0ddpx_0der_0member = dRex_0ddpx_0der;
      return out_;
    }
  }}

/* Flattened Modelica model:

function Modelica.Fluid.Utilities.cubicHermite_withDerivative:der
discrete input Real x;
discrete input Real x1;
discrete input Real x2;
discrete input Real y1;
discrete input Real y2;
discrete input Real y1d;
discrete input Real y2d;
protected 
discrete Real y;
discrete Real dy_dx;
discrete Real h;
discrete Real t;
discrete Real h00;
discrete Real h10;
discrete Real h01;
discrete Real h11;
discrete Real h00d;
discrete Real h10d;
discrete Real h01d;
discrete Real h11d;
discrete Real aux3;
discrete Real aux2;
public 
discrete input Real x_der;
discrete input Real x1_der;
discrete input Real x2_der;
discrete input Real y1_der;
discrete input Real y2_der;
discrete input Real y1d_der;
discrete input Real y2d_der;
discrete output Real y_der;
discrete output Real dy_dx_der;
protected 
discrete Real h_der;
discrete Real t_der;
discrete Real h00_der;
discrete Real h10_der;
discrete Real h01_der;
discrete Real h11_der;
discrete Real h00d_der;
discrete Real h10d_der;
discrete Real h01d_der;
discrete Real h11d_der;
discrete Real aux3_der;
discrete Real aux2_der;
public 
algorithm 
h_der := x2_der-x1_der;
h := x2-x1;
if (abs(h) > 0) then 
t_der := (x_der-x1_der)/h-(x-x1)*h_der/h^2;
t := (x-x1)/h;
aux3_der := 3.0*(t^2*t_der);
aux3 := t^3;
aux2_der := 2.0*(t*t_der);
aux2 := t^2;
h00_der := 2*aux3_der-3*aux2_der;
h00 := 1+2*aux3-3*aux2;
h10_der := aux3_der-2*aux2_der+t_der;
h10 := aux3-2*aux2+t;
h01_der := 3*aux2_der-2*aux3_der;
h01 := 3*aux2-2*aux3;
h11_der := aux3_der-aux2_der;
h11 := aux3-aux2;
h00d_der := 6*(aux2_der-t_der);
h00d := 6*(aux2-t);
h10d_der := 3*aux2_der-4*t_der;
h10d := 1+3*aux2-4*t;
h01d_der := 6*(t_der-aux2_der);
h01d := 6*(t-aux2);
h11d_der := 3*aux2_der-2*t_der;
h11d := 3*aux2-2*t;
y_der := y1_der*h00+y1*h00_der+(h_der*y1d+h*y1d_der)*h10+h*y1d*h10_der+y2_der*h01+y2*h01_der+(h_der*y2d+h*y2d_der)*h11+h*y2d*h11_der;
y := y1*h00+h*y1d*h10+y2*h01+h*y2d*h11;
dy_dx_der := (y1_der*h00d+y1*h00d_der)/h-y1*h00d*h_der/h^2+y1d_der*h10d+y1d*h10d_der+(y2_der*h01d+y2*h01d_der)/h-y2*h01d*h_der/h^2+y2d_der*h11d+y2d*h11d_der;
else
y_der := 0.5*(y1_der+y2_der);
y := 0.5*(y1+y2);
dy_dx_der := 0.0;
end if;
annotation(smoothOrder=2);
end Modelica.Fluid.Utilities.cubicHermite_withDerivative:der;

  */
DYMOLA_STATIC struct Modelica_Fluid_Utilities_cubicHermitex_0withDerivative__der_struct
   Modelica_Fluid_Utilities_cubicHermitex_0withDerivative__der(double  x0_0, 
  double  x10_0, double  x20_0, double  y10_0, double  y20_0, double  y1d0_0, 
  double  y2d0_0, double  xx_0der, double  x1x_0der, double  x2x_0der, double  
  y1x_0der, double  y2x_0der, double  y1dx_0der, double  y2dx_0der) {
  PushContext("Modelica.Fluid.Utilities.cubicHermite_withDerivative:der")
  {
    /* Declare outputs and temporaries */
    double   y0_0;
    double   dyx_0dx;
    double   h0_0;
    double   t0_0;
    double   h000_0;
    double   h100_0;
    double   h010_0;
    double   h110_0;
    double   h00d0_0;
    double   h10d0_0;
    double   h01d0_0;
    double   h11d0_0;
    double   aux30_0;
    double   aux20_0;
    double   yx_0der;
    double   dyx_0dxx_0der;
    double   hx_0der;
    double   tx_0der;
    double   h00x_0der;
    double   h10x_0der;
    double   h01x_0der;
    double   h11x_0der;
    double   h00dx_0der;
    double   h10dx_0der;
    double   h01dx_0der;
    double   h11dx_0der;
    double   aux3x_0der;
    double   aux2x_0der;
    y0_0=0;
    dyx_0dx=0;
    h0_0=0;
    t0_0=0;
    h000_0=0;
    h100_0=0;
    h010_0=0;
    h110_0=0;
    h00d0_0=0;
    h10d0_0=0;
    h01d0_0=0;
    h11d0_0=0;
    aux30_0=0;
    aux20_0=0;
    yx_0der=0;
    dyx_0dxx_0der=0;
    hx_0der=0;
    tx_0der=0;
    h00x_0der=0;
    h10x_0der=0;
    h01x_0der=0;
    h11x_0der=0;
    h00dx_0der=0;
    h10dx_0der=0;
    h01dx_0der=0;
    h11dx_0der=0;
    aux3x_0der=0;
    aux2x_0der=0;
    /* Start of real code */
      hx_0der = x2x_0der-x1x_0der;
      h0_0 = x20_0-x10_0;
      if (fabs(h0_0) > 0) {
        tx_0der = divmacro(xx_0der-x1x_0der,"x_der-x1_der",h0_0,"h")-divmacro((
          x0_0-x10_0)*hx_0der,"(x-x1)*h_der",sqr(h0_0),"h^2");
        t0_0 = divmacro(x0_0-x10_0,"x-x1",h0_0,"h");
        aux3x_0der = 3.0*sqr(t0_0)*tx_0der;
        aux30_0 = powmacro2(t0_0,"t",3,"3");
        aux2x_0der = 2.0*t0_0*tx_0der;
        aux20_0 = sqr(t0_0);
        h00x_0der = 2*aux3x_0der-3*aux2x_0der;
        h000_0 = 1+2*aux30_0-3*aux20_0;
        h10x_0der = aux3x_0der-2*aux2x_0der+tx_0der;
        h100_0 = aux30_0-2*aux20_0+t0_0;
        h01x_0der = 3*aux2x_0der-2*aux3x_0der;
        h010_0 = 3*aux20_0-2*aux30_0;
        h11x_0der = aux3x_0der-aux2x_0der;
        h110_0 = aux30_0-aux20_0;
        h00dx_0der = 6*(aux2x_0der-tx_0der);
        h00d0_0 = 6*(aux20_0-t0_0);
        h10dx_0der = 3*aux2x_0der-4*tx_0der;
        h10d0_0 = 1+3*aux20_0-4*t0_0;
        h01dx_0der = 6*(tx_0der-aux2x_0der);
        h01d0_0 = 6*(t0_0-aux20_0);
        h11dx_0der = 3*aux2x_0der-2*tx_0der;
        h11d0_0 = 3*aux20_0-2*t0_0;
        yx_0der = y1x_0der*h000_0+y10_0*h00x_0der+(hx_0der*y1d0_0+h0_0*y1dx_0der)
          *h100_0+h0_0*y1d0_0*h10x_0der+y2x_0der*h010_0+y20_0*h01x_0der+(hx_0der
          *y2d0_0+h0_0*y2dx_0der)*h110_0+h0_0*y2d0_0*h11x_0der;
        y0_0 = y10_0*h000_0+h0_0*y1d0_0*h100_0+y20_0*h010_0+h0_0*y2d0_0*h110_0;
        dyx_0dxx_0der = divmacro(y1x_0der*h00d0_0+y10_0*h00dx_0der,
          "y1_der*h00d+y1*h00d_der",h0_0,"h")-divmacro(y10_0*h00d0_0*hx_0der,
          "y1*h00d*h_der",sqr(h0_0),"h^2")+y1dx_0der*h10d0_0+y1d0_0*h10dx_0der+
          divmacro(y2x_0der*h01d0_0+y20_0*h01dx_0der,"y2_der*h01d+y2*h01d_der",
          h0_0,"h")-divmacro(y20_0*h01d0_0*hx_0der,"y2*h01d*h_der",sqr(h0_0),
          "h^2")+y2dx_0der*h11d0_0+y2d0_0*h11dx_0der;
      }
      else{
        yx_0der = 0.5*(y1x_0der+y2x_0der);
        y0_0 = 0.5*(y10_0+y20_0);
        dyx_0dxx_0der = 0.0;
      }
    /* Output section */
    PopContext()
    {
      struct Modelica_Fluid_Utilities_cubicHermitex_0withDerivative__der_struct out_;
      out_.yx_0der_0member = yx_0der;
      out_.dyx_0dxx_0der_0member = dyx_0dxx_0der;
      return out_;
    }
  }}

/* Flattened Modelica model:

function Modelica.Math.Matrices.LAPACK.dgesv_vec
discrete input Real A[:, size(A, 1)];
discrete input Real b[size(A, 1)];
discrete output Real x[size(A, 1)](start = b);
output Integer info;
protected 
discrete Real Awork[size(A, 1), size(A, 1)](start = A);
Integer lda(start = max(1, size(A, 1)));
Integer ldb(start = max(1, size(b, 1)));
Integer ipiv[size(A, 1)];
public 
external "Fortran 77" dgesv(size(A, 1), 1, Awork, lda, ipiv, x, ldb, info);
annotation(Library={"lapack"}, LibraryDirectory="modelica://Modelica/Resources/Library");
end Modelica.Math.Matrices.LAPACK.dgesv_vec;

  */
extern int (dgesv_)(int  const *, int  const *, double  *, int  *, int  *, 
  double  *, int  *, int  *);
DYMOLA_STATIC struct Modelica_Math_Matrices_LAPACK_dgesvx_0vec_M_struct 
  Modelica_Math_Matrices_LAPACK_dgesvx_0vec_M(RealArray   A0_0, RealArray   b0_0)
   {
  PushContext("Modelica.Math.Matrices.LAPACK.dgesv_vec")
  AssertModelica(DYNSizeSimple(A0_0,2)==DYNSizeSimple(A0_0, 1),"size(A, 2) == size(A, 1)","Dimension check of input to function failed");
  AssertModelica(DYNSizeSimple(b0_0,1)==DYNSizeSimple(A0_0, 1),"size(b, 1) == size(A, 1)","Dimension check of input to function failed");
  {
    /* Declare outputs and temporaries */
    RealArray    x0_0;
    int   info0_0;
    RealArray    Awork0_0;
    int   lda0_0;
    int   ldb0_0;
    IntegerArray    ipiv0_0;
    MarkObject retmark_ = PushMark();
    x0_0=RealTemporary( 1, DYNSizeSimple(A0_0, 1));
    RePushMark(&retmark_);
    RealAssign (x0_0, b0_0);
    Release();
    info0_0=0;
    Awork0_0=RealTemporary( 2, DYNSizeSimple(A0_0, 1), DYNSizeSimple(A0_0, 1));
    PushMark();
    RealAssign (Awork0_0, A0_0);
    Release();
    lda0_0 = IntegerBmax(1, DYNSizeSimple(A0_0, 1));
    ldb0_0 = IntegerBmax(1, DYNSizeSimple(b0_0, 1));
    ipiv0_0=IntegerTemporary( 1, DYNSizeSimple(A0_0, 1));
    PushMark();
    IntegerFillAssign( ipiv0_0, 0);
    /* Start of real code */
    {
      int  helper_1 = 1;
      RealArray   helper_2 = RealSwitchMajor( Awork0_0);
      (void)(dgesv_)(& A0_0.dims[1-1], & helper_1, helper_2.data, & lda0_0, 
        ipiv0_0.data, x0_0.data, & ldb0_0, & info0_0);
      Release();
      }
    /* Output section */
    PopMark(retmark_);
    PopContext()
    {
      struct Modelica_Math_Matrices_LAPACK_dgesvx_0vec_M_struct out_;
      out_.x0_0_0member = x0_0;
      out_.info0_0_0member = info0_0;
      return out_;
    }
  }}
/* DSblock C-code: */

BreakSectionFunctionDef(1)
BreakSectionFunctionDef(0)
BreakSectionFunctionDef(2)
  BreakSectionDef(3);
  BreakSectionDef(4);
BreakSectionFunctionDef(5)
  BreakSectionDef(6);
  BreakSectionDef(7);
  BreakSectionDef(8);
BreakSectionFunctionDef(9)
BreakSectionFunctionDef(10)
#define NX_    8
#define NX2_   13
#define NU_    2
#define NY_    4
#define NW_    656
#define NP_    86
#define NPS_   0
#define ND_   0
#define NXP_   0
#define NInitial_   7
#define MAXAuxStr_   0
#define MAXAuxStrLen_   500
#define NHash1_ 1108090084
#define NHash2_ -1902478429
#define NHash3_ 0
#define NI_    0
#define NRelF_ 23
#define NRel_  23
#define NTim_  0
#define NSamp_ 0
#define NCons_ 0
#define NA_    280
#define SizePre_ 0
#define SizeEq_ 27
#define SizeDelay_ 0
#define QNLmax_ 4
#define MAXAux 10
#define NrDymolaTimers_ 0
#define NWhen_ 0
#define NCheckIf_ 2
#define NGlobalHelp_ 1828
#define NGlobalHelpI_ 226
#ifndef NExternalObject_
#define NExternalObject_ 0
#endif
#include <moutil.c>
DYMOLA_STATIC unsigned int FMIClockValueReferences_[1]={0};
DYMOLA_STATIC unsigned int FMIClockFirstValueReferences_[1]={0};
PreNonAliasDef(0)
PreNonAliasDef(1)
PreNonAliasDef(2)
PreNonAliasDef(3)
PreNonAliasDef(4)
PreNonAliasDef(5)
#if !defined(DYM2CCUR)
 DYMOLA_STATIC const char*modelName="CourseExamples.Workshop18.Linearization.HSN";
#endif
DYMOLA_STATIC const char*usedLibraries[]={0};
DYMOLA_STATIC const char*dllLibraryPath[]={0};
DYMOLA_STATIC const char*default_dymosim_license_filename=
 "c:/users/alset-user/appdata/roaming/dassaultsystemes/dymola/dymola.lic";
#define QJacobianCGDef_ 1
DYMOLA_STATIC int QJacobianCG_[18]={7 , 2 , 1 , 2 , 1 , 3 , 1 , 4 , 1 , 5 , 1 , 6
   , 1 , 7 , 1 , 8 , 0 , 0};
DYMOLA_STATIC int QJacobianGC_[57]={
1 , 2 , 0 , 2 , 0 , 1 , 1 , 1 , 0 , 0 , 3 , 0 , 3 , 3 , 3 , 3 , 0 , 4 , 0 , 4 , 4
   , 0 , 0 , 0 , 0 , 0 , 5 , 5 , 5 , 0 , 0 , 0 , 0 , 6 , 6 , 6 , 6 , 6 , 6 , 6
   , 0 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 0 , 8 , 8 , 8 , 8 , 8 , 8 , 8 , 0};
DYMOLA_STATIC double QJacobianCD_[9]={0  , 44 , 55 , 60 , 63 , 64 , 63 , 60 , 55};
#include <dsblock1.c>

/* Define variable names. */

#define Sections_

TranslatedEquations
DYNX(Y_,2) = CurrentClockTime;
if (DYNEvent) DYNX(Y_,3) += 1;

InitialSection
#if defined(DynSimStruct) || defined(BUILDFMU)
DYNX(W_,0) = true;
DYNX(W_,5) = 4;
DYNX(W_,33) = true;
DYNX(W_,46) = 2;
DYNX(W_,55) = true;
DYNX(W_,61) = true;
DYNX(W_,62) = 1;
DYNX(W_,87) = 100;
DYNX(W_,95) = false;
DYNX(W_,102) = false;
DYNX(W_,120) = true;
DYNX(W_,130) = false;
DYNX(W_,131) = 1;
DYNX(W_,151) = 1;
DYNX(W_,155) = 1;
DYNX(W_,156) = 1;
DYNX(W_,158) = false;
DYNX(W_,159) = false;
DYNX(W_,162) = false;
DYNX(W_,171) = true;
DYNX(W_,172) = true;
DYNX(W_,180) = 4;
DYNX(W_,182) = true;
DYNX(W_,185) = 2.77E-05;
DYNX(W_,186) = 2.4E-05;
memcpy(&DYNX(W_,188), &DymArrays0, sizeof(double)*3);
DYNX(W_,193) = 2;
memcpy(&DYNX(W_,196), &DymArrays1, sizeof(double)*4);
DYNX(W_,209) = 4000;
DYNX(W_,216) = true;
DYNX(W_,225) = 1;
DYNX(W_,249) = 4;
DYNX(W_,251) = 1;
DYNX(W_,252) = 2;
DYNX(W_,253) = false;
DYNX(W_,254) = 2;
DYNX(W_,255) = 2;
DYNX(W_,262) = 3;
DYNX(W_,267) = true;
DYNX(W_,268) = 4;
DYNX(W_,298) = false;
DYNX(W_,319) = true;
DYNX(W_,320) = 1;
DYNX(W_,327) = true;
DYNX(W_,335) = 1;
DYNX(W_,359) = 4;
DYNX(W_,361) = 1;
DYNX(W_,362) = 2;
DYNX(W_,363) = false;
DYNX(W_,364) = 2;
DYNX(W_,365) = 2;
DYNX(W_,372) = 3;
DYNX(W_,377) = true;
DYNX(W_,378) = 4;
DYNX(W_,408) = false;
DYNX(W_,429) = true;
DYNX(W_,430) = 1;
DYNX(W_,439) = 1.0;
DYNX(W_,442) = true;
DYNX(W_,452) = 2;
DYNX(W_,492) = 4;
DYNX(W_,494) = 2;
DYNX(W_,495) = 1;
DYNX(W_,496) = false;
DYNX(W_,497) = 1;
DYNX(W_,498) = 1;
DYNX(W_,505) = 2;
DYNX(W_,509) = true;
DYNX(W_,510) = 4;
DYNX(W_,531) = false;
DYNX(W_,551) = false;
DYNX(W_,552) = 2;
DYNX(W_,577) = true;
DYNX(W_,589) = true;
DYNX(W_,601) = true;
DYNX(W_,613) = true;
DYNX(W_,6) = 0;
DYNX(W_,224) = 0;
DYNX(W_,334) = 0;
DYNX(W_,446) = 10;
DYNX(W_,451) = 0;
memcpy(&DYNX(W_,1), &DymArrays2, sizeof(double)*4);
DYNX(W_,9) = false;
memcpy(&DYNX(W_,17), &DymArrays3, sizeof(double)*4);
DYNX(W_,22) = true;
DYNX(W_,34) = true;
DYNX(W_,45) = false;
DYNX(W_,58) = false;
DYNX(W_,64) = true;
DYNX(W_,65) = 10;
DYNX(W_,105) = 4;
DYNX(W_,106) = 4;
DYNX(W_,98) = false;
DYNX(W_,101) = false;
DYNX(W_,103) = 0;
DYNX(W_,107) = 4;
DYNX(W_,108) = 4;
DYNX(W_,110) = true;
DYNX(W_,121) = true;
DYNX(W_,134) = false;
DYNX(W_,135) = 0;
DYNX(W_,153) = false;
DYNX(W_,157) = false;
DYNX(W_,167) = false;
DYNX(W_,168) = false;
DYNX(W_,192) = 2;
DYNX(W_,210) = false;
DYNX(W_,218) = false;
DYNX(W_,219) = false;
DYNX(W_,220) = true;
memcpy(&DYNX(W_,227), &DymArrays2, sizeof(double)*4);
DYNX(W_,233) = true;
DYNX(W_,234) = 353.15;
DYNX(W_,235) = 334720.0;
DYNX(W_,326) = 1.0;
DYNX(W_,248) = 0.0;
DYNX(W_,250) = 0.0;
DYNX(W_,256) = 2;
DYNX(W_,257) = 1;
DYNX(W_,258) = false;
DYNX(W_,261) = true;
DYNX(W_,269) = 0.0;
DYNX(W_,272) = 2;
DYNX(W_,281) = true;
DYNX(W_,282) = false;
DYNX(W_,297) = 4000;
DYNX(W_,299) = false;
DYNX(W_,300) = false;
DYNX(W_,307) = false;
DYNX(W_,308) = false;
DYNX(W_,322) = true;
DYNX(W_,323) = 0;
DYNX(W_,328) = false;
DYNX(W_,329) = false;
DYNX(W_,330) = true;
memcpy(&DYNX(W_,337), &DymArrays2, sizeof(double)*4);
DYNX(W_,343) = true;
DYNX(W_,344) = 313.15;
DYNX(W_,345) = 167360.0;
DYNX(W_,436) = 1.0;
DYNX(W_,358) = 0.0;
DYNX(W_,360) = 0.0;
DYNX(W_,366) = 2;
DYNX(W_,367) = 1;
DYNX(W_,368) = false;
DYNX(W_,371) = true;
DYNX(W_,379) = 0.0;
DYNX(W_,382) = 2;
DYNX(W_,391) = true;
DYNX(W_,392) = false;
DYNX(W_,407) = 4000;
DYNX(W_,409) = false;
DYNX(W_,410) = false;
DYNX(W_,417) = false;
DYNX(W_,418) = false;
DYNX(W_,432) = true;
DYNX(W_,433) = 0;
DYNX(W_,444) = true;
DYNX(W_,445) = true;
DYNX(W_,447) = true;
memcpy(&DYNX(W_,455), &DymArrays2, sizeof(double)*4);
DYNX(W_,462) = true;
DYNX(W_,463) = 353.15;
DYNX(W_,464) = 334720.0;
DYNX(W_,482) = 5.0;
DYNX(W_,483) = 5.0;
DYNX(W_,565) = 0.5;
DYNX(W_,490) = 0.0;
DYNX(W_,566) = 0.5;
DYNX(W_,491) = 0.0;
DYNX(W_,493) = 0.0;
DYNX(W_,499) = 1;
DYNX(W_,500) = 2;
DYNX(W_,501) = false;
DYNX(W_,504) = true;
DYNX(W_,511) = 0.0;
DYNX(W_,514) = 1;
DYNX(W_,520) = true;
DYNX(W_,521) = false;
DYNX(W_,530) = 4000;
DYNX(W_,532) = false;
DYNX(W_,533) = false;
DYNX(W_,540) = false;
DYNX(W_,541) = false;
DYNX(W_,557) = false;
DYNX(W_,558) = 0;
DYNX(W_,578) = true;
DYNX(W_,590) = true;
DYNX(W_,602) = true;
DYNX(W_,614) = true;
DYNX(W_,183) = false;
DYNX(W_,243) = false;
DYNX(W_,353) = false;
DYNX(W_,481) = false;
DYNX(W_,349) = 0.0;
DYNX(W_,472) = 0.0;
DYNX(W_,549) = 10.0;
DYNX(W_,550) = 0.0;
DYNX(W_,535) = 4000;
DYNX(W_,471) = 0.0;
DYNX(W_,437) = 0;
DYNX(W_,316) = 0.0;
DYNX(W_,302) = 4000;
DYNX(W_,239) = 0.0;
DYNX(W_,315) = 0.0;
DYNX(W_,301) = 4000;
DYNX(W_,126) = 0;
DYNX(W_,425) = 0.0;
DYNX(W_,411) = 4000;
DYNX(W_,426) = 0.0;
DYNX(W_,412) = 4000;
DYNX(W_,440) = 0;
DYNX(W_,44) = 0;
DYNX(W_,31) = 0;
DYNX(W_,104) = 0;
DYNX(W_,118) = 0;
DYNX(W_,125) = 0.0;
DYNX(W_,124) = 0.0;
DYNX(W_,152) = 0;
DYNX(W_,286) = 995.586;
DYNX(W_,287) = 995.586;
DYNX(W_,291) = 0.001;
DYNX(W_,292) = 0.001;
DYNX(W_,396) = 995.586;
DYNX(W_,397) = 995.586;
DYNX(W_,401) = 0.001;
DYNX(W_,402) = 0.001;
DYNX(W_,524) = 995.586;
DYNX(W_,527) = 0.001;
DYNX(W_,575) = 0;
DYNX(W_,587) = 0;
DYNX(W_,599) = 0;
DYNX(W_,611) = 0;
DYNX(W_,239) = 0.0;
DYNX(W_,471) = 0.0;
DYNX(W_,472) = 0.0;
DYNX(W_,349) = 0.0;
DYNX(W_,472) = 0.0;
DYNX(W_,349) = 0.0;
DYNX(W_,239) = 0.0;
DYNX(W_,471) = 0.0;
DYNX(W_,14) = 0.0;
DYNX(W_,112) = 0.0;
DYNX(W_,40) = 0.0;
DYNX(W_,275) = 0.0;
DYNX(W_,276) = 0.0;
DYNX(W_,264) = 0.0;
DYNX(W_,265) = 0.0;
memcpy(&DYNX(W_,288), &DymArrays4, sizeof(double)*3);
memcpy(&DYNX(W_,283), &DymArrays5, sizeof(double)*3);
#endif
BreakSectionFunctionCallNew(0);
BreakSectionFunctionEnd()
BreakSectionFunctionStart(1);
#if defined(DynSimStruct) || defined(BUILDFMU)
DYNX(W_,240) = 0.0;
DYNX(W_,576) = 0.018015268;
DYNX(W_,572) = 1.0;
DYNX(W_,571) = 995.586;
DYNX(W_,477) = 0.0;
DYNX(W_,478) = 0.0;
DYNX(W_,517) = 0.0;
DYNX(W_,507) = 0.0;
DYNX(W_,525) = 0.001;
DYNX(W_,526) = 0.001;
DYNX(W_,515) = 10.0;
DYNX(W_,534) = 10.0;
DYNX(W_,522) = 995.586;
DYNX(W_,523) = 995.586;
DYNX(W_,555) = 0.0;
DYNX(W_,556) = 0.0;
DYNX(W_,560) = 0.0;
DYNX(W_,561) = 0.0;
DYNX(W_,563) = 5.0;
DYNX(W_,564) = 5.0;
DYNX(W_,473) = 0.0;
DYNX(W_,474) = 0.0;
DYNX(W_,600) = 0.018015268;
DYNX(W_,596) = 1.0;
DYNX(W_,595) = 995.586;
DYNX(W_,612) = 0.018015268;
DYNX(W_,608) = 1.0;
DYNX(W_,607) = 995.586;
DYNX(W_,129) = 0.0;
DYNX(W_,150) = 0.8;
DYNX(W_,133) = 0.0;
DYNX(W_,137) = 0.0;
DYNX(W_,132) = 0.0;
DYNX(W_,119) = 0.018015268;
DYNX(W_,116) = 1.0;
DYNX(W_,113) = 995.586;
DYNX(W_,139) = 995.586;
DYNX(W_,385) = 0.0;
DYNX(W_,386) = 0.0;
DYNX(W_,374) = 0.0;
DYNX(W_,375) = 0.0;
memcpy(&DYNX(W_,398), &DymArrays4, sizeof(double)*3);
memcpy(&DYNX(W_,393), &DymArrays5, sizeof(double)*3);
DYNX(W_,350) = 0.0;
DYNX(W_,588) = 0.018015268;
DYNX(W_,584) = 1.0;
DYNX(W_,583) = 995.586;
DYNX(W_,438) = 83680.0;
DYNX(W_,441) = 83680.0;
DYNX(W_,68) = 0.0;
DYNX(W_,67) = 0.0;
DYNX(W_,41) = 0.0;
DYNX(W_,32) = 0.018015268;
DYNX(W_,28) = 1.0;
DYNX(W_,25) = 995.586;
DYNX(W_,69) = 995.586;
DYNX(W_,70) = 995.586;
#endif
if (!DymolaUserHomotopy) UpdateInitVars(time, X_, XD_, U_, DP_, IP_, LP_, F_, Y_, W_, QZ_, duser_, iuser_, cuser_, did_, 1);
BoundParameterSection
AssertModelica(DYNX(DP_,50) > 0,"valve.filter.u_nominal > 0", "u_nominal > 0 required");
AssertModelica(DYNX(DP_,44) > 0,"valve.filter.A_ripple > 0", "A_ripple > 0 required");
AssertModelica(DYNX(DP_,56) >= 0.0,"heater.length >= 0.0", "Parameter length must be greater or equal height_ab.");
AssertModelica(DYNX(DP_,65) >= 0.0,"radiator.length >= 0.0", "Parameter length must be greater or equal height_ab.");
BoundParameterSection
DYNX(W_,7) = DYNX(DP_,0);
DYNX(W_,8) = DYNX(DP_,1);
DYNX(W_,10) = IF DYNX(W_,9) THEN 1 ELSE 100.0*DYNX(DP_,5);
DYNX(W_,15) = DYNX(DP_,0);
DYNX(W_,16) = DYNX(DP_,1);
DYNX(W_,21) = DYNX(W_,15);
DYNX(W_,23) = IF DYNX(W_,22) THEN 4184*(DYNX(DP_,9)-273.15) ELSE 83680.0;
DYNX(W_,56) = IF DYNX(W_,9) THEN DYNX(W_,10) ELSE 100.0*DYNX(DP_,5);
DYNX(W_,57) = IF DYNX(W_,9) THEN DYNX(DP_,3)*DYNX(W_,56) ELSE DYNX(DP_,5);
DYNX(W_,66) = DYNX(DP_,1);
DYNX(W_,88) = DYNX(DP_,6);
DYNX(W_,89) = DYNX(DP_,7);
DYNX(W_,94) = RealBmax(DYNX(DP_,8), 1E-15);
DYNX(W_,99) = divmacro(divmacro(DYNX(DP_,23),"pump.m_flow_start",DYNX(DP_,26),
  "pump.rho_nominal"),"pump.m_flow_start/pump.rho_nominal",DYNX(DP_,24),
  "pump.nParallel");
DYNX(W_,160) = divmacro(DYNX(DP_,32),"pump.m_flow_nominal",DYNX(DP_,26),
  "pump.rho_nominal");
DYNX(W_,138) = DYNX(DP_,2);
DYNX(W_,161) = divmacro(DYNX(DP_,31)-DYNX(DP_,30),"pump.p_b_nominal-pump.p_a_nominal",
  DYNX(DP_,26)*DYNX(W_,138),"pump.rho_nominal*pump.g");
{
  RealAssign(RealTemporaryDense(&(DYNX(DYNhelp,0)), 1, 3), RealScalarArray ( 3, 
    0.0, DYNX(W_,160), 1.5*DYNX(W_,160)));
}
PopAllMarks();
{
  RealAssign(RealTemporaryDense(&(DYNX(DYNhelp,3)), 1, 3), RealScalarArray ( 3, 2
    *DYNX(W_,161), DYNX(W_,161), 0.0));
}
PopAllMarks();
DYNX(DYNhelp,6) = (PushModelContext(1,"pump.flowCharacteristic_Unique'\"pump\"'(pump.V_flow_single_init, {0, pump.V_flow_op, 1.5*pump.V_flow_op}, {2*pump.head_op, pump.head_op, 0})")
  pump_flowCharacteristicx_0Uniquez_0cchahfgnhacc(DYNX(W_,99), RealTemporaryDense(&(
  DYNX(DYNhelp,0)), 1, 3), RealTemporaryDense(&(DYNX(DYNhelp,3)), 1, 3)));
PopModelContext();
DYNX(DYNhelp,7) = (PushModelContext(1,"pump.flowCharacteristic_Unique'\"pump\"'(0, {0, pump.V_flow_op, 1.5*pump.V_flow_op}, {2*pump.head_op, pump.head_op, 0})")
  pump_flowCharacteristicx_0Uniquez_0cchahfgnhacc(0, RealTemporaryDense(&(
  DYNX(DYNhelp,0)), 1, 3), RealTemporaryDense(&(DYNX(DYNhelp,3)), 1, 3)));
PopModelContext();
DYNX(W_,100) = DYNX(DYNhelp,6)-DYNX(DYNhelp,7);
DYNX(W_,109) = DYNX(DP_,22);
DYNX(W_,111) = IF DYNX(W_,110) THEN 4184*(DYNX(DP_,27)-273.15) ELSE 83680.0;
DYNX(W_,136) = DYNX(DP_,1);
DYNX(W_,169) = DYNX(DP_,38);
DYNX(W_,170) = IF DYNX(W_,9) THEN DYNX(DP_,3)*DYNX(DP_,38) ELSE DYNX(DP_,5);
DYNX(W_,184) = IF DYNX(W_,9) THEN divmacro(DYNX(DP_,37)*DYNX(W_,170),
  "valve.dp_nominal*valve.m_flow_small",DYNX(DP_,38),"valve.m_flow_nominal")
   ELSE DYNX(DP_,4);
DYNX(W_,191) = divmacro(5,"5",6.283185307179586*DYNX(DP_,41),"6.283185307179586*valve.riseTime");
DYNX(W_,207) = DYNX(DP_,42);
DYNX(W_,211) = DYNX(DP_,1);
DYNX(W_,221) = 0.7853981633974483*DYNX(DP_,57)*DYNX(DP_,57);
DYNX(W_,222) = 3.141592653589793*DYNX(DP_,57);
DYNX(W_,223) = DYNX(W_,221)*DYNX(DP_,56)*DYNX(DP_,55);
DYNX(W_,231) = DYNX(DP_,59);
DYNX(W_,232) = 0.5*(DYNX(DP_,59)+DYNX(W_,231));
DYNX(W_,244) = DYNX(DP_,56);
DYNX(W_,245) = DYNX(W_,221);
DYNX(W_,246) = divmacro(4*DYNX(W_,221),"4*heater.crossArea",DYNX(W_,222),
  "heater.perimeter");
DYNX(W_,247) = DYNX(DP_,58);
DYNX(W_,263) = DYNX(DP_,55);
DYNX(W_,266) = DYNX(DP_,2);
DYNX(W_,270) = DYNX(DP_,59);
DYNX(W_,271) = DYNX(W_,231);

 /* Linear system of equations to solve. */
/* Tag: initialization.linear[1] */
/* Introducing 1 common subexpressions used in 1 expressions */
/* Of the common subexpressions 1 are reals, 0 are integers, and 0
   are booleans. */
DYNX(DYNhelp,8) = IF DYNX(W_,9) THEN 0.0 ELSE 100.0;
DYNX(W_,304) = 0.0;
SolveScalarLinearParametric(1.0-DYNX(DYNhelp,8)*(IF DYNX(W_,9) THEN DYNX(DP_,3)
   ELSE 0.0),"1.0-(if system.use_eps_Re then 0.0 else 100.0)*(if system.use_eps_Re then system.eps_m_flow else 0.0)",
   (IF DYNX(W_,9) THEN DYNX(W_,10) ELSE 0.0)+DYNX(DYNhelp,8)*(IF DYNX(W_,9)
   THEN 0.0 ELSE DYNX(DP_,5)),"(if system.use_eps_Re then system.m_flow_nominal else 0.0)+(if system.use_eps_Re then 0.0 else 100.0)*(if system.use_eps_Re then 0.0 else system.m_flow_small)",
   DYNX(W_,304),"heater.flowModel.m_flow_nominal");
DYNX(W_,305) = IF DYNX(W_,9) THEN DYNX(DP_,3)*DYNX(W_,304) ELSE DYNX(DP_,5);
 /* End of Equation Block */ 

DYNX(W_,324) = DYNX(DP_,1);
DYNX(W_,325) = DYNX(DP_,55);
DYNX(W_,331) = 0.7853981633974483*DYNX(DP_,66)*DYNX(DP_,66);
DYNX(W_,332) = 3.141592653589793*DYNX(DP_,66);
DYNX(W_,333) = DYNX(W_,331)*DYNX(DP_,65)*DYNX(DP_,64);
DYNX(W_,341) = DYNX(DP_,68);
DYNX(W_,342) = 0.5*(DYNX(DP_,68)+DYNX(W_,341));
DYNX(W_,354) = DYNX(DP_,65);
DYNX(W_,355) = DYNX(W_,331);
DYNX(W_,356) = divmacro(4*DYNX(W_,331),"4*radiator.crossArea",DYNX(W_,332),
  "radiator.perimeter");
DYNX(W_,357) = DYNX(DP_,67);
DYNX(W_,373) = DYNX(DP_,64);
DYNX(W_,376) = DYNX(DP_,2);
DYNX(W_,380) = DYNX(DP_,68);
DYNX(W_,381) = DYNX(W_,341);

 /* Linear system of equations to solve. */
/* Tag: initialization.linear[2] */
/* Introducing 1 common subexpressions used in 1 expressions */
/* Of the common subexpressions 1 are reals, 0 are integers, and 0
   are booleans. */
DYNX(DYNhelp,9) = IF DYNX(W_,9) THEN 0.0 ELSE 100.0;
DYNX(W_,414) = 0.0;
SolveScalarLinearParametric(1.0-DYNX(DYNhelp,9)*(IF DYNX(W_,9) THEN DYNX(DP_,3)
   ELSE 0.0),"1.0-(if system.use_eps_Re then 0.0 else 100.0)*(if system.use_eps_Re then system.eps_m_flow else 0.0)",
   (IF DYNX(W_,9) THEN DYNX(W_,10) ELSE 0.0)+DYNX(DYNhelp,9)*(IF DYNX(W_,9)
   THEN 0.0 ELSE DYNX(DP_,5)),"(if system.use_eps_Re then system.m_flow_nominal else 0.0)+(if system.use_eps_Re then 0.0 else 100.0)*(if system.use_eps_Re then 0.0 else system.m_flow_small)",
   DYNX(W_,414),"radiator.flowModel.m_flow_nominal");
DYNX(W_,415) = IF DYNX(W_,9) THEN DYNX(DP_,3)*DYNX(W_,414) ELSE DYNX(DP_,5);
 /* End of Equation Block */ 

DYNX(W_,434) = DYNX(DP_,1);
DYNX(W_,435) = DYNX(DP_,64);
DYNX(W_,448) = 0.7853981633974483*DYNX(DP_,74)*DYNX(DP_,74);
DYNX(W_,449) = 3.141592653589793*DYNX(DP_,74);
DYNX(W_,450) = DYNX(W_,448)*DYNX(W_,446)*DYNX(DP_,73);
DYNX(W_,459) = DYNX(DP_,76);
DYNX(W_,460) = DYNX(DP_,76);
DYNX(W_,461) = DYNX(W_,459);
DYNX(W_,484) = DYNX(W_,448);
DYNX(W_,485) = DYNX(W_,448);
DYNX(W_,486) = divmacro(4*DYNX(W_,448),"4*pipe.crossArea",DYNX(W_,449),
  "pipe.perimeter");
DYNX(W_,487) = divmacro(4*DYNX(W_,448),"4*pipe.crossArea",DYNX(W_,449),
  "pipe.perimeter");
DYNX(W_,488) = DYNX(DP_,75);
DYNX(W_,489) = DYNX(DP_,75);
DYNX(W_,506) = DYNX(DP_,73);
DYNX(W_,508) = DYNX(DP_,2);
DYNX(W_,512) = DYNX(DP_,76);
DYNX(W_,513) = DYNX(W_,459);

 /* Linear system of equations to solve. */
/* Tag: initialization.linear[3] */
/* Introducing 1 common subexpressions used in 1 expressions */
/* Of the common subexpressions 1 are reals, 0 are integers, and 0
   are booleans. */
DYNX(DYNhelp,10) = IF DYNX(W_,9) THEN 0.0 ELSE 100.0;
DYNX(W_,537) = 0.0;
SolveScalarLinearParametric(1.0-DYNX(DYNhelp,10)*(IF DYNX(W_,9) THEN DYNX(DP_,3)
   ELSE 0.0),"1.0-(if system.use_eps_Re then 0.0 else 100.0)*(if system.use_eps_Re then system.eps_m_flow else 0.0)",
   (IF DYNX(W_,9) THEN DYNX(W_,10) ELSE 0.0)+DYNX(DYNhelp,10)*(IF DYNX(W_,9)
   THEN 0.0 ELSE DYNX(DP_,5)),"(if system.use_eps_Re then system.m_flow_nominal else 0.0)+(if system.use_eps_Re then 0.0 else 100.0)*(if system.use_eps_Re then 0.0 else system.m_flow_small)",
   DYNX(W_,537),"pipe.flowModel.m_flow_nominal");
DYNX(W_,538) = IF DYNX(W_,9) THEN DYNX(DP_,3)*DYNX(W_,537) ELSE DYNX(DP_,5);
 /* End of Equation Block */ 

DYNX(W_,559) = DYNX(DP_,1);
DYNX(W_,562) = DYNX(DP_,73);
DYNX(W_,567) = DYNX(DP_,84);
DYNX(W_,568) = DYNX(DP_,85);
BoundParameterConstantSection
DYNX(W_,542) = 0.5*(DYNX(W_,486)+DYNX(W_,487));
DYNX(W_,314) = 0.5*DYNX(W_,244);
DYNX(W_,313) = 0.5*DYNX(W_,244);
DYNX(W_,423) = 0.5*DYNX(W_,354);
DYNX(W_,424) = 0.5*DYNX(W_,354);
DYNX(W_,81) = 0.7853981633974483*sqr(DYNX(DP_,11));
DYNX(W_,82) = 0.7853981633974483*sqr(DYNX(DP_,15));
DYNX(W_,454) = 5.0*DYNX(DP_,73)*DYNX(W_,485);
DYNX(W_,470) = 995.586*DYNX(W_,454);
DYNX(W_,336) = DYNX(DP_,64)*DYNX(W_,355)*DYNX(W_,354);
DYNX(W_,348) = 995.586*DYNX(W_,336);
DYNX(W_,226) = DYNX(DP_,55)*DYNX(W_,245)*DYNX(W_,244);
DYNX(W_,238) = 995.586*DYNX(W_,226);
DYNX(W_,453) = 5.0*DYNX(DP_,73)*DYNX(W_,484);
DYNX(W_,469) = 995.586*DYNX(W_,453);
DYNX(W_,24) = DYNX(W_,15);
DYNX(W_,36) = 1E-05*DYNX(W_,24);
DYNX(DYNhelp,11) = divmacro(DYNX(W_,304),"heater.flowModel.m_flow_nominal",
  DYNX(W_,263),"heater.flowModel.nParallel");
DYNX(DYNhelp,12) = divmacro(1.0,"1.0",DYNX(W_,263),"heater.flowModel.nParallel");
DYNX(DYNhelp,13) = DYNX(DYNhelp,12)*DYNX(W_,305);
DYNX(DYNhelp,14) = (PushModelContext(1,"pressureLoss_m_flow_Unique11(heater.flowModel.m_flow_nominal/heater.flowModel.nParallel, heater.flowModel.rho_nominal, heater.flowModel.rho_nominal, heater.flowModel.mu_nominal, heater.flowModel.mu_nominal, heater.pathLengths[1], heater.dimensions[1], heater.crossAreas[1], heater.roughnesses[1], heater.flowModel.m_flow_small/heater.flowModel.nParallel, 4000.0)")
  pressureLossx_0mx_0flowx_0Unique11(DYNX(DYNhelp,11), DYNX(DP_,61), 
  DYNX(DP_,61), DYNX(DP_,62), DYNX(DP_,62), DYNX(W_,313), DYNX(W_,246), 
  DYNX(W_,245), DYNX(W_,247), DYNX(DYNhelp,13), 4000.0));
PopModelContext();
DYNX(DYNhelp,15) = (PushModelContext(1,"pressureLoss_m_flow_Unique11(heater.flowModel.m_flow_nominal/heater.flowModel.nParallel, heater.flowModel.rho_nominal, heater.flowModel.rho_nominal, heater.flowModel.mu_nominal, heater.flowModel.mu_nominal, heater.pathLengths[2], heater.dimensions[1], heater.crossAreas[1], heater.roughnesses[1], heater.flowModel.m_flow_small/heater.flowModel.nParallel, 4000.0)")
  pressureLossx_0mx_0flowx_0Unique11(DYNX(DYNhelp,11), DYNX(DP_,61), 
  DYNX(DP_,61), DYNX(DP_,62), DYNX(DP_,62), DYNX(W_,314), DYNX(W_,246), 
  DYNX(W_,245), DYNX(W_,247), DYNX(DYNhelp,13), 4000.0));
PopModelContext();
DYNX(W_,309) = DYNX(DYNhelp,14)+DYNX(DYNhelp,15);
DYNX(W_,321) = DYNX(W_,222)*DYNX(W_,244);
DYNX(DYNhelp,16) = divmacro(DYNX(W_,414),"radiator.flowModel.m_flow_nominal",
  DYNX(W_,373),"radiator.flowModel.nParallel");
DYNX(DYNhelp,17) = divmacro(1.0,"1.0",DYNX(W_,373),"radiator.flowModel.nParallel");
DYNX(DYNhelp,18) = DYNX(DYNhelp,17)*DYNX(W_,415);
DYNX(DYNhelp,19) = (PushModelContext(1,"pressureLoss_m_flow_Unique11(radiator.flowModel.m_flow_nominal/radiator.flowModel.nParallel, radiator.flowModel.rho_nominal, radiator.flowModel.rho_nominal, radiator.flowModel.mu_nominal, radiator.flowModel.mu_nominal, radiator.pathLengths[1], radiator.dimensions[1], radiator.crossAreas[1], radiator.roughnesses[1], radiator.flowModel.m_flow_small/radiator.flowModel.nParallel, 4000.0)")
  pressureLossx_0mx_0flowx_0Unique11(DYNX(DYNhelp,16), DYNX(DP_,70), 
  DYNX(DP_,70), DYNX(DP_,71), DYNX(DP_,71), DYNX(W_,423), DYNX(W_,356), 
  DYNX(W_,355), DYNX(W_,357), DYNX(DYNhelp,18), 4000.0));
PopModelContext();
DYNX(DYNhelp,20) = (PushModelContext(1,"pressureLoss_m_flow_Unique11(radiator.flowModel.m_flow_nominal/radiator.flowModel.nParallel, radiator.flowModel.rho_nominal, radiator.flowModel.rho_nominal, radiator.flowModel.mu_nominal, radiator.flowModel.mu_nominal, radiator.pathLengths[2], radiator.dimensions[1], radiator.crossAreas[1], radiator.roughnesses[1], radiator.flowModel.m_flow_small/radiator.flowModel.nParallel, 4000.0)")
  pressureLossx_0mx_0flowx_0Unique11(DYNX(DYNhelp,16), DYNX(DP_,70), 
  DYNX(DP_,70), DYNX(DP_,71), DYNX(DP_,71), DYNX(W_,424), DYNX(W_,356), 
  DYNX(W_,355), DYNX(W_,357), DYNX(DYNhelp,18), 4000.0));
PopModelContext();
DYNX(W_,419) = DYNX(DYNhelp,19)+DYNX(DYNhelp,20);
DYNX(W_,431) = DYNX(W_,332)*DYNX(W_,354);
DYNX(W_,553) = 5.0*DYNX(W_,449);
DYNX(W_,554) = 5.0*DYNX(W_,449);
 /* Linear system of equations to solve. */
DYNX(W_,12) = 0.0;
SolveScalarLinearParametric( -DYNX(DP_,7)," -tank.crossArea", 0.0,"0.0", 
  DYNX(W_,12),"der(tank.level)");
 /* End of Equation Block */ 

DYNX(W_,123) = 1E-05*DYNX(DP_,31);
DYNX(DYNhelp,21) = divmacro(1.0,"1.0",DYNX(W_,506),"pipe.flowModel.nParallel");
DYNX(W_,543) = (PushModelContext(1,"pressureLoss_m_flow_Unique11(pipe.flowModel.m_flow_nominal/pipe.flowModel.nParallel, pipe.flowModel.rho_nominal, pipe.flowModel.rho_nominal, pipe.flowModel.mu_nominal, pipe.flowModel.mu_nominal, 10.0, pipe.flowModel.diameters[1], 0.5*(pipe.crossAreas[1]+pipe.crossAreas[2]), 0.5*(pipe.roughnesses[1]+pipe.roughnesses[2]), pipe.flowModel.m_flow_small/pipe.flowModel.nParallel, 4000)")
  pressureLossx_0mx_0flowx_0Unique11(DYNX(DYNhelp,21)*DYNX(W_,537), DYNX(DP_,78),
   DYNX(DP_,78), DYNX(DP_,79), DYNX(DP_,79), 10.0, DYNX(W_,542), 0.5*(
  DYNX(W_,484)+DYNX(W_,485)), 0.5*(DYNX(W_,488)+DYNX(W_,489)), DYNX(DYNhelp,21)*
  DYNX(W_,538), 4000));
PopModelContext();
BoundParameterSection
InitialSection
#if defined(DynSimStruct) || defined(BUILDFMU)
DYNX(W_,49) = 100000.0;
PopModelContext();
DYNX(W_,53) = 100000.0;
DYNX(W_,83) = 100000.0;
DYNX(W_,84) = 100000.0;
DYNX(W_,90) = true;
DYNX(W_,91) = true;
DYNX(W_,92) = false;
DYNX(W_,93) = false;
DYNX(W_,154) = 288.15;
DYNX(W_,163) = 167360.0;
DYNX(W_,164) = 110000;
DYNX(W_,166) = 334720.0;
DYNX(W_,176) = 288.15;
DYNX(W_,177) = 288.15;
DYNX(W_,178) = 288.15;
DYNX(W_,179) = 288.15;
DYNX(W_,217) = 334720.0;
DYNX(W_,259) = 288.15;
DYNX(W_,260) = 288.15;
DYNX(W_,369) = 288.15;
DYNX(W_,370) = 288.15;
DYNX(W_,443) = 334720.0;
DYNX(W_,502) = 288.15;
DYNX(W_,503) = 288.15;
#endif
InitialSection
InitialStartSection
InitialStartSection2
DYNX(W_,11) = DYNX(W_,94);
DYNX(W_,26) = DYNX(DP_,9);
DYNX(W_,47) = DYNX(DP_,23);
AssertModelica(DYNX(W_,47) >= -0.5,"tank.ports[1].m_flow >= -0.5", StringAdd(
  "Value for variable, with non-reversible flow according to min/max bound, is: ",
  Real2String(DYNX(W_,47), 1, 10)));
AssertModelica(DYNX(W_,47) <= 100000.5,"tank.ports[1].m_flow <= 100000.5", 
  StringAdd("Value for variable, with non-reversible flow according to min/max bound, is: ",
  Real2String(DYNX(W_,47), 1, 10)));
PopAllMarks();
DYNX(W_,51) = DYNX(W_,23);
DYNX(W_,75) = DYNX(W_,88);
DYNX(W_,76) = DYNX(W_,88);
DYNX(W_,96) = DYNX(W_,111);
DYNX(W_,114) = DYNX(DP_,27);
DYNX(W_,145) = divmacro(divmacro(DYNX(DP_,23),"pump.m_flow_start",DYNX(DP_,26),
  "pump.rho_nominal"),"pump.m_flow_start/pump.rho_nominal",DYNX(DP_,24),
  "pump.nParallel");
DYNX(W_,147) = DYNX(DP_,25);
DYNX(W_,173) = DYNX(DP_,34);
DYNX(W_,293) = 0.5*(DYNX(W_,270)-DYNX(W_,271));
DYNX(W_,294) = 0.5*(DYNX(W_,270)-DYNX(W_,271));
DYNX(W_,403) = 0.5*(DYNX(W_,380)-DYNX(W_,381));
DYNX(W_,404) = 0.5*(DYNX(W_,380)-DYNX(W_,381));
DYNX(W_,528) = DYNX(W_,512)-DYNX(W_,513);
DYNX(W_,569) = DYNX(W_,232);
DYNX(W_,581) = DYNX(W_,342);
DYNX(W_,593) = DYNX(W_,460);
DYNX(W_,605) = DYNX(W_,461);
InitialSection
if (!DymolaUserHomotopy) UpdateInitVars(time, X_, XD_, U_, DP_, IP_, LP_, F_, Y_, W_, QZ_, duser_, iuser_, cuser_, did_, 1);
DefaultSection
InitializeData(0)
InitialSection
InitialSection2
DYNX(W_,195) = 0.0;
DYNX(W_,206) = 0.0;
DYNX(W_,38) = 0.0;
DYNX(W_,30) = 0.0;
DYNX(W_,27) = 0;
DYNX(W_,52) = 0;
DYNX(F_,0) = 0.0;
DYNX(W_,237) = 0.0;
DYNX(W_,574) = 0.0;
DYNX(F_,1) = 0.0;
DYNX(W_,467) = 0.0;
DYNX(W_,598) = 0.0;
DYNX(F_,3) = 0.0;
DYNX(W_,468) = 0.0;
DYNX(W_,610) = 0.0;
DYNX(F_,4) = 0.0;
DYNX(W_,347) = 0.0;
DYNX(W_,586) = 0.0;
DYNX(F_,2) = 0.0;
DYNX(W_,7) = DYNX(DP_,0);
DYNX(W_,8) = DYNX(DP_,1);
DYNX(W_,10) = IF DYNX(W_,9) THEN 1 ELSE 100.0*DYNX(DP_,5);
DYNX(W_,15) = DYNX(DP_,0);
DYNX(W_,16) = DYNX(DP_,1);
DYNX(W_,21) = DYNX(W_,15);
DYNX(W_,23) = IF DYNX(W_,22) THEN 4184*(DYNX(DP_,9)-273.15) ELSE 83680.0;
DYNX(W_,56) = IF DYNX(W_,9) THEN DYNX(W_,10) ELSE 100.0*DYNX(DP_,5);
DYNX(W_,57) = IF DYNX(W_,9) THEN DYNX(DP_,3)*DYNX(W_,56) ELSE DYNX(DP_,5);
DYNX(W_,66) = DYNX(DP_,1);
DYNX(W_,88) = DYNX(DP_,6);
DYNX(W_,89) = DYNX(DP_,7);
DYNX(W_,94) = RealBmax(DYNX(DP_,8), 1E-15);
DYNX(W_,99) = divmacro(divmacro(DYNX(DP_,23),"pump.m_flow_start",DYNX(DP_,26),
  "pump.rho_nominal"),"pump.m_flow_start/pump.rho_nominal",DYNX(DP_,24),
  "pump.nParallel");
DYNX(W_,160) = divmacro(DYNX(DP_,32),"pump.m_flow_nominal",DYNX(DP_,26),
  "pump.rho_nominal");
DYNX(W_,138) = DYNX(DP_,2);
DYNX(W_,161) = divmacro(DYNX(DP_,31)-DYNX(DP_,30),"pump.p_b_nominal-pump.p_a_nominal",
  DYNX(DP_,26)*DYNX(W_,138),"pump.rho_nominal*pump.g");
DYNX(W_,100) = (PushModelContext(1,"pump.flowCharacteristic_Unique'\"pump\"'(pump.V_flow_single_init, {0, pump.V_flow_op, 1.5*pump.V_flow_op}, {2*pump.head_op, pump.head_op, 0})")
  pump_flowCharacteristicx_0Uniquez_0cchahfgnhacc(DYNX(W_,99), RealScalarArray 
  ( 3, 0.0, DYNX(W_,160), 1.5*DYNX(W_,160)), RealScalarArray ( 3, 2*DYNX(W_,161),
   DYNX(W_,161), 0.0)))-(PushModelContext(1,"pump.flowCharacteristic_Unique'\"pump\"'(0, {0, pump.V_flow_op, 1.5*pump.V_flow_op}, {2*pump.head_op, pump.head_op, 0})")
  pump_flowCharacteristicx_0Uniquez_0cchahfgnhacc(0, RealScalarArray ( 3, 0.0, 
  DYNX(W_,160), 1.5*DYNX(W_,160)), RealScalarArray ( 3, 2*DYNX(W_,161), 
  DYNX(W_,161), 0.0)));
PopAllMarks();
DYNX(W_,109) = DYNX(DP_,22);
DYNX(W_,111) = IF DYNX(W_,110) THEN 4184*(DYNX(DP_,27)-273.15) ELSE 83680.0;
DYNX(W_,136) = DYNX(DP_,1);
DYNX(W_,169) = DYNX(DP_,38);
DYNX(W_,170) = IF DYNX(W_,9) THEN DYNX(DP_,3)*DYNX(DP_,38) ELSE DYNX(DP_,5);
DYNX(W_,184) = IF DYNX(W_,9) THEN divmacro(DYNX(DP_,37)*DYNX(W_,170),
  "valve.dp_nominal*valve.m_flow_small",DYNX(DP_,38),"valve.m_flow_nominal")
   ELSE DYNX(DP_,4);
DYNX(W_,191) = divmacro(5,"5",6.283185307179586*DYNX(DP_,41),"6.283185307179586*valve.riseTime");
AssertModelica(DYNX(W_,191) > 0,"valve.filter.f_cut > 0", "f_cut > 0 required");
DYNX(W_,207) = DYNX(DP_,42);
DYNX(W_,211) = DYNX(DP_,1);
DYNX(W_,221) = 0.7853981633974483*DYNX(DP_,57)*DYNX(DP_,57);
DYNX(W_,222) = 3.141592653589793*DYNX(DP_,57);
DYNX(W_,223) = DYNX(W_,221)*DYNX(DP_,56)*DYNX(DP_,55);
DYNX(W_,231) = DYNX(DP_,59);
DYNX(W_,232) = 0.5*(DYNX(DP_,59)+DYNX(W_,231));
DYNX(W_,244) = DYNX(DP_,56);
DYNX(W_,245) = DYNX(W_,221);
DYNX(W_,246) = divmacro(4*DYNX(W_,221),"4*heater.crossArea",DYNX(W_,222),
  "heater.perimeter");
DYNX(W_,247) = DYNX(DP_,58);
DYNX(W_,263) = DYNX(DP_,55);
DYNX(W_,266) = DYNX(DP_,2);
DYNX(W_,270) = DYNX(DP_,59);
DYNX(W_,271) = DYNX(W_,231);

BreakSectionFunctionEnd()
BreakSectionFunctionStart(2);
 /* Linear system of equations to solve. */
/* Tag: initialization.linear[4] */
/* Introducing 1 common subexpressions used in 1 expressions */
/* Of the common subexpressions 1 are reals, 0 are integers, and 0
   are booleans. */
DYNX(DYNhelp,22) = IF DYNX(W_,9) THEN 0.0 ELSE 100.0;
DYNX(W_,304) = 0.0;
SolveScalarLinearParametric(1.0-DYNX(DYNhelp,22)*(IF DYNX(W_,9) THEN DYNX(DP_,3)
   ELSE 0.0),"1.0-(if system.use_eps_Re then 0.0 else 100.0)*(if system.use_eps_Re then system.eps_m_flow else 0.0)",
   (IF DYNX(W_,9) THEN DYNX(W_,10) ELSE 0.0)+DYNX(DYNhelp,22)*(IF DYNX(W_,9)
   THEN 0.0 ELSE DYNX(DP_,5)),"(if system.use_eps_Re then system.m_flow_nominal else 0.0)+(if system.use_eps_Re then 0.0 else 100.0)*(if system.use_eps_Re then 0.0 else system.m_flow_small)",
   DYNX(W_,304),"heater.flowModel.m_flow_nominal");
DYNX(W_,305) = IF DYNX(W_,9) THEN DYNX(DP_,3)*DYNX(W_,304) ELSE DYNX(DP_,5);
 /* End of Equation Block */ 

DYNX(W_,324) = DYNX(DP_,1);
DYNX(W_,325) = DYNX(DP_,55);
DYNX(W_,331) = 0.7853981633974483*DYNX(DP_,66)*DYNX(DP_,66);
DYNX(W_,332) = 3.141592653589793*DYNX(DP_,66);
DYNX(W_,333) = DYNX(W_,331)*DYNX(DP_,65)*DYNX(DP_,64);
DYNX(W_,341) = DYNX(DP_,68);
DYNX(W_,342) = 0.5*(DYNX(DP_,68)+DYNX(W_,341));
DYNX(W_,354) = DYNX(DP_,65);
DYNX(W_,355) = DYNX(W_,331);
DYNX(W_,356) = divmacro(4*DYNX(W_,331),"4*radiator.crossArea",DYNX(W_,332),
  "radiator.perimeter");
DYNX(W_,357) = DYNX(DP_,67);
DYNX(W_,373) = DYNX(DP_,64);
DYNX(W_,376) = DYNX(DP_,2);
DYNX(W_,380) = DYNX(DP_,68);
DYNX(W_,381) = DYNX(W_,341);

 /* Linear system of equations to solve. */
/* Tag: initialization.linear[5] */
/* Introducing 1 common subexpressions used in 1 expressions */
/* Of the common subexpressions 1 are reals, 0 are integers, and 0
   are booleans. */
DYNX(DYNhelp,23) = IF DYNX(W_,9) THEN 0.0 ELSE 100.0;
DYNX(W_,414) = 0.0;
SolveScalarLinearParametric(1.0-DYNX(DYNhelp,23)*(IF DYNX(W_,9) THEN DYNX(DP_,3)
   ELSE 0.0),"1.0-(if system.use_eps_Re then 0.0 else 100.0)*(if system.use_eps_Re then system.eps_m_flow else 0.0)",
   (IF DYNX(W_,9) THEN DYNX(W_,10) ELSE 0.0)+DYNX(DYNhelp,23)*(IF DYNX(W_,9)
   THEN 0.0 ELSE DYNX(DP_,5)),"(if system.use_eps_Re then system.m_flow_nominal else 0.0)+(if system.use_eps_Re then 0.0 else 100.0)*(if system.use_eps_Re then 0.0 else system.m_flow_small)",
   DYNX(W_,414),"radiator.flowModel.m_flow_nominal");
DYNX(W_,415) = IF DYNX(W_,9) THEN DYNX(DP_,3)*DYNX(W_,414) ELSE DYNX(DP_,5);
 /* End of Equation Block */ 

DYNX(W_,434) = DYNX(DP_,1);
DYNX(W_,435) = DYNX(DP_,64);
DYNX(W_,448) = 0.7853981633974483*DYNX(DP_,74)*DYNX(DP_,74);
DYNX(W_,449) = 3.141592653589793*DYNX(DP_,74);
DYNX(W_,450) = DYNX(W_,448)*DYNX(W_,446)*DYNX(DP_,73);
DYNX(W_,459) = DYNX(DP_,76);
DYNX(W_,460) = DYNX(DP_,76);
DYNX(W_,461) = DYNX(W_,459);
DYNX(W_,484) = DYNX(W_,448);
DYNX(W_,485) = DYNX(W_,448);
DYNX(W_,486) = divmacro(4*DYNX(W_,448),"4*pipe.crossArea",DYNX(W_,449),
  "pipe.perimeter");
DYNX(W_,487) = divmacro(4*DYNX(W_,448),"4*pipe.crossArea",DYNX(W_,449),
  "pipe.perimeter");
DYNX(W_,488) = DYNX(DP_,75);
DYNX(W_,489) = DYNX(DP_,75);
DYNX(W_,506) = DYNX(DP_,73);
DYNX(W_,508) = DYNX(DP_,2);
DYNX(W_,512) = DYNX(DP_,76);
DYNX(W_,513) = DYNX(W_,459);

 /* Linear system of equations to solve. */
/* Tag: initialization.linear[6] */
/* Introducing 1 common subexpressions used in 1 expressions */
/* Of the common subexpressions 1 are reals, 0 are integers, and 0
   are booleans. */
DYNX(DYNhelp,24) = IF DYNX(W_,9) THEN 0.0 ELSE 100.0;
DYNX(W_,537) = 0.0;
SolveScalarLinearParametric(1.0-DYNX(DYNhelp,24)*(IF DYNX(W_,9) THEN DYNX(DP_,3)
   ELSE 0.0),"1.0-(if system.use_eps_Re then 0.0 else 100.0)*(if system.use_eps_Re then system.eps_m_flow else 0.0)",
   (IF DYNX(W_,9) THEN DYNX(W_,10) ELSE 0.0)+DYNX(DYNhelp,24)*(IF DYNX(W_,9)
   THEN 0.0 ELSE DYNX(DP_,5)),"(if system.use_eps_Re then system.m_flow_nominal else 0.0)+(if system.use_eps_Re then 0.0 else 100.0)*(if system.use_eps_Re then 0.0 else system.m_flow_small)",
   DYNX(W_,537),"pipe.flowModel.m_flow_nominal");
DYNX(W_,538) = IF DYNX(W_,9) THEN DYNX(DP_,3)*DYNX(W_,537) ELSE DYNX(DP_,5);
 /* End of Equation Block */ 

DYNX(W_,559) = DYNX(DP_,1);
DYNX(W_,562) = DYNX(DP_,73);
DYNX(W_,567) = DYNX(DP_,84);
DYNX(W_,568) = DYNX(DP_,85);
 /* Linear system of equations to solve. */
/* Introducing 2 common subexpressions used in 2 expressions */
/* Of the common subexpressions 2 are reals, 0 are integers, and 0
   are booleans. */
DYNX(DYNhelp,25) = powmacro(DYNX(DP_,37)*DYNX(DP_,37)+DYNX(W_,184)*DYNX(W_,184),
  "valve.dp_nominal*valve.dp_nominal+valve.dp_small*valve.dp_small",0.25,"0.25");
DYNX(DYNhelp,26) = divmacro(1.0,"1.0",DYNX(DYNhelp,25),"(valve.dp_nominal*valve.dp_nominal+valve.dp_small*valve.dp_small)^0.25");
DYNX(W_,181) = divmacro(DYNX(DP_,38)*DYNX(DP_,40),"valve.m_flow_nominal*valve.opening_nominal",
  sqrtGuarded(DYNX(DP_,39)*DYNX(DP_,37),"valve.rho_nominal*valve.dp_nominal"),
  "sqrt(valve.rho_nominal*valve.dp_nominal)");
SolveScalarLinearParametric( -DYNX(DYNhelp,26)*DYNX(DP_,40)*sqrtGuarded(
  DYNX(DP_,39),"valve.rho_nominal")*DYNX(DP_,37)," -valve.opening_nominal*sqrt(valve.rho_nominal)*valve.dp_nominal/(valve.dp_nominal*valve.dp_nominal+valve.dp_small*valve.dp_small)^0.25",
    -DYNX(DP_,38)," -valve.m_flow_nominal", DYNX(W_,181),"valve.Av");
 /* End of Equation Block */ 

RealAssign (RealTemporaryDense( &DYNX(W_,200), 1, 2), (PushModelContext(1,
  "Modelica.Blocks.Continuous.Internal.Filter.base.CriticalDamping(2, valve.filter.normalized)")
  Modelica_Blocks_Continuous_Internal_Filter_base_CriticalDamping(2, (Integer)(
  DYNX(DP_,46)))));
PopAllMarks();
{
  struct Modelica_Blocks_Continuous_Internal_Filter_roots_lowPass_struct
     dummy_mult_=(PushModelContext(1,"Modelica.Blocks.Continuous.Internal.Filter.roots.lowPass(valve.filter.cr, valve.filter.c0, valve.filter.c1, valve.filter.f_cut)")
    Modelica_Blocks_Continuous_Internal_Filter_roots_lowPass(RealTemporaryDense( 
    &DYNX(W_,200), 1, 2), RealTemporaryDense( (Real*)(0), 1, 0), 
    RealTemporaryDense( (Real*)(0), 1, 0), DYNX(W_,191)));
  RealAssign (RealTemporaryDense( &DYNX(W_,202), 1, 2), dummy_mult_.r0_0_0member);
  RealAssign (RealTemporaryDense( (Real*)(0), 1, 0), dummy_mult_.a0_0_0member);
  RealAssign (RealTemporaryDense( (Real*)(0), 1, 0), dummy_mult_.b0_0_0member);
  RealAssign (RealTemporaryDense( (Real*)(0), 1, 0), dummy_mult_.ku0_0_0member);
}
PopAllMarks();
DYNX(W_,306) = DYNX(DP_,4);
DYNX(W_,303) = 1000.0*DYNX(W_,306);
DYNX(W_,416) = DYNX(DP_,4);
DYNX(W_,413) = 1000.0*DYNX(W_,416);
DYNX(W_,539) = DYNX(DP_,4);
DYNX(W_,536) = 1000.0*DYNX(W_,539);
DYNX(W_,11) = DYNX(W_,94);
AssertModelica(LessEqual(DYNX(W_,11),"tank.level", DYNX(W_,88),"tank.fluidLevel_max",
   0),"tank.level <= tank.fluidLevel_max", StringAdd(StringAdd("Vessel is overflowing (fluidLevel > fluidLevel_max = ",
  Real2String2(DYNX(W_,11), true, 0)),")"));
PopAllMarks();
AssertModelica(Greater(DYNX(W_,11),"tank.level", (-1E-06)*DYNX(W_,88),
  "(-1E-06)*tank.fluidLevel_max", 1),"tank.level > (-1E-06)*tank.fluidLevel_max",
   StringAdd(StringAdd("Fluid level (= ",Real2String2(DYNX(W_,11), true, 0)),
  ") is below zero meaning that the solution failed."));
PopAllMarks();
DYNX(W_,13) = DYNX(DP_,7)*DYNX(W_,11);
DYNX(W_,39) = 995.586*DYNX(W_,13);
DYNX(W_,187) = DYNX(DP_,82)*DYNX(U_,1)+DYNX(DP_,83)*DYNX(W_,568);
DYNX(W_,208) = IF DYNX(W_,187) < DYNX(W_,207) THEN DYNX(W_,207) ELSE 
  DYNX(W_,187);
DYNX(W_,204) = divmacro(DYNX(W_,208),"valve.minLimiter.y",DYNX(DP_,50),
  "valve.filter.u_nominal");
 /* Linear system of equations to solve. */
DYNX(X_,0) = 0.0;
SolveScalarLinearParametric( -DYNX(W_,202)," -valve.filter.r[1]",  -DYNX(W_,202)
  *DYNX(W_,204)," -valve.filter.r[1]*valve.filter.uu[1]", DYNX(X_,0),
  "valve.filter.x[1]");
 /* End of Equation Block */ 

 /* Linear system of equations to solve. */
DYNX(W_,194) = 0.0;
SolveScalarLinearParametric( -DYNX(W_,203)," -valve.filter.r[2]",  -DYNX(W_,203)
  *DYNX(X_,0)," -valve.filter.r[2]*valve.filter.x[1]", DYNX(W_,194),
  "valve.filter.x[2]");
 /* End of Equation Block */ 

DYNX(W_,423) = 0.5*DYNX(W_,354);
DYNX(W_,424) = 0.5*DYNX(W_,354);
DYNX(W_,81) = 0.7853981633974483*sqr(DYNX(DP_,11));
DYNX(W_,314) = 0.5*DYNX(W_,244);
DYNX(W_,313) = 0.5*DYNX(W_,244);
DYNX(W_,542) = 0.5*(DYNX(W_,486)+DYNX(W_,487));
DYNX(W_,205) = DYNX(DP_,43)*DYNX(DP_,50)*DYNX(W_,194);
DYNX(W_,90) = GreaterEqual(DYNX(W_,11),"tank.level", DYNX(DP_,12),
  "tank.portsData[1].height", 2);
DYNX(W_,83) = 995.586*RealBmax(0, DYNX(W_,11)-DYNX(DP_,12))*DYNX(DP_,2)+
  DYNX(W_,15);
DYNX(W_,77) = IF DYNX(W_,11)-DYNX(DP_,12)-0.1*DYNX(DP_,11) > 0.1*DYNX(DP_,11)
   THEN 1 ELSE IF DYNX(W_,11)-DYNX(DP_,12)-0.1*DYNX(DP_,11) < (-0.1)*
  DYNX(DP_,11) THEN 0.001 ELSE IF 0.1*DYNX(DP_,11) > 0 THEN 0.5005+divmacro((
  -0.24975)*(DYNX(W_,11)-DYNX(DP_,12)-0.1*DYNX(DP_,11))*(sqr(divmacro(
  DYNX(W_,11)-DYNX(DP_,12)-0.1*DYNX(DP_,11),"tank.level-tank.portsData[1].height-0.1*tank.portsData[1].diameter",
  0.1*DYNX(DP_,11),"0.1*tank.portsData[1].diameter"))-3),"(-0.24975)*((tank.level-tank.portsData[1].height-0.1*tank.portsData[1].diameter)*(((tank.level-tank.portsData[1].height-0.1*tank.portsData[1].diameter)/(0.1*tank.portsData[1].diameter))^2-3))",
  0.1*DYNX(DP_,11),"0.1*tank.portsData[1].diameter") ELSE 0.5005;
if (DymolaHomotopyLambda==0){
  BreakSectionCallNew(3);
}
else {

  MixedInitialSystemOfEquations(19, DYNX(DYNhelp,193))

    { /* Non-linear system of equations to solve. */
    /* Tag: initialization.nonlinear[1] */
    /* Introducing 41 common subexpressions used in 92 expressions */
    /* Of the common subexpressions 41 are reals, 0 are integers, and 0
       are booleans. */
    const char*const varnames_[]={"heater.mediums[1].p", "pipe.mediums[1].p", 
      "tank.ports[1].p", "radiator.mediums[1].p", "valve.port_b.p", "valve.dp"};
    const double nominal_[]={100000.0, 100000.0, 100000.0, 100000.0, 100000.0, 
      1e5};
    NonLinearSystemOfEquations(Jacobian__, residue__, x__, 6, 0, 0, 1, -2, 
      DYNX(DYNhelp,212), 155, DYNX(did_->helpvari_vec,16), 28);
    SetInitVector(x__, 1, DYNX(W_,569), DYNX(W_,232));
    SetInitVector(x__, 2, DYNX(W_,593), DYNX(W_,460));
    SetInitVectorSimple(x__, 3, DYNX(W_,49), 2, 100000.0);
    SetInitVector(x__, 4, DYNX(W_,581), DYNX(W_,342));
    SetInitVectorSimple(x__, 5, DYNX(W_,164), 4, 110000);
    SetInitVector(x__, 6, DYNX(W_,173), DYNX(DP_,34));
    Residues;
      DYNX(W_,277) = DYNX(W_,263)*DYNX(W_,245)*(DYNX(W_,569)-DYNX(DP_,31));
      DYNX(DYNhelp,367) = divmacro(1.0,"1.0",DYNX(W_,263),"heater.flowModel.nParallel");
      DYNX(DYNhelp,368) = 2.0*DYNX(W_,245);
      DYNX(DYNhelp,369) = divmacro(1.0,"1.0",DYNX(DYNhelp,368),"2.0*heater.crossAreas[1]");
      DYNX(W_,293) = DYNX(DYNhelp,369)*DYNX(DYNhelp,367)*(-2)*DYNX(W_,277);
      DYNX(W_,278) = DYNX(W_,263)*DYNX(W_,245)*(DYNX(W_,593)-DYNX(W_,569));
      DYNX(W_,294) = DYNX(DYNhelp,369)*DYNX(DYNhelp,367)*(-2)*DYNX(W_,278);
      DYNX(W_,388) = DYNX(W_,373)*DYNX(W_,355)*(DYNX(W_,49)-DYNX(W_,581));
      DYNX(DYNhelp,370) = divmacro(1.0,"1.0",DYNX(W_,373),"radiator.flowModel.nParallel");
      DYNX(DYNhelp,371) = 2.0*DYNX(W_,355);
      DYNX(DYNhelp,372) = divmacro(1.0,"1.0",DYNX(DYNhelp,371),"2.0*radiator.crossAreas[1]");
      DYNX(W_,404) = DYNX(DYNhelp,372)*DYNX(DYNhelp,370)*(-2)*DYNX(W_,388);
      DYNX(W_,387) = DYNX(W_,373)*DYNX(W_,355)*(DYNX(W_,581)-DYNX(W_,164));
      DYNX(W_,403) = DYNX(DYNhelp,372)*DYNX(DYNhelp,370)*(-2)*DYNX(W_,387);
      DYNX(W_,605) = DYNX(W_,173)+DYNX(W_,164);
      DYNX(DYNhelp,373) = DYNX(W_,484)+DYNX(W_,485);
      DYNX(W_,518) = 0.5*DYNX(W_,506)*DYNX(DYNhelp,373)*(DYNX(W_,605)-
        DYNX(W_,593));
      DYNX(DYNhelp,374) = divmacro(1.0,"1.0",DYNX(W_,506),"pipe.flowModel.nParallel");
      DYNX(DYNhelp,375) = divmacro(1.0,"1.0",DYNX(DYNhelp,373),"pipe.crossAreas[1]+pipe.crossAreas[2]");
      DYNX(W_,528) = DYNX(DYNhelp,375)*DYNX(DYNhelp,374)*(-2)*DYNX(W_,518);
      DYNX(DYNhelp,376) = 0.5*DYNX(W_,306);
      DYNX(DYNhelp,377) = divmacro(1.0,"1.0",DYNX(W_,303),"heater.flowModel.dp_nominal");
      DYNX(W_,47) = homotopy(DYNX(W_,263)*(PushModelContext(1,"massFlowRate_dp_staticHead_Unique15(heater.flowModel.dps_fg[1], 995.586, 995.586, 0.001, 0.001, heater.pathLengths[1], heater.dimensions[1], 0.0, heater.crossAreas[1], heater.roughnesses[1], 0.5*heater.flowModel.dp_small, 4000.0)")
        massFlowRatex_0dpx_0staticHeadx_0Unique15(DYNX(W_,293), 995.586, 995.586,
         0.001, 0.001, DYNX(W_,313), DYNX(W_,246), 0.0, DYNX(W_,245), 
        DYNX(W_,247), DYNX(DYNhelp,376), 4000.0)), DYNX(DYNhelp,377)*
        DYNX(W_,304)*DYNX(W_,293));
      AssertModelica(DYNX(W_,47) >= -0.5,"tank.ports[1].m_flow >= -0.5", 
        StringAdd("Value for variable, with non-reversible flow according to min/max bound, is: ",
        Real2String(DYNX(W_,47), 1, 10)));
      AssertModelica(DYNX(W_,47) <= 100000.5,"tank.ports[1].m_flow <= 100000.5",
         StringAdd("Value for variable, with non-reversible flow according to min/max bound, is: ",
        Real2String(DYNX(W_,47), 1, 10)));
      PopAllMarks();
      AssertModelica(DYNX(W_,47) >= -0.5,"tank.ports[1].m_flow >= -0.5", 
        StringAdd("Value for variable, with non-reversible flow according to min/max bound, is: ",
        Real2String(DYNX(W_,47), 1, 10)));
      AssertModelica(DYNX(W_,47) <= 100000.5,"tank.ports[1].m_flow <= 100000.5",
         StringAdd("Value for variable, with non-reversible flow according to min/max bound, is: ",
        Real2String(DYNX(W_,47), 1, 10)));
    DYNX(DYNhelp,378) = IF DYNX(W_,90) THEN DYNX(W_,49)-homotopy(DYNX(W_,83)+
      divmacro(0.5*(IF DYNX(W_,47) >= DYNX(W_,57) THEN 0.0010044335697769957*(
      DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(
      DYNX(W_,89)),"tank.vesselArea^2")-1)*DYNX(W_,77)*sqr(DYNX(W_,47)) ELSE IF 
      DYNX(W_,47) <=  -DYNX(W_,57) THEN  -divmacro(0.0010044335697769957*(1.0+
      DYNX(DP_,13)-divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(
      DYNX(W_,89)),"tank.vesselArea^2"))*sqr(DYNX(W_,47)),"0.0010044335697769957*((1.0+tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)*tank.ports[1].m_flow^2)",
      DYNX(W_,77),"tank.ports_penetration[1]") ELSE IF 0.0010044335697769957*(
      DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(
      DYNX(W_,89)),"tank.vesselArea^2")-1)*DYNX(W_,77) >= divmacro(
      0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,13)-divmacro(sqr(
      DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")),
      "0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)",
      DYNX(W_,77),"tank.ports_penetration[1]") THEN (PushModelContext(1,
      "Modelica.Fluid.Utilities.regSquare2.regSquare2_utility(tank.ports[1].m_flow, tank.m_flow_small, 0.0010044335697769957*((tank.portsData[1].zeta_in+tank.portAreas[1]^2/tank.vesselArea^2-1)*tank.ports_penetration[1]), (0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2))/tank.ports_penetration[1], false, 1)")
      Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility(DYNX(W_,47), 
      DYNX(W_,57), 0.0010044335697769957*(DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),
      "tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")-1)*DYNX(W_,77),
       divmacro(0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,13)-
      divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
      "tank.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)",
      DYNX(W_,77),"tank.ports_penetration[1]"), false, 1)) ELSE  -
      (PushModelContext(1,"Modelica.Fluid.Utilities.regSquare2.regSquare2_utility( -tank.ports[1].m_flow, tank.m_flow_small, (0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2))/tank.ports_penetration[1], 0.0010044335697769957*((tank.portsData[1].zeta_in+tank.portAreas[1]^2/tank.vesselArea^2-1)*tank.ports_penetration[1]), false, 1)")
      Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility( -DYNX(W_,47), 
      DYNX(W_,57), divmacro(0.0010044335697769957+0.0010044335697769957*(
      DYNX(DP_,13)-divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(
      DYNX(W_,89)),"tank.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)",
      DYNX(W_,77),"tank.ports_penetration[1]"), 0.0010044335697769957*(
      DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(
      DYNX(W_,89)),"tank.vesselArea^2")-1)*DYNX(W_,77), false, 1))),
      "0.5*smooth(2, smooth(2, (if noEvent(tank.ports[1].m_flow >= tank.m_flow_small) then 0.0010044335697769957*((tank.portsData[1].zeta_in+tank.portAreas[1]^2/tank.vesselArea^2-1)*tank.ports_penetration[1]*tank.ports[1].m_flow^2) else (if noEvent(tank.ports[1].m_flow <=  -tank.m_flow_small) then  -0.0010044335697769957*((1.0+tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)*tank.port...",
      sqr(DYNX(W_,81)),"tank.portAreas[1]^2"), DYNX(W_,83)) ELSE IF DYNX(W_,92)
       THEN DYNX(W_,49)-DYNX(W_,83) ELSE DYNX(W_,47);
    PopAllMarks();
    DYNX(DYNhelp,379) = 0.5*DYNX(W_,416);
    DYNX(DYNhelp,380) = divmacro(1.0,"1.0",DYNX(W_,413),"radiator.flowModel.dp_nominal");
    DYNX(DYNhelp,381) = DYNX(W_,205)*DYNX(W_,181);
    DYNX(DYNhelp,382) = DYNX(DYNhelp,381)*DYNX(W_,173);
    DYNX(DYNhelp,383) = DYNX(W_,173)*DYNX(W_,173)+DYNX(W_,184)*DYNX(W_,184);
    DYNX(DYNhelp,384) = powmacro(DYNX(DYNhelp,383),"valve.dp*valve.dp+valve.dp_small*valve.dp_small",
      0.25,"0.25");
    DYNX(DYNhelp,385) = divmacro(1.0,"1.0",DYNX(DYNhelp,384),"(valve.dp*valve.dp+valve.dp_small*valve.dp_small)^0.25");
    DYNX(DYNhelp,386) = DYNX(W_,205)*DYNX(DP_,38);
    DYNX(DYNhelp,387) = divmacro(1.0,"1.0",DYNX(DP_,37),"valve.dp_nominal");
    DYNX(DYNhelp,388) = 0.5*DYNX(DYNhelp,373);
    DYNX(DYNhelp,389) = 0.5*(DYNX(W_,488)+DYNX(W_,489));
    DYNX(DYNhelp,390) = divmacro(1.0,"1.0",DYNX(W_,536),"pipe.flowModel.dp_nominal");
    SetVector(residue__, 1, DYNX(W_,47)-homotopy(DYNX(W_,263)*(PushModelContext(1,
      "massFlowRate_dp_staticHead_Unique15(heater.flowModel.dps_fg[2], 995.586, 995.586, 0.001, 0.001, heater.pathLengths[2], heater.dimensions[1], 0.0, heater.crossAreas[1], heater.roughnesses[1], 0.5*heater.flowModel.dp_small, 4000.0)")
      massFlowRatex_0dpx_0staticHeadx_0Unique15(DYNX(W_,294), 995.586, 995.586, 
      0.001, 0.001, DYNX(W_,314), DYNX(W_,246), 0.0, DYNX(W_,245), DYNX(W_,247),
       DYNX(DYNhelp,376), 4000.0)), DYNX(DYNhelp,377)*DYNX(W_,304)*DYNX(W_,294)));
    PopModelContext();
    SetVector(residue__, 2, DYNX(DYNhelp,378));
    SetVector(residue__, 3, DYNX(W_,47)-homotopy(DYNX(W_,373)*(PushModelContext(1,
      "massFlowRate_dp_staticHead_Unique15(radiator.flowModel.dps_fg[2], 995.586, 995.586, 0.001, 0.001, radiator.pathLengths[2], radiator.dimensions[1], 0.0, radiator.crossAreas[1], radiator.roughnesses[1], 0.5*radiator.flowModel.dp_small, 4000.0)")
      massFlowRatex_0dpx_0staticHeadx_0Unique15(DYNX(W_,404), 995.586, 995.586, 
      0.001, 0.001, DYNX(W_,424), DYNX(W_,356), 0.0, DYNX(W_,355), DYNX(W_,357),
       DYNX(DYNhelp,379), 4000.0)), DYNX(DYNhelp,380)*DYNX(W_,414)*DYNX(W_,404)));
    PopModelContext();
    SetVector(residue__, 4, DYNX(W_,47)-homotopy(DYNX(W_,373)*(PushModelContext(1,
      "massFlowRate_dp_staticHead_Unique15(radiator.flowModel.dps_fg[1], 995.586, 995.586, 0.001, 0.001, radiator.pathLengths[1], radiator.dimensions[1], 0.0, radiator.crossAreas[1], radiator.roughnesses[1], 0.5*radiator.flowModel.dp_small, 4000)")
      massFlowRatex_0dpx_0staticHeadx_0Unique15(DYNX(W_,403), 995.586, 995.586, 
      0.001, 0.001, DYNX(W_,423), DYNX(W_,356), 0.0, DYNX(W_,355), DYNX(W_,357),
       DYNX(DYNhelp,379), 4000)), DYNX(DYNhelp,380)*DYNX(W_,414)*DYNX(W_,403)));
    PopModelContext();
    SetVector(residue__, 5, DYNX(W_,47)-homotopy(DYNX(DYNhelp,385)*
      31.55290794839677*DYNX(DYNhelp,382), DYNX(DYNhelp,387)*DYNX(DYNhelp,386)*
      DYNX(W_,173)));
    SetVector(residue__, 6, DYNX(W_,47)-homotopy(DYNX(W_,506)*(PushModelContext(1,
      "massFlowRate_dp_staticHead_Unique15(pipe.flowModel.dps_fg[1], 995.586, 995.586, 0.001, 0.001, 10.0, pipe.flowModel.diameters[1], 0.0, 0.5*(pipe.crossAreas[1]+pipe.crossAreas[2]), 0.5*(pipe.roughnesses[1]+pipe.roughnesses[2]), pipe.flowModel.dp_small, 4000)")
      massFlowRatex_0dpx_0staticHeadx_0Unique15(DYNX(W_,528), 995.586, 995.586, 
      0.001, 0.001, 10.0, DYNX(W_,542), 0.0, DYNX(DYNhelp,388), DYNX(DYNhelp,389),
       DYNX(W_,539), 4000)), DYNX(DYNhelp,390)*DYNX(W_,537)*DYNX(W_,528)));
    PopModelContext();

    Jacobian(Jacobian__)
    MatrixZeros(Jacobian__);
    DYNX(DYNhelp,391) = DYNX(W_,263)*(PushModelContext(1,"massFlowRate_dp_staticHead_Unique15:der(heater.flowModel.dps_fg[1], 995.586, 995.586, 0.001, 0.001, heater.pathLengths[1], heater.dimensions[1], 0.0, heater.crossAreas[1], heater.roughnesses[1], 0.5*heater.flowModel.dp_small, 4000.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0)")
      massFlowRatex_0dpx_0staticHeadx_0Unique15__der(DYNX(W_,293), 995.586, 
      995.586, 0.001, 0.001, DYNX(W_,313), DYNX(W_,246), 0.0, DYNX(W_,245), 
      DYNX(W_,247), DYNX(DYNhelp,376), 4000.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
       0.0, 0.0, 0.0, 0.0, 0.0));
    PopModelContext();
    DYNX(DYNhelp,392) = DYNX(DYNhelp,377)*DYNX(W_,304);
    DYNX(DYNhelp,393) = homotopy(DYNX(DYNhelp,391), DYNX(DYNhelp,392));
    DYNX(DYNhelp,394) = DYNX(W_,263)*DYNX(W_,245);
    DYNX(DYNhelp,395) = DYNX(DYNhelp,393)*DYNX(DYNhelp,394);
    DYNX(DYNhelp,396) = DYNX(W_,263)*(PushModelContext(1,"massFlowRate_dp_staticHead_Unique15:der(heater.flowModel.dps_fg[2], 995.586, 995.586, 0.001, 0.001, heater.pathLengths[2], heater.dimensions[1], 0.0, heater.crossAreas[1], heater.roughnesses[1], 0.5*heater.flowModel.dp_small, 4000.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0)")
      massFlowRatex_0dpx_0staticHeadx_0Unique15__der(DYNX(W_,294), 995.586, 
      995.586, 0.001, 0.001, DYNX(W_,314), DYNX(W_,246), 0.0, DYNX(W_,245), 
      DYNX(W_,247), DYNX(DYNhelp,376), 4000.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
       0.0, 0.0, 0.0, 0.0, 0.0));
    PopModelContext();
    DYNX(DYNhelp,397) = homotopy(DYNX(DYNhelp,396), DYNX(DYNhelp,392))*
      DYNX(DYNhelp,394);
    DYNX(DYNhelp,398) = DYNX(DYNhelp,369)*DYNX(DYNhelp,367)*(-2.0)*
      DYNX(DYNhelp,395);
    DYNX(DYNhelp,399) = DYNX(DYNhelp,380)*DYNX(W_,414);
    DYNX(DYNhelp,400) = DYNX(W_,373)*DYNX(W_,355);
    DYNX(DYNhelp,401) = homotopy(DYNX(W_,373)*(PushModelContext(1,
      "massFlowRate_dp_staticHead_Unique15:der(radiator.flowModel.dps_fg[2], 995.586, 995.586, 0.001, 0.001, radiator.pathLengths[2], radiator.dimensions[1], 0.0, radiator.crossAreas[1], radiator.roughnesses[1], 0.5*radiator.flowModel.dp_small, 4000.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0)")
      massFlowRatex_0dpx_0staticHeadx_0Unique15__der(DYNX(W_,404), 995.586, 
      995.586, 0.001, 0.001, DYNX(W_,424), DYNX(W_,356), 0.0, DYNX(W_,355), 
      DYNX(W_,357), DYNX(DYNhelp,379), 4000.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
       0.0, 0.0, 0.0, 0.0, 0.0)), DYNX(DYNhelp,399))*DYNX(DYNhelp,400);
    PopModelContext();
    DYNX(DYNhelp,402) = homotopy(DYNX(W_,373)*(PushModelContext(1,
      "massFlowRate_dp_staticHead_Unique15:der(radiator.flowModel.dps_fg[1], 995.586, 995.586, 0.001, 0.001, radiator.pathLengths[1], radiator.dimensions[1], 0.0, radiator.crossAreas[1], radiator.roughnesses[1], 0.5*radiator.flowModel.dp_small, 4000, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0)")
      massFlowRatex_0dpx_0staticHeadx_0Unique15__der(DYNX(W_,403), 995.586, 
      995.586, 0.001, 0.001, DYNX(W_,423), DYNX(W_,356), 0.0, DYNX(W_,355), 
      DYNX(W_,357), DYNX(DYNhelp,379), 4000, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 
      0.0, 0.0, 0.0, 0.0, 0)), DYNX(DYNhelp,399))*DYNX(DYNhelp,400);
    PopModelContext();
    DYNX(DYNhelp,403) = powmacro(DYNX(DYNhelp,383),"valve.dp*valve.dp+valve.dp_small*valve.dp_small",
      -0.75,"-0.75");
    DYNX(DYNhelp,404) = sqr(DYNX(DYNhelp,384));
    DYNX(DYNhelp,405) = divmacro(1.0,"1.0",DYNX(DYNhelp,404),"((valve.dp*valve.dp+valve.dp_small*valve.dp_small)^0.25)^2");
    DYNX(DYNhelp,406) = homotopy(DYNX(W_,506)*(PushModelContext(1,
      "massFlowRate_dp_staticHead_Unique15:der(pipe.flowModel.dps_fg[1], 995.586, 995.586, 0.001, 0.001, 10.0, pipe.flowModel.diameters[1], 0.0, 0.5*(pipe.crossAreas[1]+pipe.crossAreas[2]), 0.5*(pipe.roughnesses[1]+pipe.roughnesses[2]), pipe.flowModel.dp_small, 4000, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0)")
      massFlowRatex_0dpx_0staticHeadx_0Unique15__der(DYNX(W_,528), 995.586, 
      995.586, 0.001, 0.001, 10.0, DYNX(W_,542), 0.0, DYNX(DYNhelp,388), 
      DYNX(DYNhelp,389), DYNX(W_,539), 4000, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 
      0.0, 0.0, 0.0, 0.0, 0)), DYNX(DYNhelp,390)*DYNX(W_,537))*DYNX(W_,506)*
      DYNX(DYNhelp,373);
    PopModelContext();
    DYNX(DYNhelp,407) =  -DYNX(DYNhelp,375)*DYNX(DYNhelp,374)*(-1.0)*
      DYNX(DYNhelp,406);
    SetMatrixLeading(Jacobian__, 1, 1, 6, DYNX(DYNhelp,369)*DYNX(DYNhelp,367)*(
      -2.0)*(DYNX(DYNhelp,395)+DYNX(DYNhelp,397)));
    SetMatrixLeading(Jacobian__, 1, 2, 6,  -DYNX(DYNhelp,369)*DYNX(DYNhelp,367)*
      (-2.0)*DYNX(DYNhelp,397));
    SetMatrixLeading(Jacobian__, 2, 1, 6, DYNX(DYNhelp,369)*DYNX(DYNhelp,367)*(
      -2.0)*DYNX(DYNhelp,393)*(IF DYNX(W_,90) THEN  -homotopy(divmacro(0.5*(IF 
      DYNX(W_,47) >= DYNX(W_,57) THEN 0.0020088671395539913*(DYNX(DP_,14)+
      divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
      "tank.vesselArea^2")-1)*DYNX(W_,77)*DYNX(W_,47) ELSE IF DYNX(W_,47) <=  -
      DYNX(W_,57) THEN  -divmacro(0.0020088671395539913*(1.0+DYNX(DP_,13)-
      divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
      "tank.vesselArea^2"))*DYNX(W_,47),"0.0020088671395539913*((1.0+tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)*tank.ports[1].m_flow)",
      DYNX(W_,77),"tank.ports_penetration[1]") ELSE IF 0.0010044335697769957*(
      DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(
      DYNX(W_,89)),"tank.vesselArea^2")-1)*DYNX(W_,77) >= divmacro(
      0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,13)-divmacro(sqr(
      DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")),
      "0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)",
      DYNX(W_,77),"tank.ports_penetration[1]") THEN (PushModelContext(1,
      "Modelica.Fluid.Utilities.regSquare2.regSquare2_utility:der(tank.ports[1].m_flow, tank.m_flow_small, 0.0010044335697769957*((tank.portsData[1].zeta_in+tank.portAreas[1]^2/tank.vesselArea^2-1)*tank.ports_penetration[1]), (0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2))/tank.ports_penetration[1], false, 1, 1.0, 0.0, 0.0, 0.0, 0)")
      Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility__der(DYNX(W_,47),
       DYNX(W_,57), 0.0010044335697769957*(DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),
      "tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")-1)*DYNX(W_,77),
       divmacro(0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,13)-
      divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
      "tank.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)",
      DYNX(W_,77),"tank.ports_penetration[1]"), false, 1, 1.0, 0.0, 0.0, 0.0, 0))
       ELSE  -(PushModelContext(1,"Modelica.Fluid.Utilities.regSquare2.regSquare2_utility:der( -tank.ports[1].m_flow, tank.m_flow_small, (0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2))/tank.ports_penetration[1], 0.0010044335697769957*((tank.portsData[1].zeta_in+tank.portAreas[1]^2/tank.vesselArea^2-1)*tank.ports_penetration[1]), false, 1, -1.0, 0.0, 0.0, 0.0, 0)")
      Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility__der( -
      DYNX(W_,47), DYNX(W_,57), divmacro(0.0010044335697769957+0.0010044335697769957
      *(DYNX(DP_,13)-divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(
      DYNX(W_,89)),"tank.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)",
      DYNX(W_,77),"tank.ports_penetration[1]"), 0.0010044335697769957*(
      DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(
      DYNX(W_,89)),"tank.vesselArea^2")-1)*DYNX(W_,77), false, 1, -1.0, 0.0, 0.0,
       0.0, 0))),"0.5*smooth(1, smooth(1, (if noEvent(tank.ports[1].m_flow >= tank.m_flow_small) then 0.0020088671395539913*((tank.portsData[1].zeta_in+tank.portAreas[1]^2/tank.vesselArea^2-1)*tank.ports_penetration[1]*tank.ports[1].m_flow) else (if noEvent(tank.ports[1].m_flow <=  -tank.m_flow_small) then  -0.0020088671395539913*((1.0+tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)*tank.ports[...",
      sqr(DYNX(W_,81)),"tank.portAreas[1]^2"), 0.0) ELSE IF DYNX(W_,92) THEN 0.0
       ELSE 1.0)*DYNX(DYNhelp,394));
    PopModelContext();
    SetMatrixLeading(Jacobian__, 2, 3, 6, IF DYNX(W_,90) THEN 1.0 ELSE IF 
      DYNX(W_,92) THEN 1.0 ELSE 0.0);
    SetMatrixLeading(Jacobian__, 3, 1, 6, DYNX(DYNhelp,398));
    SetMatrixLeading(Jacobian__, 3, 3, 6,  -DYNX(DYNhelp,372)*DYNX(DYNhelp,370)*
      (-2.0)*DYNX(DYNhelp,401));
    SetMatrixLeading(Jacobian__, 3, 4, 6,  -DYNX(DYNhelp,372)*DYNX(DYNhelp,370)*
      2.0*DYNX(DYNhelp,401));
    SetMatrixLeading(Jacobian__, 4, 1, 6, DYNX(DYNhelp,398));
    SetMatrixLeading(Jacobian__, 4, 4, 6,  -DYNX(DYNhelp,372)*DYNX(DYNhelp,370)*
      (-2.0)*DYNX(DYNhelp,402));
    SetMatrixLeading(Jacobian__, 4, 5, 6,  -DYNX(DYNhelp,372)*DYNX(DYNhelp,370)*
      2.0*DYNX(DYNhelp,402));
    SetMatrixLeading(Jacobian__, 5, 1, 6, DYNX(DYNhelp,398));
    SetMatrixLeading(Jacobian__, 5, 6, 6,  -homotopy(DYNX(DYNhelp,385)*
      31.55290794839677*DYNX(DYNhelp,381)-DYNX(DYNhelp,405)*15.776453974198384*
      DYNX(DYNhelp,382)*DYNX(DYNhelp,403)*DYNX(W_,173), DYNX(DYNhelp,387)*
      DYNX(DYNhelp,386)));
    SetMatrixLeading(Jacobian__, 6, 1, 6, DYNX(DYNhelp,398));
    SetMatrixLeading(Jacobian__, 6, 2, 6,  -DYNX(DYNhelp,375)*DYNX(DYNhelp,374)*
      DYNX(DYNhelp,406));
    SetMatrixLeading(Jacobian__, 6, 5, 6, DYNX(DYNhelp,407));
    SetMatrixLeading(Jacobian__, 6, 6, 6, DYNX(DYNhelp,407));

    SolveNonLinearSystemOfEquationsMixed(Jacobian__, 0, 0, 0, residue__, x__,"Tag: initialization.nonlinear[1]");
    DYNX(W_,569) = GetVector(x__, 1);
    DYNX(W_,593) = GetVector(x__, 2);
    DYNX(W_,49) = GetVector(x__, 3);
    DYNX(W_,581) = GetVector(x__, 4);
    DYNX(W_,164) = GetVector(x__, 5);
    DYNX(W_,173) = GetVector(x__, 6);
    EndNonLinearSystemOfEquationsInit(residue__, x__, 1);
     /* End of Non-Linear Equation Block */ }



    DYNX(W_,75) = IF DYNX(W_,90) THEN DYNX(W_,11)-DYNX(DP_,12) ELSE IF 
      DYNX(W_,92) THEN DYNX(W_,47) ELSE 9.869232667160129E-06*(DYNX(W_,49)-
      DYNX(W_,83))*(DYNX(DP_,12)-DYNX(W_,11));

    MixedModeStartBoolean
    UpdateVariableNamed(DYNX(W_,92),"tank.inFlow[1]",  NOT DYNX(W_,90) AND (
      Greater(DYNX(W_,75),"tank.s[1]", 0,"0", 3) OR DYNX(DP_,12) >= DYNX(W_,88)));
    MixedModeInit(1, DYNX(DYNhelp,408))
    ThetaMixedCross(0,3)
    MixedModeEndBoolean
    UpdateReal(DYNX(W_,75), 1)
    UpdateReal(DYNX(W_,49), 2)
    UpdateReal(DYNX(W_,404), 3)
    UpdateReal(DYNX(W_,388), 4)
    UpdateReal(DYNX(W_,581), 5)
    UpdateReal(DYNX(W_,403), 6)
    UpdateReal(DYNX(W_,387), 7)
    UpdateReal(DYNX(W_,164), 8)
    UpdateReal(DYNX(W_,173), 9)
    UpdateReal(DYNX(W_,605), 10)
    UpdateReal(DYNX(W_,528), 11)
    UpdateReal(DYNX(W_,518), 12)
    UpdateReal(DYNX(W_,593), 13)
    UpdateReal(DYNX(W_,277), 14)
    UpdateReal(DYNX(W_,293), 15)
    UpdateReal(DYNX(W_,47), 16)
    UpdateReal(DYNX(W_,294), 17)
    UpdateReal(DYNX(W_,278), 18)
    UpdateReal(DYNX(W_,569), 19)
  EndMixedSystemOfEquations

}
AssertModelica(Greater(DYNX(W_,47),"tank.ports[1].m_flow",  -DYNX(W_,170),
  " -valve.m_flow_small", 4),"tank.ports[1].m_flow >  -valve.m_flow_small", 
  "Reverting flow occurs even though allowFlowReversal is false");
DYNX(W_,82) = 0.7853981633974483*sqr(DYNX(DP_,15));
DYNX(W_,91) = GreaterEqual(DYNX(W_,11),"tank.level", DYNX(DP_,16),
  "tank.portsData[2].height", 5);
DYNX(W_,84) = 995.586*RealBmax(0, DYNX(W_,11)-DYNX(DP_,16))*DYNX(DP_,2)+
  DYNX(W_,15);
DYNX(W_,78) = IF DYNX(W_,11)-DYNX(DP_,16)-0.1*DYNX(DP_,15) > 0.1*DYNX(DP_,15)
   THEN 1 ELSE IF DYNX(W_,11)-DYNX(DP_,16)-0.1*DYNX(DP_,15) < (-0.1)*
  DYNX(DP_,15) THEN 0.001 ELSE IF 0.1*DYNX(DP_,15) > 0 THEN 0.5005+divmacro((
  -0.24975)*(DYNX(W_,11)-DYNX(DP_,16)-0.1*DYNX(DP_,15))*(sqr(divmacro(
  DYNX(W_,11)-DYNX(DP_,16)-0.1*DYNX(DP_,15),"tank.level-tank.portsData[2].height-0.1*tank.portsData[2].diameter",
  0.1*DYNX(DP_,15),"0.1*tank.portsData[2].diameter"))-3),"(-0.24975)*((tank.level-tank.portsData[2].height-0.1*tank.portsData[2].diameter)*(((tank.level-tank.portsData[2].height-0.1*tank.portsData[2].diameter)/(0.1*tank.portsData[2].diameter))^2-3))",
  0.1*DYNX(DP_,15),"0.1*tank.portsData[2].diameter") ELSE 0.5005;
if (DymolaHomotopyLambda==0){
  BreakSectionCallNew(4);
}
else {

  MixedInitialSystemOfEquations(2, DYNX(DYNhelp,412))
     /* Linear system of equations to solve. */
    /* Introducing 1 common subexpressions used in 0 expressions */
    /* Of the common subexpressions 1 are reals, 0 are integers, and 0
       are booleans. */
    DYNX(DYNhelp,414) = IF DYNX(W_,91) THEN  -homotopy(DYNX(W_,84)+divmacro(0.5*
      (IF  -DYNX(W_,47) >= DYNX(W_,57) THEN 0.0010044335697769957*(DYNX(DP_,18)+
      divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),
      "tank.vesselArea^2")-1)*DYNX(W_,78)*sqr(DYNX(W_,47)) ELSE IF  -DYNX(W_,47)
       <=  -DYNX(W_,57) THEN  -divmacro(0.0010044335697769957*(1.0+DYNX(DP_,17)-
      divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),
      "tank.vesselArea^2"))*sqr(DYNX(W_,47)),"0.0010044335697769957*((1.0+tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)*tank.ports[1].m_flow^2)",
      DYNX(W_,78),"tank.ports_penetration[2]") ELSE IF 0.0010044335697769957*(
      DYNX(DP_,18)+divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(
      DYNX(W_,89)),"tank.vesselArea^2")-1)*DYNX(W_,78) >= divmacro(
      0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,17)-divmacro(sqr(
      DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")),
      "0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)",
      DYNX(W_,78),"tank.ports_penetration[2]") THEN (PushModelContext(1,
      "Modelica.Fluid.Utilities.regSquare2.regSquare2_utility( -tank.ports[1].m_flow, tank.m_flow_small, 0.0010044335697769957*((tank.portsData[2].zeta_in+tank.portAreas[2]^2/tank.vesselArea^2-1)*tank.ports_penetration[2]), (0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2))/tank.ports_penetration[2], false, 1)")
      Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility( -DYNX(W_,47), 
      DYNX(W_,57), 0.0010044335697769957*(DYNX(DP_,18)+divmacro(sqr(DYNX(W_,82)),
      "tank.portAreas[2]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")-1)*DYNX(W_,78),
       divmacro(0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,17)-
      divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),
      "tank.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)",
      DYNX(W_,78),"tank.ports_penetration[2]"), false, 1)) ELSE  -
      (PushModelContext(1,"Modelica.Fluid.Utilities.regSquare2.regSquare2_utility(tank.ports[1].m_flow, tank.m_flow_small, (0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2))/tank.ports_penetration[2], 0.0010044335697769957*((tank.portsData[2].zeta_in+tank.portAreas[2]^2/tank.vesselArea^2-1)*tank.ports_penetration[2]), false, 1)")
      Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility(DYNX(W_,47), 
      DYNX(W_,57), divmacro(0.0010044335697769957+0.0010044335697769957*(
      DYNX(DP_,17)-divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(
      DYNX(W_,89)),"tank.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)",
      DYNX(W_,78),"tank.ports_penetration[2]"), 0.0010044335697769957*(
      DYNX(DP_,18)+divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(
      DYNX(W_,89)),"tank.vesselArea^2")-1)*DYNX(W_,78), false, 1))),
      "0.5*smooth(2, smooth(2, (if noEvent( -tank.ports[1].m_flow >= tank.m_flow_small) then 0.0010044335697769957*((tank.portsData[2].zeta_in+tank.portAreas[2]^2/tank.vesselArea^2-1)*tank.ports_penetration[2]*tank.ports[1].m_flow^2) else (if noEvent( -tank.ports[1].m_flow <=  -tank.m_flow_small) then  -0.0010044335697769957*((1.0+tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)*tank....",
      sqr(DYNX(W_,82)),"tank.portAreas[2]^2"), DYNX(W_,84)) ELSE IF DYNX(W_,93)
       THEN  -DYNX(W_,84) ELSE  -DYNX(W_,47);
    PopModelContext();
    DYNX(W_,53) = 100000.0;
    SolveScalarLinearMixed(IF DYNX(W_,91) THEN 1.0 ELSE IF DYNX(W_,93) THEN 1.0
       ELSE 0.0,"(if tank.regularFlow[2] then 1.0 else (if tank.inFlow[2] then 1.0 else 0.0))",
        -DYNX(DYNhelp,414)," -(if tank.regularFlow[2] then  -homotopy(tank.vessel_ps_static[2]+0.5*smooth(2, smooth(2, (if noEvent( -tank.ports[1].m_flow >= tank.m_flow_small) then 0.0010044335697769957*((tank.portsData[2].zeta_in+tank.portAreas[2]^2/tank.vesselArea^2-1)*tank.ports_penetration[2]*tank.ports[1].m_flow^2) else (if noEvent( -tank.ports[1].m_flow <=  -tank.m_flow_small) then  -0.0010044335697769957*((1.0+tank...",
       DYNX(W_,53),"tank.ports[2].p");
     /* End of Equation Block */ 

    DYNX(W_,76) = IF DYNX(W_,91) THEN DYNX(W_,11)-DYNX(DP_,16) ELSE IF 
      DYNX(W_,93) THEN  -DYNX(W_,47) ELSE 9.869232667160129E-06*(DYNX(W_,53)-
      DYNX(W_,84))*(DYNX(DP_,16)-DYNX(W_,11));

    MixedModeStartBoolean
    UpdateVariableNamed(DYNX(W_,93),"tank.inFlow[2]",  NOT DYNX(W_,91) AND (
      Greater(DYNX(W_,76),"tank.s[2]", 0,"0", 6) OR DYNX(DP_,16) >= DYNX(W_,88)));
    MixedModeInit(1, DYNX(DYNhelp,415))
    ThetaMixedCross(0,6)
    MixedModeEndBoolean
    UpdateReal(DYNX(W_,76), 1)
    UpdateReal(DYNX(W_,53), 2)
  EndMixedSystemOfEquations

}
DYNX(W_,140) = DYNX(DP_,31)-DYNX(W_,53);
DYNX(W_,143) = homotopy(0.0010044335697769957*DYNX(W_,47), divmacro(DYNX(W_,47),
  "tank.ports[1].m_flow",DYNX(DP_,26),"pump.rho_nominal"));
DYNX(W_,145) = divmacro(DYNX(W_,143),"pump.V_flow",DYNX(DP_,24),"pump.nParallel");
DYNX(W_,148) = homotopy(1.25*DYNX(W_,140)*DYNX(W_,145), 1.25*DYNX(W_,140)*
  DYNX(W_,99));
DYNX(W_,127) =  -DYNX(W_,148)*DYNX(DP_,24);
DYNX(W_,548) = divmacro(divmacro(0.0010044335697769957*DYNX(W_,47),
  "0.0010044335697769957*tank.ports[1].m_flow",DYNX(W_,485),"pipe.crossAreas[2]"),
  "0.0010044335697769957*tank.ports[1].m_flow/pipe.crossAreas[2]",DYNX(DP_,73),
  "pipe.nParallel");
DYNX(W_,480) = 0.5*DYNX(W_,548)*DYNX(W_,485)*(DYNX(W_,605)-DYNX(W_,593)+
  DYNX(W_,528))*DYNX(DP_,73);
DYNX(W_,476) =  -DYNX(W_,480);
DYNX(W_,547) = divmacro(divmacro(0.0010044335697769957*DYNX(W_,47),
  "0.0010044335697769957*tank.ports[1].m_flow",DYNX(W_,484),"pipe.crossAreas[1]"),
  "0.0010044335697769957*tank.ports[1].m_flow/pipe.crossAreas[1]",DYNX(DP_,73),
  "pipe.nParallel");
DYNX(W_,479) = 0.5*DYNX(W_,547)*DYNX(W_,484)*(DYNX(W_,605)-DYNX(W_,593)+
  DYNX(W_,528))*DYNX(DP_,73);
DYNX(W_,475) =  -DYNX(W_,479);
DYNX(W_,422) = divmacro(divmacro(0.0010044335697769957*DYNX(W_,47),
  "0.0010044335697769957*tank.ports[1].m_flow",DYNX(W_,355),"radiator.crossAreas[1]"),
  "0.0010044335697769957*tank.ports[1].m_flow/radiator.crossAreas[1]",
  DYNX(DP_,64),"radiator.nParallel");
DYNX(W_,352) = DYNX(DP_,64)*DYNX(W_,422)*DYNX(W_,355)*(DYNX(W_,49)-DYNX(W_,164)+
  DYNX(W_,403)+DYNX(W_,404));
DYNX(W_,71) = divmacro(0.0010044335697769957*DYNX(W_,47),"0.0010044335697769957*tank.ports[1].m_flow",
  DYNX(W_,81),"tank.portAreas[1]");
DYNX(W_,73) = DYNX(W_,47)*(0.5*DYNX(W_,71)*DYNX(W_,71)+DYNX(DP_,2)*DYNX(DP_,12));
DYNX(W_,72) = divmacro((-0.0010044335697769957)*DYNX(W_,47),"(-0.0010044335697769957)*tank.ports[1].m_flow",
  DYNX(W_,82),"tank.portAreas[2]");
DYNX(W_,74) =  -DYNX(W_,47)*(0.5*DYNX(W_,72)*DYNX(W_,72)+DYNX(DP_,2)*
  DYNX(DP_,16));
DYNX(W_,63) = DYNX(DP_,7)+2.0*sqrtGuarded(DYNX(DP_,7)*3.141592653589793,
  "tank.crossArea*3.141592653589793")*DYNX(W_,11);
DYNX(W_,312) = divmacro(divmacro(0.0010044335697769957*DYNX(W_,47),
  "0.0010044335697769957*tank.ports[1].m_flow",DYNX(W_,245),"heater.crossAreas[1]"),
  "0.0010044335697769957*tank.ports[1].m_flow/heater.crossAreas[1]",DYNX(DP_,55),
  "heater.nParallel");
DYNX(W_,242) = DYNX(DP_,55)*DYNX(W_,312)*DYNX(W_,245)*(DYNX(W_,593)-DYNX(DP_,31)
  +DYNX(W_,293)+DYNX(W_,294));
DYNX(W_,214) = DYNX(DP_,80)*DYNX(U_,0)+DYNX(DP_,81)*DYNX(W_,567);

 /* Linear system of equations to solve. */
/* Tag: initialization.linear[7] */
/* Introducing 9 common subexpressions and reusing 2 variables totally used in 15
   expressions */
/* Of the common subexpressions 9 are reals, 0 are integers, and 2
   are booleans. */
DYNX(DYNhelp,416) = DYNX(W_,47) > 0.0;
DYNX(DYNhelp,417) = DYNX(W_,47)*(IF DYNX(DYNhelp,416) THEN 1.0 ELSE 0.0);
DYNX(DYNhelp,418) =  -DYNX(W_,47) > 0.0;
DYNX(DYNhelp,419) = DYNX(W_,47)*(IF DYNX(DYNhelp,418) THEN 0.0 ELSE 1.0);
DYNX(DYNhelp,420) = DYNX(W_,47)*(IF DYNX(DYNhelp,416) THEN 0.0 ELSE 1.0);
DYNX(DYNhelp,421) = 1142859.5999999999*DYNX(W_,47);
/* Automatic tearing of linear system of 23 simultaneous equations
gave a linear system of 5 equations for numerical solution.*/
{
  const char*const varnames_[]={"heater.mediums[1].T", "pump.port_a.h_outflow", 
    "tank.medium.T", "radiator.mediums[1].T", "valve.port_b.h_outflow"};
  const double nominal_[]={300.0, 1000000.0, 300.0, 300.0, 1000000.0};
  DidLinearSystemOfEquations(J, b, y, 5, DYNX(DYNhelp,422), 90, DYNX(did_->helpvari_vec,44), 14);
  /* Jacobian depending on continuous variables */
  SetNeedFactor(J);
  if (NeedFactor(J)) {
    MatrixZeros(J);
    DYNX(DYNhelp,512) = (-4184.0)*DYNX(W_,47);
    DYNX(DYNhelp,513) = 4184.0*DYNX(W_,47);
    DYNX(DYNhelp,514) = (-1.0)*DYNX(W_,47);
    SetMatrixLeading(J, 1, 2, 5, DYNX(W_,47)*(IF DYNX(DYNhelp,418) THEN 1.0
       ELSE 0.0));
    SetMatrixLeading(J, 1, 3, 5, 4184.0*(DYNX(DYNhelp,419)-DYNX(DYNhelp,420))+
      10.0*DYNX(W_,63));
    SetMatrixLeading(J, 1, 4, 5, (-4184.0)*DYNX(DYNhelp,417));
    SetMatrixLeading(J, 2, 2, 5, DYNX(W_,47));
    SetMatrixLeading(J, 2, 3, 5, DYNX(DYNhelp,512));
    SetMatrixLeading(J, 3, 1, 5, DYNX(DYNhelp,513)-DYNX(W_,214)*DYNX(DP_,53));
    SetMatrixLeading(J, 3, 2, 5, DYNX(DYNhelp,514));
    SetMatrixLeading(J, 4, 4, 5, DYNX(DYNhelp,513)+DYNX(DP_,51));
    SetMatrixLeading(J, 4, 5, 5, DYNX(DYNhelp,514));
    SetMatrixLeading(J, 5, 1, 5, DYNX(DYNhelp,512));
    SetMatrixLeading(J, 5, 5, 5, DYNX(W_,47));
  }
  SetVector(b, 1, DYNX(W_,73)+DYNX(W_,74)-1142859.5999999999*(DYNX(DYNhelp,417)-
    DYNX(DYNhelp,419)+DYNX(DYNhelp,420))+10.0*DYNX(W_,63)*DYNX(W_,66));
  SetVector(b, 2,  -(DYNX(W_,127)+DYNX(DYNhelp,421)));
  SetVector(b, 3, DYNX(W_,214)*(1-DYNX(DP_,53)*DYNX(DP_,52))+DYNX(W_,242)+
    DYNX(DYNhelp,421));
  SetVector(b, 4, DYNX(W_,352)+DYNX(DYNhelp,421)+DYNX(DP_,51)*DYNX(W_,211));
  SetVector(b, 5,  -(DYNX(W_,476)+DYNX(DYNhelp,421)+DYNX(W_,475)));
  SetVector(y, 1, 353.15);
  SetVector(y, 2, DYNX(W_,111));
  SetVector(y, 3, DYNX(DP_,9));
  SetVector(y, 4, 313.15);
  SetVector(y, 5, 334720.0);
  SolveLinearSystemOfEquations(J, b, y, 2);
  DYNX(X_,1) = GetVector(y, 1);
  DYNX(W_,96) = GetVector(y, 2);
  DYNX(W_,26) = GetVector(y, 3);
  DYNX(X_,2) = GetVector(y, 4);
  DYNX(W_,166) = GetVector(y, 5);
  EndStaticLinearSystemOfEquations(J);
}
BreakSectionFunctionEnd()
BreakSectionFunctionStart(5);
DYNX(W_,163) = 4184*(DYNX(X_,2)-273.15);
DYNX(W_,421) = DYNX(W_,163)*DYNX(W_,47);
DYNX(W_,51) = 4184*(DYNX(W_,26)-273.15);
DYNX(W_,60) =  -DYNX(W_,47)*(IF DYNX(DYNhelp,418) THEN DYNX(W_,96) ELSE 
  DYNX(W_,51));
DYNX(W_,215) =  -DYNX(W_,214)*(1+DYNX(DP_,53)*(DYNX(X_,1)-DYNX(DP_,52)));
DYNX(W_,241) = DYNX(W_,215)-DYNX(W_,242);
DYNX(W_,310) = DYNX(W_,96)*DYNX(W_,47);
DYNX(W_,42) = (-10.0)*DYNX(W_,63)*(DYNX(W_,66)-DYNX(W_,26));
DYNX(W_,59) = DYNX(W_,47)*(IF DYNX(DYNhelp,416) THEN DYNX(W_,163) ELSE 
  DYNX(W_,51));
DYNX(W_,213) = DYNX(W_,211)-DYNX(X_,2);
DYNX(W_,212) =  -DYNX(DP_,51)*DYNX(W_,213);
DYNX(W_,351) = DYNX(W_,212)-DYNX(W_,352);
DYNX(W_,420) = DYNX(W_,166)*DYNX(W_,47);
DYNX(W_,546) = DYNX(W_,420);
DYNX(W_,217) = 4184*(DYNX(X_,1)-273.15);
DYNX(W_,544) = DYNX(W_,217)*DYNX(W_,47);
DYNX(W_,545) = DYNX(W_,544)-DYNX(W_,475);
DYNX(W_,311) = DYNX(W_,544);
 /* End of Equation Block */ 

DYNX(W_,43) =  -DYNX(W_,42);
AssertModelica(GreaterEqual(DYNX(W_,26),"tank.medium.T", 272.15,"272.15", 7)
   AND LessEqual(DYNX(W_,26),"tank.medium.T", 403.15,"403.15", 8),
  "tank.medium.T >= 272.15 and tank.medium.T <= 403.15", StringAdd(StringAdd(
  StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(StringAdd("\nTemperature T (= ",
  Real2String2(DYNX(W_,26), true, 0))," K) is not\nin the allowed range ("),
  "272.15")," K <= T <= "),"403.15")," K)\nrequired from medium model \""),
  "SimpleLiquidWater"),"\".\n"));
PopAllMarks();
AssertModelica(GreaterEqual(DYNX(W_,569),"heater.mediums[1].p", 0.0,"0.0", 9),
  "heater.mediums[1].p >= 0.0", StringAdd(StringAdd(StringAdd(StringAdd(
  StringAdd(StringAdd("Pressure (= ",Real2String2(DYNX(W_,569), true, 0)),
  " Pa) of medium \""),"SimpleLiquidWater"),"\" is negative\n(Temperature = "),
  Real2String2(DYNX(X_,1), true, 0))," K)"));
PopAllMarks();
AssertModelica(GreaterEqual(DYNX(X_,1),"heater.mediums[1].T", 272.15,"272.15", 10)
   AND LessEqual(DYNX(X_,1),"heater.mediums[1].T", 403.15,"403.15", 11),
  "heater.mediums[1].T >= 272.15 and heater.mediums[1].T <= 403.15", StringAdd(
  StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(
  "\nTemperature T (= ",Real2String2(DYNX(X_,1), true, 0))," K) is not\nin the allowed range ("),
  "272.15")," K <= T <= "),"403.15")," K)\nrequired from medium model \""),
  "SimpleLiquidWater"),"\".\n"));
PopAllMarks();
AssertModelica(GreaterEqual(DYNX(W_,581),"radiator.mediums[1].p", 0.0,"0.0", 12),
  "radiator.mediums[1].p >= 0.0", StringAdd(StringAdd(StringAdd(StringAdd(
  StringAdd(StringAdd("Pressure (= ",Real2String2(DYNX(W_,581), true, 0)),
  " Pa) of medium \""),"SimpleLiquidWater"),"\" is negative\n(Temperature = "),
  Real2String2(DYNX(X_,2), true, 0))," K)"));
PopAllMarks();
AssertModelica(GreaterEqual(DYNX(X_,2),"radiator.mediums[1].T", 272.15,"272.15",
   13) AND LessEqual(DYNX(X_,2),"radiator.mediums[1].T", 403.15,"403.15", 14),
  "radiator.mediums[1].T >= 272.15 and radiator.mediums[1].T <= 403.15", 
  StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(
  StringAdd("\nTemperature T (= ",Real2String2(DYNX(X_,2), true, 0)),
  " K) is not\nin the allowed range ("),"272.15")," K <= T <= "),"403.15"),
  " K)\nrequired from medium model \""),"SimpleLiquidWater"),"\".\n"));
PopAllMarks();
 /* Linear system of equations to solve. */
DYNX(W_,443) = 334720.0;
SolveScalarLinear( -DYNX(W_,47)," -tank.ports[1].m_flow",  -DYNX(W_,545),
  " -pipe.H_flows[2]", DYNX(W_,443),"pipe.port_a.h_outflow");
 /* End of Equation Block */ 

DYNX(W_,29) = 4184*(DYNX(W_,26)-273.15);
DYNX(W_,37) = DYNX(W_,39)*DYNX(W_,29);
DYNX(W_,114) = (-0.0002390057361376673)*((-1142859.5999999999)-DYNX(W_,96));
AssertModelica(DYNX(DP_,31) >= 0.0,"pump.p_b_nominal >= 0.0", StringAdd(
  StringAdd(StringAdd(StringAdd(StringAdd(StringAdd("Pressure (= ",Real2String2(
  DYNX(DP_,31), true, 0))," Pa) of medium \""),"SimpleLiquidWater"),
  "\" is negative\n(Temperature = "),Real2String2(DYNX(W_,114), true, 0))," K)"));
PopAllMarks();
AssertModelica(GreaterEqual(DYNX(W_,114),"pump.medium.T", 272.15,"272.15", 15)
   AND LessEqual(DYNX(W_,114),"pump.medium.T", 403.15,"403.15", 16),
  "pump.medium.T >= 272.15 and pump.medium.T <= 403.15", StringAdd(StringAdd(
  StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(StringAdd("\nTemperature T (= ",
  Real2String2(DYNX(W_,114), true, 0))," K) is not\nin the allowed range ("),
  "272.15")," K <= T <= "),"403.15")," K)\nrequired from medium model \""),
  "SimpleLiquidWater"),"\".\n"));
PopAllMarks();
DYNX(W_,454) = 5.0*DYNX(DP_,73)*DYNX(W_,485);
DYNX(W_,470) = 995.586*DYNX(W_,454);
DYNX(W_,336) = DYNX(DP_,64)*DYNX(W_,355)*DYNX(W_,354);
DYNX(W_,348) = 995.586*DYNX(W_,336);
DYNX(W_,226) = DYNX(DP_,55)*DYNX(W_,245)*DYNX(W_,244);
DYNX(W_,238) = 995.586*DYNX(W_,226);
DYNX(W_,453) = 5.0*DYNX(DP_,73)*DYNX(W_,484);
DYNX(W_,469) = 995.586*DYNX(W_,453);
DYNX(W_,24) = DYNX(W_,15);
AssertModelica(DYNX(W_,24) >= 0.0,"tank.medium.p >= 0.0", StringAdd(StringAdd(
  StringAdd(StringAdd(StringAdd(StringAdd("Pressure (= ",Real2String2(
  DYNX(W_,24), true, 0))," Pa) of medium \""),"SimpleLiquidWater"),
  "\" is negative\n(Temperature = "),Real2String2(DYNX(W_,26), true, 0))," K)"));
PopAllMarks();
DYNX(W_,36) = 1E-05*DYNX(W_,24);
DYNX(W_,309) = (PushModelContext(1,"pressureLoss_m_flow_Unique11(heater.flowModel.m_flow_nominal/heater.flowModel.nParallel, heater.flowModel.rho_nominal, heater.flowModel.rho_nominal, heater.flowModel.mu_nominal, heater.flowModel.mu_nominal, heater.pathLengths[1], heater.dimensions[1], heater.crossAreas[1], heater.roughnesses[1], heater.flowModel.m_flow_small/heater.flowModel.nParallel, 4000.0)")
  pressureLossx_0mx_0flowx_0Unique11(divmacro(DYNX(W_,304),"heater.flowModel.m_flow_nominal",
  DYNX(W_,263),"heater.flowModel.nParallel"), DYNX(DP_,61), DYNX(DP_,61), 
  DYNX(DP_,62), DYNX(DP_,62), DYNX(W_,313), DYNX(W_,246), DYNX(W_,245), 
  DYNX(W_,247), divmacro(DYNX(W_,305),"heater.flowModel.m_flow_small",
  DYNX(W_,263),"heater.flowModel.nParallel"), 4000.0))+(PushModelContext(1,
  "pressureLoss_m_flow_Unique11(heater.flowModel.m_flow_nominal/heater.flowModel.nParallel, heater.flowModel.rho_nominal, heater.flowModel.rho_nominal, heater.flowModel.mu_nominal, heater.flowModel.mu_nominal, heater.pathLengths[2], heater.dimensions[1], heater.crossAreas[1], heater.roughnesses[1], heater.flowModel.m_flow_small/heater.flowModel.nParallel, 4000.0)")
  pressureLossx_0mx_0flowx_0Unique11(divmacro(DYNX(W_,304),"heater.flowModel.m_flow_nominal",
  DYNX(W_,263),"heater.flowModel.nParallel"), DYNX(DP_,61), DYNX(DP_,61), 
  DYNX(DP_,62), DYNX(DP_,62), DYNX(W_,314), DYNX(W_,246), DYNX(W_,245), 
  DYNX(W_,247), divmacro(DYNX(W_,305),"heater.flowModel.m_flow_small",
  DYNX(W_,263),"heater.flowModel.nParallel"), 4000.0));
PopModelContext();
DYNX(W_,321) = DYNX(W_,222)*DYNX(W_,244);
DYNX(W_,419) = (PushModelContext(1,"pressureLoss_m_flow_Unique11(radiator.flowModel.m_flow_nominal/radiator.flowModel.nParallel, radiator.flowModel.rho_nominal, radiator.flowModel.rho_nominal, radiator.flowModel.mu_nominal, radiator.flowModel.mu_nominal, radiator.pathLengths[1], radiator.dimensions[1], radiator.crossAreas[1], radiator.roughnesses[1], radiator.flowModel.m_flow_small/radiator.flowModel.nParallel, 4000.0)")
  pressureLossx_0mx_0flowx_0Unique11(divmacro(DYNX(W_,414),"radiator.flowModel.m_flow_nominal",
  DYNX(W_,373),"radiator.flowModel.nParallel"), DYNX(DP_,70), DYNX(DP_,70), 
  DYNX(DP_,71), DYNX(DP_,71), DYNX(W_,423), DYNX(W_,356), DYNX(W_,355), 
  DYNX(W_,357), divmacro(DYNX(W_,415),"radiator.flowModel.m_flow_small",
  DYNX(W_,373),"radiator.flowModel.nParallel"), 4000.0))+(PushModelContext(1,
  "pressureLoss_m_flow_Unique11(radiator.flowModel.m_flow_nominal/radiator.flowModel.nParallel, radiator.flowModel.rho_nominal, radiator.flowModel.rho_nominal, radiator.flowModel.mu_nominal, radiator.flowModel.mu_nominal, radiator.pathLengths[2], radiator.dimensions[1], radiator.crossAreas[1], radiator.roughnesses[1], radiator.flowModel.m_flow_small/radiator.flowModel.nParallel, 4000.0)")
  pressureLossx_0mx_0flowx_0Unique11(divmacro(DYNX(W_,414),"radiator.flowModel.m_flow_nominal",
  DYNX(W_,373),"radiator.flowModel.nParallel"), DYNX(DP_,70), DYNX(DP_,70), 
  DYNX(DP_,71), DYNX(DP_,71), DYNX(W_,424), DYNX(W_,356), DYNX(W_,355), 
  DYNX(W_,357), divmacro(DYNX(W_,415),"radiator.flowModel.m_flow_small",
  DYNX(W_,373),"radiator.flowModel.nParallel"), 4000.0));
PopModelContext();
DYNX(W_,431) = DYNX(W_,332)*DYNX(W_,354);
DYNX(W_,553) = 5.0*DYNX(W_,449);
DYNX(W_,554) = 5.0*DYNX(W_,449);
 /* Linear system of equations to solve. */
DYNX(W_,12) = 0.0;
SolveScalarLinearParametric( -DYNX(DP_,7)," -tank.crossArea", 0.0,"0.0", 
  DYNX(W_,12),"der(tank.level)");
 /* End of Equation Block */ 

DYNX(W_,123) = 1E-05*DYNX(DP_,31);
DYNX(W_,543) = (PushModelContext(1,"pressureLoss_m_flow_Unique11(pipe.flowModel.m_flow_nominal/pipe.flowModel.nParallel, pipe.flowModel.rho_nominal, pipe.flowModel.rho_nominal, pipe.flowModel.mu_nominal, pipe.flowModel.mu_nominal, 10.0, pipe.flowModel.diameters[1], 0.5*(pipe.crossAreas[1]+pipe.crossAreas[2]), 0.5*(pipe.roughnesses[1]+pipe.roughnesses[2]), pipe.flowModel.m_flow_small/pipe.flowModel.nParallel, 4000)")
  pressureLossx_0mx_0flowx_0Unique11(divmacro(DYNX(W_,537),"pipe.flowModel.m_flow_nominal",
  DYNX(W_,506),"pipe.flowModel.nParallel"), DYNX(DP_,78), DYNX(DP_,78), 
  DYNX(DP_,79), DYNX(DP_,79), 10.0, DYNX(W_,542), 0.5*(DYNX(W_,484)+DYNX(W_,485)),
   0.5*(DYNX(W_,488)+DYNX(W_,489)), divmacro(DYNX(W_,538),"pipe.flowModel.m_flow_small",
  DYNX(W_,506),"pipe.flowModel.nParallel"), 4000));
PopModelContext();
DYNX(X_,3) = (-0.0002390057361376673)*((-1142859.5999999999)-DYNX(W_,443));
AssertModelica(GreaterEqual(DYNX(W_,593),"pipe.mediums[1].p", 0.0,"0.0", 17),
  "pipe.mediums[1].p >= 0.0", StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(
  StringAdd("Pressure (= ",Real2String2(DYNX(W_,593), true, 0))," Pa) of medium \""),
  "SimpleLiquidWater"),"\" is negative\n(Temperature = "),Real2String2(
  DYNX(X_,3), true, 0))," K)"));
PopAllMarks();
AssertModelica(GreaterEqual(DYNX(X_,3),"pipe.mediums[1].T", 272.15,"272.15", 18)
   AND LessEqual(DYNX(X_,3),"pipe.mediums[1].T", 403.15,"403.15", 19),
  "pipe.mediums[1].T >= 272.15 and pipe.mediums[1].T <= 403.15", StringAdd(
  StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(
  "\nTemperature T (= ",Real2String2(DYNX(X_,3), true, 0))," K) is not\nin the allowed range ("),
  "272.15")," K <= T <= "),"403.15")," K)\nrequired from medium model \""),
  "SimpleLiquidWater"),"\".\n"));
PopAllMarks();
DYNX(X_,4) = (-0.0002390057361376673)*((-1142859.5999999999)-DYNX(W_,166));
AssertModelica(GreaterEqual(DYNX(W_,605),"pipe.mediums[2].p", 0.0,"0.0", 20),
  "pipe.mediums[2].p >= 0.0", StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(
  StringAdd("Pressure (= ",Real2String2(DYNX(W_,605), true, 0))," Pa) of medium \""),
  "SimpleLiquidWater"),"\" is negative\n(Temperature = "),Real2String2(
  DYNX(X_,4), true, 0))," K)"));
PopAllMarks();
AssertModelica(GreaterEqual(DYNX(X_,4),"pipe.mediums[2].T", 272.15,"272.15", 21)
   AND LessEqual(DYNX(X_,4),"pipe.mediums[2].T", 403.15,"403.15", 22),
  "pipe.mediums[2].T >= 272.15 and pipe.mediums[2].T <= 403.15", StringAdd(
  StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(
  "\nTemperature T (= ",Real2String2(DYNX(X_,4), true, 0))," K) is not\nin the allowed range ("),
  "272.15")," K <= T <= "),"403.15")," K)\nrequired from medium model \""),
  "SimpleLiquidWater"),"\".\n"));
PopAllMarks();
DYNX(W_,86) = 995.586*(IF 0 > DYNX(W_,11)-DYNX(DP_,16) THEN 0 ELSE DYNX(W_,12))*
  DYNX(DP_,2);
DYNX(W_,80) = IF DYNX(W_,11)-DYNX(DP_,16)-0.1*DYNX(DP_,15) > 0.1*DYNX(DP_,15)
   THEN 0 ELSE IF DYNX(W_,11)-DYNX(DP_,16)-0.1*DYNX(DP_,15) < (-0.1)*
  DYNX(DP_,15) THEN 0.0 ELSE IF 0.1*DYNX(DP_,15) > 0 THEN divmacro((-0.24975)*(
  DYNX(W_,12)*(sqr(divmacro(DYNX(W_,11)-DYNX(DP_,16)-0.1*DYNX(DP_,15),
  "tank.level-tank.portsData[2].height-0.1*tank.portsData[2].diameter",0.1*
  DYNX(DP_,15),"0.1*tank.portsData[2].diameter"))-3)+divmacro(divmacro(2.0*(
  DYNX(W_,11)-DYNX(DP_,16)-0.1*DYNX(DP_,15))*(DYNX(W_,11)-DYNX(DP_,16)-0.1*
  DYNX(DP_,15))*DYNX(W_,12),"2.0*((tank.level-tank.portsData[2].height-0.1*tank.portsData[2].diameter)*((tank.level-tank.portsData[2].height-0.1*tank.portsData[2].diameter)*der(tank.level)))",
  0.1*DYNX(DP_,15),"0.1*tank.portsData[2].diameter"),"2.0*((tank.level-tank.portsData[2].height-0.1*tank.portsData[2].diameter)*((tank.level-tank.portsData[2].height-0.1*tank.portsData[2].diameter)*der(tank.level)))/(0.1*tank.portsData[2].diameter)",
  0.1*DYNX(DP_,15),"0.1*tank.portsData[2].diameter")),"(-0.24975)*(der(tank.level)*(((tank.level-tank.portsData[2].height-0.1*tank.portsData[2].diameter)/(0.1*tank.portsData[2].diameter))^2-3)+2.0*((tank.level-tank.portsData[2].height-0.1*tank.portsData[2].diameter)*((tank.level-tank.portsData[2].height-0.1*tank.portsData[2].diameter)*der(tank.level)))/(0.1*tank.portsData[2].diameter)/(0.1*tank.portsData[2].diameter))",
  0.1*DYNX(DP_,15),"0.1*tank.portsData[2].diameter") ELSE 0.0;
DYNX(W_,85) = 995.586*(IF 0 > DYNX(W_,11)-DYNX(DP_,12) THEN 0 ELSE DYNX(W_,12))*
  DYNX(DP_,2);
DYNX(W_,79) = IF DYNX(W_,11)-DYNX(DP_,12)-0.1*DYNX(DP_,11) > 0.1*DYNX(DP_,11)
   THEN 0 ELSE IF DYNX(W_,11)-DYNX(DP_,12)-0.1*DYNX(DP_,11) < (-0.1)*
  DYNX(DP_,11) THEN 0.0 ELSE IF 0.1*DYNX(DP_,11) > 0 THEN divmacro((-0.24975)*(
  DYNX(W_,12)*(sqr(divmacro(DYNX(W_,11)-DYNX(DP_,12)-0.1*DYNX(DP_,11),
  "tank.level-tank.portsData[1].height-0.1*tank.portsData[1].diameter",0.1*
  DYNX(DP_,11),"0.1*tank.portsData[1].diameter"))-3)+divmacro(divmacro(2.0*(
  DYNX(W_,11)-DYNX(DP_,12)-0.1*DYNX(DP_,11))*(DYNX(W_,11)-DYNX(DP_,12)-0.1*
  DYNX(DP_,11))*DYNX(W_,12),"2.0*((tank.level-tank.portsData[1].height-0.1*tank.portsData[1].diameter)*((tank.level-tank.portsData[1].height-0.1*tank.portsData[1].diameter)*der(tank.level)))",
  0.1*DYNX(DP_,11),"0.1*tank.portsData[1].diameter"),"2.0*((tank.level-tank.portsData[1].height-0.1*tank.portsData[1].diameter)*((tank.level-tank.portsData[1].height-0.1*tank.portsData[1].diameter)*der(tank.level)))/(0.1*tank.portsData[1].diameter)",
  0.1*DYNX(DP_,11),"0.1*tank.portsData[1].diameter")),"(-0.24975)*(der(tank.level)*(((tank.level-tank.portsData[1].height-0.1*tank.portsData[1].diameter)/(0.1*tank.portsData[1].diameter))^2-3)+2.0*((tank.level-tank.portsData[1].height-0.1*tank.portsData[1].diameter)*((tank.level-tank.portsData[1].height-0.1*tank.portsData[1].diameter)*der(tank.level)))/(0.1*tank.portsData[1].diameter)/(0.1*tank.portsData[1].diameter))",
  0.1*DYNX(DP_,11),"0.1*tank.portsData[1].diameter") ELSE 0.0;
if (DymolaHomotopyLambda==0){
  BreakSectionCallNew(6);
}
else {

   /* Linear system of equations to solve. */
  /* Tag: initialization.linear[8] */
  /* Introducing 42 common subexpressions used in 82 expressions */
  /* Of the common subexpressions 42 are reals, 0 are integers, and 0
     are booleans. */
  DYNX(DYNhelp,659) = IF DYNX(W_,90) THEN  -homotopy(DYNX(W_,85)+divmacro(0.5*(
    IF DYNX(W_,47) >= DYNX(W_,57) THEN 0.0010044335697769957*(DYNX(DP_,14)+
    divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")-1)*DYNX(W_,79)*sqr(DYNX(W_,47)) ELSE IF DYNX(W_,47) <= 
     -DYNX(W_,57) THEN divmacro(0.0010044335697769957*(1.0+DYNX(DP_,13)-divmacro
    (sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2"))
    *sqr(DYNX(W_,47))*DYNX(W_,79),"0.0010044335697769957*((1.0+tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)*tank.ports[1].m_flow^2*der(tank.ports_penetration[1]))",
    sqr(DYNX(W_,77)),"tank.ports_penetration[1]^2") ELSE IF 0.0010044335697769957
    *(DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(
    DYNX(W_,89)),"tank.vesselArea^2")-1)*DYNX(W_,77) >= divmacro(
    0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,13)-divmacro(sqr(
    DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")),
    "0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)",
    DYNX(W_,77),"tank.ports_penetration[1]") THEN (PushModelContext(1,
    "Modelica.Fluid.Utilities.regSquare2.regSquare2_utility:der(tank.ports[1].m_flow, tank.m_flow_small, 0.0010044335697769957*((tank.portsData[1].zeta_in+tank.portAreas[1]^2/tank.vesselArea^2-1)*tank.ports_penetration[1]), (0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2))/tank.ports_penetration[1], false, 1, 0.0, 0.0, 0.0010044335697769...")
    Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility__der(DYNX(W_,47), 
    DYNX(W_,57), 0.0010044335697769957*(DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),
    "tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")-1)*DYNX(W_,77), 
    divmacro(0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,13)-divmacro(
    sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")),
    "0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)",
    DYNX(W_,77),"tank.ports_penetration[1]"), false, 1, 0.0, 0.0, 
    0.0010044335697769957*(DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),
    "tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")-1)*DYNX(W_,79), 
     -divmacro((0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,13)-
    divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")))*DYNX(W_,79),"(0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2))*der(tank.ports_penetration[1])",
    sqr(DYNX(W_,77)),"tank.ports_penetration[1]^2"), 0)) ELSE  -(PushModelContext(1,
    "Modelica.Fluid.Utilities.regSquare2.regSquare2_utility:der( -tank.ports[1].m_flow, tank.m_flow_small, (0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2))/tank.ports_penetration[1], 0.0010044335697769957*((tank.portsData[1].zeta_in+tank.portAreas[1]^2/tank.vesselArea^2-1)*tank.ports_penetration[1]), false, 1, 0.0, 0.0,  -(0.00100443356...")
    Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility__der( -DYNX(W_,47),
     DYNX(W_,57), divmacro(0.0010044335697769957+0.0010044335697769957*(
    DYNX(DP_,13)-divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)",
    DYNX(W_,77),"tank.ports_penetration[1]"), 0.0010044335697769957*(
    DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")-1)*DYNX(W_,77), false, 1, 0.0, 0.0,  -divmacro((
    0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,13)-divmacro(sqr(
    DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")))*
    DYNX(W_,79),"(0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2))*der(tank.ports_penetration[1])",
    sqr(DYNX(W_,77)),"tank.ports_penetration[1]^2"), 0.0010044335697769957*(
    DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")-1)*DYNX(W_,79), 0))),"0.5*smooth(1, smooth(1, (if noEvent(tank.ports[1].m_flow >= tank.m_flow_small) then 0.0010044335697769957*((tank.portsData[1].zeta_in+tank.portAreas[1]^2/tank.vesselArea^2-1)*der(tank.ports_penetration[1])*tank.ports[1].m_flow^2) else (if noEvent(tank.ports[1].m_flow <=  -tank.m_flow_small) then 0.0010044335697769957*((1.0+tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)*tank.p...",
    sqr(DYNX(W_,81)),"tank.portAreas[1]^2"), DYNX(W_,85)) ELSE IF DYNX(W_,92)
     THEN  -DYNX(W_,85) ELSE 0.0;
  PopModelContext();
  DYNX(DYNhelp,660) = IF DYNX(W_,90) THEN  -homotopy(divmacro(0.5*(IF 
    DYNX(W_,47) >= DYNX(W_,57) THEN 0.0020088671395539913*(DYNX(DP_,14)+divmacro
    (sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")
    -1)*DYNX(W_,77)*DYNX(W_,47) ELSE IF DYNX(W_,47) <=  -DYNX(W_,57) THEN  -
    divmacro(0.0020088671395539913*(1.0+DYNX(DP_,13)-divmacro(sqr(DYNX(W_,81)),
    "tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2"))*DYNX(W_,47),
    "0.0020088671395539913*((1.0+tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)*tank.ports[1].m_flow)",
    DYNX(W_,77),"tank.ports_penetration[1]") ELSE IF 0.0010044335697769957*(
    DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")-1)*DYNX(W_,77) >= divmacro(0.0010044335697769957+
    0.0010044335697769957*(DYNX(DP_,13)-divmacro(sqr(DYNX(W_,81)),
    "tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")),
    "0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)",
    DYNX(W_,77),"tank.ports_penetration[1]") THEN (PushModelContext(1,
    "Modelica.Fluid.Utilities.regSquare2.regSquare2_utility:der(tank.ports[1].m_flow, tank.m_flow_small, 0.0010044335697769957*((tank.portsData[1].zeta_in+tank.portAreas[1]^2/tank.vesselArea^2-1)*tank.ports_penetration[1]), (0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2))/tank.ports_penetration[1], false, 1, 1.0, 0.0, 0.0, 0.0, 0)")
    Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility__der(DYNX(W_,47), 
    DYNX(W_,57), 0.0010044335697769957*(DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),
    "tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")-1)*DYNX(W_,77), 
    divmacro(0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,13)-divmacro(
    sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")),
    "0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)",
    DYNX(W_,77),"tank.ports_penetration[1]"), false, 1, 1.0, 0.0, 0.0, 0.0, 0))
     ELSE  -(PushModelContext(1,"Modelica.Fluid.Utilities.regSquare2.regSquare2_utility:der( -tank.ports[1].m_flow, tank.m_flow_small, (0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2))/tank.ports_penetration[1], 0.0010044335697769957*((tank.portsData[1].zeta_in+tank.portAreas[1]^2/tank.vesselArea^2-1)*tank.ports_penetration[1]), false, 1, -1.0, 0.0, 0.0, 0.0, 0)")
    Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility__der( -DYNX(W_,47),
     DYNX(W_,57), divmacro(0.0010044335697769957+0.0010044335697769957*(
    DYNX(DP_,13)-divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)",
    DYNX(W_,77),"tank.ports_penetration[1]"), 0.0010044335697769957*(
    DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")-1)*DYNX(W_,77), false, 1, -1.0, 0.0, 0.0, 0.0, 0))),
    "0.5*smooth(0, smooth(0, (if noEvent(tank.ports[1].m_flow >= tank.m_flow_small) then 0.0020088671395539913*((tank.portsData[1].zeta_in+tank.portAreas[1]^2/tank.vesselArea^2-1)*tank.ports_penetration[1]*tank.ports[1].m_flow) else (if noEvent(tank.ports[1].m_flow <=  -tank.m_flow_small) then  -0.0020088671395539913*((1.0+tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)*tank.ports[...",
    sqr(DYNX(W_,81)),"tank.portAreas[1]^2"), 0.0) ELSE IF DYNX(W_,92) THEN 0.0
     ELSE 1.0;
  PopModelContext();
  /* Automatic tearing of linear system of 18 simultaneous equations
  gave a linear system of 6 equations for numerical solution.*/
  {
    const char*const varnames_[]={"tank.ports[1].der(p)", "radiator.mediums[1].der(p)",
       "pipe.mediums[2].der(p)", "pipe.mediums[1].der(p)", "heater.mediums[1].der(p)",
       "valve.der(dp)"};
    const double nominal_[]={1, 1, 1, 1, 1, 1};
    DidLinearSystemOfEquations(J, b, y, 6, DYNX(DYNhelp,661), 120, 
      DYNX(did_->helpvari_vec,74), 16);
    /* Jacobian depending on continuous variables */
    SetNeedFactor(J);
    if (NeedFactor(J)) {
      MatrixZeros(J);
      DYNX(DYNhelp,781) = DYNX(W_,205)*DYNX(W_,181);
      DYNX(DYNhelp,782) = DYNX(W_,173)*DYNX(W_,173);
      DYNX(DYNhelp,783) = DYNX(W_,184)*DYNX(W_,184);
      DYNX(DYNhelp,784) = DYNX(DYNhelp,782)+DYNX(DYNhelp,783);
      DYNX(DYNhelp,785) = powmacro(DYNX(DYNhelp,784),"valve.dp*valve.dp+valve.dp_small*valve.dp_small",
        0.25,"0.25");
      DYNX(DYNhelp,786) = divmacro(1.0,"1.0",DYNX(DYNhelp,785),"(valve.dp*valve.dp+valve.dp_small*valve.dp_small)^0.25");
      DYNX(DYNhelp,787) = DYNX(DYNhelp,781)*DYNX(W_,173);
      DYNX(DYNhelp,788) = powmacro(DYNX(DYNhelp,784),"valve.dp*valve.dp+valve.dp_small*valve.dp_small",
        -0.75,"-0.75");
      DYNX(DYNhelp,789) = DYNX(DYNhelp,788)*DYNX(W_,173);
      DYNX(DYNhelp,790) = sqr(DYNX(DYNhelp,785));
      DYNX(DYNhelp,791) = divmacro(1.0,"1.0",DYNX(DYNhelp,790),"((valve.dp*valve.dp+valve.dp_small*valve.dp_small)^0.25)^2");
      DYNX(DYNhelp,792) = DYNX(W_,205)*DYNX(DP_,38);
      DYNX(DYNhelp,793) = divmacro(1.0,"1.0",DYNX(DP_,37),"valve.dp_nominal");
      DYNX(DYNhelp,794) = homotopy(DYNX(DYNhelp,786)*31.55290794839677*
        DYNX(DYNhelp,781)-DYNX(DYNhelp,791)*15.776453974198384*DYNX(DYNhelp,787)
        *DYNX(DYNhelp,789), DYNX(DYNhelp,793)*DYNX(DYNhelp,792));
      DYNX(DYNhelp,795) = 0.5*DYNX(W_,306);
      DYNX(DYNhelp,796) = divmacro(DYNX(W_,304),"heater.flowModel.m_flow_nominal",
        DYNX(W_,303),"heater.flowModel.dp_nominal");
      DYNX(DYNhelp,797) = divmacro(1.0,"1.0",DYNX(W_,303),"heater.flowModel.dp_nominal");
      DYNX(DYNhelp,798) = DYNX(W_,263)*DYNX(W_,245);
      DYNX(DYNhelp,799) = divmacro(1.0,"1.0",DYNX(W_,263),"heater.flowModel.nParallel");
      DYNX(DYNhelp,800) = 2.0*DYNX(W_,245);
      DYNX(DYNhelp,801) = divmacro(1.0,"1.0",DYNX(DYNhelp,800),"2.0*heater.crossAreas[1]");
      DYNX(DYNhelp,802) = homotopy(DYNX(W_,263)*(PushModelContext(1,
        "massFlowRate_dp_staticHead_Unique15:der(heater.flowModel.dps_fg[2], 995.586, 995.586, 0.001, 0.001, heater.pathLengths[2], heater.dimensions[1], 0.0, heater.crossAreas[1], heater.roughnesses[1], 0.5*heater.flowModel.dp_small, 4000.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0)")
        massFlowRatex_0dpx_0staticHeadx_0Unique15__der(DYNX(W_,294), 995.586, 
        995.586, 0.001, 0.001, DYNX(W_,314), DYNX(W_,246), 0.0, DYNX(W_,245), 
        DYNX(W_,247), DYNX(DYNhelp,795), 4000.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 
        0.0, 0.0, 0.0, 0.0, 0.0, 0.0)), DYNX(DYNhelp,796))*DYNX(DYNhelp,798);
      PopModelContext();
      DYNX(DYNhelp,803) = 0.5*DYNX(W_,416);
      DYNX(DYNhelp,804) = divmacro(DYNX(W_,414),"radiator.flowModel.m_flow_nominal",
        DYNX(W_,413),"radiator.flowModel.dp_nominal");
      DYNX(DYNhelp,805) = divmacro(1.0,"1.0",DYNX(W_,413),"radiator.flowModel.dp_nominal");
      DYNX(DYNhelp,806) = DYNX(W_,373)*DYNX(W_,355);
      DYNX(DYNhelp,807) = homotopy(DYNX(W_,373)*(PushModelContext(1,
        "massFlowRate_dp_staticHead_Unique15:der(radiator.flowModel.dps_fg[1], 995.586, 995.586, 0.001, 0.001, radiator.pathLengths[1], radiator.dimensions[1], 0.0, radiator.crossAreas[1], radiator.roughnesses[1], 0.5*radiator.flowModel.dp_small, 4000, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0)")
        massFlowRatex_0dpx_0staticHeadx_0Unique15__der(DYNX(W_,403), 995.586, 
        995.586, 0.001, 0.001, DYNX(W_,423), DYNX(W_,356), 0.0, DYNX(W_,355), 
        DYNX(W_,357), DYNX(DYNhelp,803), 4000, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
         0.0, 0.0, 0.0, 0.0, 0.0)), DYNX(DYNhelp,804))*DYNX(DYNhelp,806);
      PopModelContext();
      DYNX(DYNhelp,808) = divmacro(1.0,"1.0",DYNX(W_,373),"radiator.flowModel.nParallel");
      DYNX(DYNhelp,809) = 2.0*DYNX(W_,355);
      DYNX(DYNhelp,810) = divmacro(DYNX(DYNhelp,808)*(-2.0)*DYNX(DYNhelp,807),
        "(-2.0)*(homotopy(radiator.flowModel.nParallel*massFlowRate_dp_staticHead_Unique15:der(radiator.flowModel.dps_fg[1], 995.586, 995.586, 0.001, 0.001, radiator.pathLengths[1], radiator.dimensions[1], 0.0, radiator.crossAreas[1], radiator.roughnesses[1], 0.5*radiator.flowModel.dp_small, 4000, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0), radiator.flowModel.m_flow_nominal/radiator.flo...",
        DYNX(DYNhelp,809),"2.0*radiator.crossAreas[1]");
      DYNX(DYNhelp,811) = divmacro(1.0,"1.0",DYNX(DYNhelp,809),"2.0*radiator.crossAreas[1]");
      DYNX(DYNhelp,812) = homotopy(DYNX(W_,373)*(PushModelContext(1,
        "massFlowRate_dp_staticHead_Unique15:der(radiator.flowModel.dps_fg[2], 995.586, 995.586, 0.001, 0.001, radiator.pathLengths[2], radiator.dimensions[1], 0.0, radiator.crossAreas[1], radiator.roughnesses[1], 0.5*radiator.flowModel.dp_small, 4000.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0)")
        massFlowRatex_0dpx_0staticHeadx_0Unique15__der(DYNX(W_,404), 995.586, 
        995.586, 0.001, 0.001, DYNX(W_,424), DYNX(W_,356), 0.0, DYNX(W_,355), 
        DYNX(W_,357), DYNX(DYNhelp,803), 4000.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 
        0.0, 0.0, 0.0, 0.0, 0.0, 0.0)), DYNX(DYNhelp,804))*DYNX(DYNhelp,806);
      PopModelContext();
      DYNX(DYNhelp,813) = DYNX(W_,484)+DYNX(W_,485);
      DYNX(DYNhelp,814) = 0.5*DYNX(DYNhelp,813);
      DYNX(DYNhelp,815) = 0.5*(DYNX(W_,488)+DYNX(W_,489));
      DYNX(DYNhelp,816) = divmacro(1.0,"1.0",DYNX(W_,536),"pipe.flowModel.dp_nominal");
      DYNX(DYNhelp,817) = homotopy(DYNX(W_,506)*(PushModelContext(1,
        "massFlowRate_dp_staticHead_Unique15:der(pipe.flowModel.dps_fg[1], 995.586, 995.586, 0.001, 0.001, 10.0, pipe.flowModel.diameters[1], 0.0, 0.5*(pipe.crossAreas[1]+pipe.crossAreas[2]), 0.5*(pipe.roughnesses[1]+pipe.roughnesses[2]), pipe.flowModel.dp_small, 4000, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0)")
        massFlowRatex_0dpx_0staticHeadx_0Unique15__der(DYNX(W_,528), 995.586, 
        995.586, 0.001, 0.001, 10.0, DYNX(W_,542), 0.0, DYNX(DYNhelp,814), 
        DYNX(DYNhelp,815), DYNX(W_,539), 4000, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
         0.0, 0.0, 0.0, 0.0, 0.0)), DYNX(DYNhelp,816)*DYNX(W_,537))*DYNX(W_,506)
        *DYNX(DYNhelp,813);
      PopModelContext();
      DYNX(DYNhelp,818) = divmacro(1.0,"1.0",DYNX(W_,506),"pipe.flowModel.nParallel");
      DYNX(DYNhelp,819) = divmacro(1.0,"1.0",DYNX(DYNhelp,813),"pipe.crossAreas[1]+pipe.crossAreas[2]");
      SetMatrixLeading(J, 1, 1, 6, IF DYNX(W_,90) THEN 1.0 ELSE IF DYNX(W_,92)
         THEN 1.0 ELSE 0.0);
      SetMatrixLeading(J, 1, 6, 6, DYNX(DYNhelp,660)*DYNX(DYNhelp,794));
      SetMatrixLeading(J, 2, 5, 6,  -DYNX(DYNhelp,801)*DYNX(DYNhelp,799)*(-2.0)*
        homotopy(DYNX(W_,263)*(PushModelContext(1,"massFlowRate_dp_staticHead_Unique15:der(heater.flowModel.dps_fg[1], 995.586, 995.586, 0.001, 0.001, heater.pathLengths[1], heater.dimensions[1], 0.0, heater.crossAreas[1], heater.roughnesses[1], 0.5*heater.flowModel.dp_small, 4000.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0)")
        massFlowRatex_0dpx_0staticHeadx_0Unique15__der(DYNX(W_,293), 995.586, 
        995.586, 0.001, 0.001, DYNX(W_,313), DYNX(W_,246), 0.0, DYNX(W_,245), 
        DYNX(W_,247), DYNX(DYNhelp,795), 4000.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 
        0.0, 0.0, 0.0, 0.0, 0.0, 0.0)), DYNX(DYNhelp,796))*DYNX(DYNhelp,798));
      PopModelContext();
      SetMatrixLeading(J, 2, 6, 6, DYNX(DYNhelp,794));
      SetMatrixLeading(J, 3, 4, 6,  -DYNX(DYNhelp,801)*DYNX(DYNhelp,799)*(-2.0)*
        DYNX(DYNhelp,802));
      SetMatrixLeading(J, 3, 5, 6,  -DYNX(DYNhelp,801)*DYNX(DYNhelp,799)*2.0*
        DYNX(DYNhelp,802));
      SetMatrixLeading(J, 3, 6, 6, DYNX(DYNhelp,794));
      SetMatrixLeading(J, 4, 2, 6,  -DYNX(DYNhelp,810));
      SetMatrixLeading(J, 4, 3, 6,  -DYNX(DYNhelp,811)*DYNX(DYNhelp,808)*2.0*
        DYNX(DYNhelp,807));
      SetMatrixLeading(J, 4, 6, 6, DYNX(DYNhelp,794)-DYNX(DYNhelp,810));
      SetMatrixLeading(J, 5, 1, 6,  -DYNX(DYNhelp,811)*DYNX(DYNhelp,808)*(-2.0)*
        DYNX(DYNhelp,812));
      SetMatrixLeading(J, 5, 2, 6,  -DYNX(DYNhelp,811)*DYNX(DYNhelp,808)*2.0*
        DYNX(DYNhelp,812));
      SetMatrixLeading(J, 5, 6, 6, DYNX(DYNhelp,794));
      SetMatrixLeading(J, 6, 3, 6,  -DYNX(DYNhelp,819)*DYNX(DYNhelp,818)*(-1.0)*
        DYNX(DYNhelp,817));
      SetMatrixLeading(J, 6, 4, 6,  -DYNX(DYNhelp,819)*DYNX(DYNhelp,818)*
        DYNX(DYNhelp,817));
      SetMatrixLeading(J, 6, 6, 6, DYNX(DYNhelp,794));
    }
    SetVector(b, 1,  -(DYNX(DYNhelp,659)+DYNX(DYNhelp,660)*homotopy(0.0, 0.0)));
    SetVector(y, 1, 0.0);
    SetVector(y, 2, 0.0);
    SetVector(y, 3, 0.0);
    SetVector(y, 4, 0.0);
    SetVector(y, 5, 0.0);
    SetVector(y, 6, 0.0);
    SolveLinearSystemOfEquations(J, b, y, 4);
    DYNX(W_,50) = GetVector(y, 1);
    DYNX(W_,582) = GetVector(y, 2);
    DYNX(W_,606) = GetVector(y, 3);
    DYNX(W_,594) = GetVector(y, 4);
    DYNX(W_,570) = GetVector(y, 5);
    DYNX(W_,174) = GetVector(y, 6);
    EndStaticLinearSystemOfEquations(J);
  }
  DYNX(W_,390) = DYNX(W_,373)*DYNX(W_,355)*(DYNX(W_,50)-DYNX(W_,582));
  DYNX(W_,406) = DYNX(DYNhelp,811)*DYNX(DYNhelp,808)*(-2)*DYNX(W_,390);
  DYNX(W_,165) = DYNX(W_,606)-DYNX(W_,174);
  DYNX(W_,389) = DYNX(W_,373)*DYNX(W_,355)*(DYNX(W_,582)-DYNX(W_,165));
  DYNX(W_,405) = DYNX(DYNhelp,811)*DYNX(DYNhelp,808)*(-2)*DYNX(W_,389);
  DYNX(W_,519) = 0.5*DYNX(W_,506)*DYNX(DYNhelp,813)*(DYNX(W_,606)-DYNX(W_,594));
  DYNX(W_,529) = DYNX(DYNhelp,819)*DYNX(DYNhelp,818)*(-2)*DYNX(W_,519);
  DYNX(W_,280) = DYNX(W_,263)*DYNX(W_,245)*(DYNX(W_,594)-DYNX(W_,570));
  DYNX(W_,296) = DYNX(DYNhelp,801)*DYNX(DYNhelp,799)*(-2)*DYNX(W_,280);
  DYNX(W_,279) = DYNX(W_,263)*DYNX(W_,245)*DYNX(W_,570);
  DYNX(W_,295) = DYNX(DYNhelp,801)*DYNX(DYNhelp,799)*(-2)*DYNX(W_,279);
  DYNX(DYNhelp,820) = DYNX(W_,174)*DYNX(W_,173);
  DYNX(W_,48) = homotopy(DYNX(DYNhelp,786)*31.55290794839677*DYNX(DYNhelp,781)*
    DYNX(W_,174)-DYNX(DYNhelp,791)*15.776453974198384*DYNX(DYNhelp,787)*
    DYNX(DYNhelp,788)*DYNX(DYNhelp,820), DYNX(DYNhelp,793)*DYNX(DYNhelp,792)*
    DYNX(W_,174));
   /* End of Equation Block */ 

}
if (DymolaHomotopyLambda==0){
  BreakSectionCallNew(7);
}
else {
   /* Linear system of equations to solve. */
  /* Introducing 1 common subexpressions used in 0 expressions */
  /* Of the common subexpressions 1 are reals, 0 are integers, and 0
     are booleans. */
  DYNX(DYNhelp,821) = IF DYNX(W_,91) THEN  -homotopy(DYNX(W_,86)+divmacro(0.5*(
    IF  -DYNX(W_,47) >= DYNX(W_,57) THEN 0.0010044335697769957*((DYNX(DP_,18)+
    divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")-1)*DYNX(W_,80)*sqr(DYNX(W_,47))+2.0*(DYNX(DP_,18)+
    divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")-1)*DYNX(W_,78)*DYNX(W_,47)*DYNX(W_,48)) ELSE IF  -
    DYNX(W_,47) <=  -DYNX(W_,57) THEN divmacro(0.0010044335697769957*(1.0+
    DYNX(DP_,17)-divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2"))*sqr(DYNX(W_,47))*DYNX(W_,80),"0.0010044335697769957*((1.0+tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)*tank.ports[1].m_flow^2*der(tank.ports_penetration[2]))",
    sqr(DYNX(W_,78)),"tank.ports_penetration[2]^2")-divmacro(0.0020088671395539913
    *(1.0+DYNX(DP_,17)-divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(
    DYNX(W_,89)),"tank.vesselArea^2"))*DYNX(W_,47)*DYNX(W_,48),"0.0020088671395539913*((1.0+tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)*(tank.ports[1].m_flow*der(tank.ports[1].m_flow)))",
    DYNX(W_,78),"tank.ports_penetration[2]") ELSE IF 0.0010044335697769957*(
    DYNX(DP_,18)+divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")-1)*DYNX(W_,78) >= divmacro(0.0010044335697769957+
    0.0010044335697769957*(DYNX(DP_,17)-divmacro(sqr(DYNX(W_,82)),
    "tank.portAreas[2]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")),
    "0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)",
    DYNX(W_,78),"tank.ports_penetration[2]") THEN (PushModelContext(1,
    "Modelica.Fluid.Utilities.regSquare2.regSquare2_utility:der( -tank.ports[1].m_flow, tank.m_flow_small, 0.0010044335697769957*((tank.portsData[2].zeta_in+tank.portAreas[2]^2/tank.vesselArea^2-1)*tank.ports_penetration[2]), (0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2))/tank.ports_penetration[2], false, 1,  -der(tank.ports[1].m_flow...")
    Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility__der( -DYNX(W_,47),
     DYNX(W_,57), 0.0010044335697769957*(DYNX(DP_,18)+divmacro(sqr(DYNX(W_,82)),
    "tank.portAreas[2]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")-1)*DYNX(W_,78), 
    divmacro(0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,17)-divmacro(
    sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")),
    "0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)",
    DYNX(W_,78),"tank.ports_penetration[2]"), false, 1,  -DYNX(W_,48), 0.0, 
    0.0010044335697769957*(DYNX(DP_,18)+divmacro(sqr(DYNX(W_,82)),
    "tank.portAreas[2]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")-1)*DYNX(W_,80), 
     -divmacro((0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,17)-
    divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")))*DYNX(W_,80),"(0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2))*der(tank.ports_penetration[2])",
    sqr(DYNX(W_,78)),"tank.ports_penetration[2]^2"), 0)) ELSE  -(PushModelContext(1,
    "Modelica.Fluid.Utilities.regSquare2.regSquare2_utility:der(tank.ports[1].m_flow, tank.m_flow_small, (0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2))/tank.ports_penetration[2], 0.0010044335697769957*((tank.portsData[2].zeta_in+tank.portAreas[2]^2/tank.vesselArea^2-1)*tank.ports_penetration[2]), false, 1, der(tank.ports[1].m_flow), 0...")
    Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility__der(DYNX(W_,47), 
    DYNX(W_,57), divmacro(0.0010044335697769957+0.0010044335697769957*(
    DYNX(DP_,17)-divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)",
    DYNX(W_,78),"tank.ports_penetration[2]"), 0.0010044335697769957*(
    DYNX(DP_,18)+divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")-1)*DYNX(W_,78), false, 1, DYNX(W_,48), 0.0,  -divmacro(
    (0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,17)-divmacro(sqr(
    DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")))*
    DYNX(W_,80),"(0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2))*der(tank.ports_penetration[2])",
    sqr(DYNX(W_,78)),"tank.ports_penetration[2]^2"), 0.0010044335697769957*(
    DYNX(DP_,18)+divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")-1)*DYNX(W_,80), 0))),"0.5*smooth(1, smooth(1, (if noEvent( -tank.ports[1].m_flow >= tank.m_flow_small) then 0.0010044335697769957*((tank.portsData[2].zeta_in+tank.portAreas[2]^2/tank.vesselArea^2-1)*der(tank.ports_penetration[2])*tank.ports[1].m_flow^2+2.0*((tank.portsData[2].zeta_in+tank.portAreas[2]^2/tank.vesselArea^2-1)*tank.ports_penetration[2]*(tank.ports[1].m_flow*der(tank.ports[1].m_flow)))) else (if noEvent...",
    sqr(DYNX(W_,82)),"tank.portAreas[2]^2"), DYNX(W_,86)) ELSE IF DYNX(W_,93)
     THEN  -DYNX(W_,86) ELSE  -DYNX(W_,48);
  PopModelContext();
  DYNX(W_,54) = 0.0;
  SolveScalarLinear(IF DYNX(W_,91) THEN 1.0 ELSE IF DYNX(W_,93) THEN 1.0 ELSE 
    0.0,"(if tank.regularFlow[2] then 1.0 else (if tank.inFlow[2] then 1.0 else 0.0))",
      -DYNX(DYNhelp,821)," -(if tank.regularFlow[2] then  -homotopy(der(tank.vessel_ps_static[2])+0.5*smooth(1, smooth(1, (if noEvent( -tank.ports[1].m_flow >= tank.m_flow_small) then 0.0010044335697769957*((tank.portsData[2].zeta_in+tank.portAreas[2]^2/tank.vesselArea^2-1)*der(tank.ports_penetration[2])*tank.ports[1].m_flow^2+2.0*((tank.portsData[2].zeta_in+tank.portAreas[2]^2/tank.vesselArea^2-1)*tank.ports_penetratio...",
     DYNX(W_,54),"der(tank.ports[2].p)");
   /* End of Equation Block */ 

}
DYNX(W_,144) = homotopy(0.0010044335697769957*DYNX(W_,48), divmacro(DYNX(W_,48),
  "der(tank.ports[1].m_flow)",DYNX(DP_,26),"pump.rho_nominal"));
DYNX(W_,146) = divmacro(DYNX(W_,144),"der(pump.V_flow)",DYNX(DP_,24),
  "pump.nParallel");
DYNX(W_,149) = homotopy(1.25*(DYNX(W_,140)*DYNX(W_,146)-DYNX(W_,54)*DYNX(W_,145)),
   (-1.25)*DYNX(W_,54)*DYNX(W_,99));
DYNX(W_,141) = divmacro(DYNX(W_,140),"pump.dp_pump",995.586*DYNX(W_,138),
  "995.586*pump.g");
if (DymolaHomotopyLambda==0){
  BreakSectionCallNew(8);
}
else {
  { /* Non-linear system of equations to solve. */
  /* Tag: initialization.nonlinear[2] */
  /* Introducing 8 common subexpressions used in 5 expressions */
  /* Of the common subexpressions 6 are record members, 2 are reals, 0
     are integers, and 0 are booleans. */
  const char*const varnames_[]={"pump.N"};
  const double nominal_[]={1};
  NonLinearSystemOfEquations(Jacobian__, residue__, x__, 1, 0, 1, 2, -2, 
    DYNX(DYNhelp,823), 35, DYNX(did_->helpvari_vec,90), 23);
  SetInitVector(x__, 1, DYNX(W_,147), DYNX(DP_,25));
  Residues;
  DYNX(DYNhelp,858) = divmacro(1.0,"1.0",DYNX(DP_,25),"pump.N_nominal");
  PopAllMarks();
  DYNX(DYNhelp,859) = divmacro(1.0,"1.0",DYNX(W_,147),"pump.N");
  SetVector(residue__, 1, DYNX(W_,141)-homotopy(sqr(DYNX(DYNhelp,858)*
    DYNX(W_,147))*(PushModelContext(1,"pump.flowCharacteristic_Unique'\"pump\"'(pump.V_flow_single*pump.N_nominal/pump.N, {0, pump.V_flow_op, 1.5*pump.V_flow_op}, {2*pump.head_op, pump.head_op, 0})")
    pump_flowCharacteristicx_0Uniquez_0cchahfgnhacc(DYNX(DYNhelp,859)*
    DYNX(W_,145)*DYNX(DP_,25), RealScalarArray ( 3, 0.0, DYNX(W_,160), 1.5*
    DYNX(W_,160)), RealScalarArray ( 3, 2*DYNX(W_,161), DYNX(W_,161), 0.0))), 
    DYNX(DYNhelp,858)*DYNX(W_,147)*((PushModelContext(1,"pump.flowCharacteristic_Unique'\"pump\"'(0, {0, pump.V_flow_op, 1.5*pump.V_flow_op}, {2*pump.head_op, pump.head_op, 0})")
    pump_flowCharacteristicx_0Uniquez_0cchahfgnhacc(0, RealScalarArray ( 3, 0.0,
     DYNX(W_,160), 1.5*DYNX(W_,160)), RealScalarArray ( 3, 2*DYNX(W_,161), 
    DYNX(W_,161), 0.0)))+DYNX(W_,100)*DYNX(W_,145))));
  PopAllMarks();

  { /* No analytic Jacobian available*/
  SolveNonLinearSystemOfEquationsInit(Jacobian__, 0, 0, 0, residue__, x__,"Tag: initialization.nonlinear[2]");
  DYNX(W_,147) = GetVector(x__, 1);
  EndNonLinearSystemOfEquationsInit(residue__, x__, 2);
   /* End of Non-Linear Equation Block */ }



}
InitialSection
InitialSectionB
Init_=false;InitializeData(2);Init_=true;
EndInitialSection
AssertModelica(DYNX(W_,24) >= 0.0,"tank.medium.p >= 0.0", StringAdd(StringAdd(
  StringAdd(StringAdd(StringAdd(StringAdd("Pressure (= ",Real2String2(
  DYNX(W_,24), true, 0))," Pa) of medium \""),"SimpleLiquidWater"),
  "\" is negative\n(Temperature = "),Real2String2(DYNX(W_,26), true, 0))," K)"));
PopAllMarks();
AssertModelica(DYNX(DP_,31) >= 0.0,"pump.p_b_nominal >= 0.0", StringAdd(
  StringAdd(StringAdd(StringAdd(StringAdd(StringAdd("Pressure (= ",Real2String2(
  DYNX(DP_,31), true, 0))," Pa) of medium \""),"SimpleLiquidWater"),
  "\" is negative\n(Temperature = "),Real2String2(DYNX(W_,114), true, 0))," K)"));
PopAllMarks();

OutputSection
AssertModelica(GreaterEqual(DYNX(X_,1),"heater.mediums[1].T", 272.15,"272.15", 10)
   AND LessEqual(DYNX(X_,1),"heater.mediums[1].T", 403.15,"403.15", 11),
  "heater.mediums[1].T >= 272.15 and heater.mediums[1].T <= 403.15", StringAdd(
  StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(
  "\nTemperature T (= ",Real2String2(DYNX(X_,1), true, 0))," K) is not\nin the allowed range ("),
  "272.15")," K <= T <= "),"403.15")," K)\nrequired from medium model \""),
  "SimpleLiquidWater"),"\".\n"));
PopAllMarks();
AssertModelica(GreaterEqual(DYNX(X_,2),"radiator.mediums[1].T", 272.15,"272.15",
   13) AND LessEqual(DYNX(X_,2),"radiator.mediums[1].T", 403.15,"403.15", 14),
  "radiator.mediums[1].T >= 272.15 and radiator.mediums[1].T <= 403.15", 
  StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(
  StringAdd("\nTemperature T (= ",Real2String2(DYNX(X_,2), true, 0)),
  " K) is not\nin the allowed range ("),"272.15")," K <= T <= "),"403.15"),
  " K)\nrequired from medium model \""),"SimpleLiquidWater"),"\".\n"));
PopAllMarks();
AssertModelica(GreaterEqual(DYNX(X_,3),"pipe.mediums[1].T", 272.15,"272.15", 18)
   AND LessEqual(DYNX(X_,3),"pipe.mediums[1].T", 403.15,"403.15", 19),
  "pipe.mediums[1].T >= 272.15 and pipe.mediums[1].T <= 403.15", StringAdd(
  StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(
  "\nTemperature T (= ",Real2String2(DYNX(X_,3), true, 0))," K) is not\nin the allowed range ("),
  "272.15")," K <= T <= "),"403.15")," K)\nrequired from medium model \""),
  "SimpleLiquidWater"),"\".\n"));
PopAllMarks();
AssertModelica(GreaterEqual(DYNX(X_,4),"pipe.mediums[2].T", 272.15,"272.15", 21)
   AND LessEqual(DYNX(X_,4),"pipe.mediums[2].T", 403.15,"403.15", 22),
  "pipe.mediums[2].T >= 272.15 and pipe.mediums[2].T <= 403.15", StringAdd(
  StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(
  "\nTemperature T (= ",Real2String2(DYNX(X_,4), true, 0))," K) is not\nin the allowed range ("),
  "272.15")," K <= T <= "),"403.15")," K)\nrequired from medium model \""),
  "SimpleLiquidWater"),"\".\n"));
PopAllMarks();

BreakSectionFunctionEnd()
BreakSectionFunctionStart(9);
MixedSystemOfEquations(80, DYNX(DYNhelp,860))
  { /* Non-linear dummy derivative system of equations to solve. */
  /* Tag: simulation.nonlinear[1] */
  /* Introducing 196 common subexpressions and reusing 4 variables totally
     used in 147 expressions */
  /* Of the common subexpressions 196 are reals, 0 are integers, and 4
     are booleans. */
  const char*const varnames_[]={"tank.ports[2].p", "tank.ports[1].p", 
    "valve.port_b.p", "radiator.mediums[1].p", "tank.U", "tank.m", 
    "tank.medium.T", "tank.level", "pump.medium.T", "valve.filter.x[2]", 
    "pipe.mediums[2].p", "pipe.mediums[1].p", "heater.mediums[1].p"};
  const double nominal_[]={100000.0, 100000.0, 100000.0, 100000.0, 1, 1, 300.0, 
    1, 300.0, 1, 100000.0, 100000.0, 100000.0};
  NonLinearSystemOfEquations(Jacobian__, residue__, x__, 13, 0, 0, 3, 7, 
    DYNX(DYNhelp,940), 449, DYNX(did_->helpvari_vec,113), 35);
  SetInitVector(x__, 1, DYNX(W_,53), Remember_(DYNX(W_,53), 0));
  SetInitVector(x__, 2, DYNX(W_,49), Remember_(DYNX(W_,49), 1));
  SetInitVector(x__, 3, DYNX(W_,164), Remember_(DYNX(W_,164), 2));
  SetInitVector(x__, 4, DYNX(W_,581), Remember_(DYNX(W_,581), 3));
  SetInitVector(x__, 5, DYNX(W_,37), Remember_(DYNX(W_,37), 4));
  SetInitVector(x__, 6, DYNX(W_,39), Remember_(DYNX(W_,39), 5));
  SetInitVector(x__, 7, DYNX(W_,26), Remember_(DYNX(W_,26), 6));
  SetInitVector(x__, 8, DYNX(W_,11), Remember_(DYNX(W_,11), 7));
  SetInitVector(x__, 9, DYNX(W_,114), Remember_(DYNX(W_,114), 8));
  SetInitVector(x__, 10, DYNX(W_,194), Remember_(DYNX(W_,194), 9));
  SetInitVector(x__, 11, DYNX(W_,605), Remember_(DYNX(W_,605), 10));
  SetInitVector(x__, 12, DYNX(W_,593), Remember_(DYNX(W_,593), 11));
  SetInitVector(x__, 13, DYNX(W_,569), Remember_(DYNX(W_,569), 12));
  Residues;
    DYNX(DYNhelp,1389) = DYNX(W_,484)+DYNX(W_,485);
    DYNX(W_,518) = 0.5*DYNX(W_,506)*DYNX(DYNhelp,1389)*(DYNX(W_,605)-
      DYNX(W_,593));
    DYNX(DYNhelp,1390) = divmacro(1.0,"1.0",DYNX(W_,506),"pipe.flowModel.nParallel");
    DYNX(DYNhelp,1391) = divmacro(1.0,"1.0",DYNX(DYNhelp,1389),"pipe.crossAreas[1]+pipe.crossAreas[2]");
    DYNX(W_,528) = DYNX(DYNhelp,1391)*DYNX(DYNhelp,1390)*(-2)*DYNX(W_,518);
    DYNX(W_,388) = DYNX(W_,373)*DYNX(W_,355)*(DYNX(W_,49)-DYNX(W_,581));
    DYNX(DYNhelp,1392) = divmacro(1.0,"1.0",DYNX(W_,373),"radiator.flowModel.nParallel");
    DYNX(DYNhelp,1393) = 2.0*DYNX(W_,355);
    DYNX(DYNhelp,1394) = divmacro(1.0,"1.0",DYNX(DYNhelp,1393),"2.0*radiator.crossAreas[1]");
    DYNX(W_,404) = DYNX(DYNhelp,1394)*DYNX(DYNhelp,1392)*(-2)*DYNX(W_,388);
    DYNX(W_,387) = DYNX(W_,373)*DYNX(W_,355)*(DYNX(W_,581)-DYNX(W_,164));
    DYNX(W_,403) = DYNX(DYNhelp,1394)*DYNX(DYNhelp,1392)*(-2)*DYNX(W_,387);
    DYNX(W_,140) = DYNX(DP_,31)-DYNX(W_,53);
    DYNX(DYNhelp,1395) = DYNX(DP_,43)*DYNX(DP_,50);
    DYNX(W_,205) = DYNX(DYNhelp,1395)*DYNX(W_,194);
    DYNX(W_,173) = DYNX(W_,605)-DYNX(W_,164);
    DYNX(DYNhelp,1396) = DYNX(W_,205)*DYNX(W_,181);
    DYNX(DYNhelp,1397) = DYNX(DYNhelp,1396)*DYNX(W_,173);
    DYNX(DYNhelp,1398) = DYNX(W_,173)*DYNX(W_,173)+DYNX(W_,184)*DYNX(W_,184);
    DYNX(DYNhelp,1399) = powmacro(DYNX(DYNhelp,1398),"valve.dp*valve.dp+valve.dp_small*valve.dp_small",
      0.25,"0.25");
    DYNX(DYNhelp,1400) = divmacro(1.0,"1.0",DYNX(DYNhelp,1399),"(valve.dp*valve.dp+valve.dp_small*valve.dp_small)^0.25");
    DYNX(DYNhelp,1401) = DYNX(W_,205)*DYNX(DP_,38);
    DYNX(DYNhelp,1402) = divmacro(1.0,"1.0",DYNX(DP_,37),"valve.dp_nominal");
    DYNX(W_,47) = homotopy(DYNX(DYNhelp,1400)*31.55290794839677*DYNX(DYNhelp,1397),
       DYNX(DYNhelp,1402)*DYNX(DYNhelp,1401)*DYNX(W_,173));
    AssertModelica(DYNX(W_,47) >= -0.5,"tank.ports[1].m_flow >= -0.5", 
      StringAdd("Value for variable, with non-reversible flow according to min/max bound, is: ",
      Real2String(DYNX(W_,47), 1, 10)));
    AssertModelica(DYNX(W_,47) <= 100000.5,"tank.ports[1].m_flow <= 100000.5", 
      StringAdd("Value for variable, with non-reversible flow according to min/max bound, is: ",
      Real2String(DYNX(W_,47), 1, 10)));
    PopAllMarks();
    AssertModelica(DYNX(W_,47) >= -0.5,"tank.ports[1].m_flow >= -0.5", 
      StringAdd("Value for variable, with non-reversible flow according to min/max bound, is: ",
      Real2String(DYNX(W_,47), 1, 10)));
    AssertModelica(DYNX(W_,47) <= 100000.5,"tank.ports[1].m_flow <= 100000.5", 
      StringAdd("Value for variable, with non-reversible flow according to min/max bound, is: ",
      Real2String(DYNX(W_,47), 1, 10)));
    DYNX(DYNhelp,1403) = divmacro(1.0,"1.0",DYNX(DP_,26),"pump.rho_nominal");
    PopAllMarks();
    DYNX(W_,143) = homotopy(0.0010044335697769957*DYNX(W_,47), DYNX(DYNhelp,1403)
      *DYNX(W_,47));
    DYNX(DYNhelp,1404) = divmacro(1.0,"1.0",DYNX(DP_,24),"pump.nParallel");
    DYNX(W_,145) = DYNX(DYNhelp,1404)*DYNX(W_,143);
    DYNX(W_,148) = homotopy(1.25*DYNX(W_,140)*DYNX(W_,145), 1.25*DYNX(W_,140)*
      DYNX(W_,99));
    DYNX(W_,127) =  -DYNX(W_,148)*DYNX(DP_,24);
    DYNX(W_,13) = DYNX(DP_,7)*DYNX(W_,11);
    DYNX(W_,29) = 4184*(DYNX(W_,26)-273.15);
    DYNX(W_,51) = DYNX(W_,29);
    DYNX(DYNhelp,1405) = DYNX(W_,11)-DYNX(DP_,16);
    DYNX(DYNhelp,1406) = RealBmax(0, DYNX(DYNhelp,1405));
    DYNX(W_,84) = 995.586*DYNX(DYNhelp,1406)*DYNX(DP_,2)+DYNX(W_,15);
    DYNX(DYNhelp,1407) = 0.1*DYNX(DP_,15);
    DYNX(DYNhelp,1408) = DYNX(DYNhelp,1405)-DYNX(DYNhelp,1407);
    DYNX(DYNhelp,1409) = DYNX(DYNhelp,1408) > DYNX(DYNhelp,1407);
    DYNX(W_,78) = IF DYNX(DYNhelp,1409) THEN 1 ELSE IF DYNX(DYNhelp,1408) < (
      -0.1)*DYNX(DP_,15) THEN 0.001 ELSE IF DYNX(DYNhelp,1407) > 0 THEN 0.5005+
      divmacro((-0.24975)*(DYNX(DYNhelp,1405)-DYNX(DYNhelp,1407))*(sqr(divmacro(
      DYNX(DYNhelp,1405)-DYNX(DYNhelp,1407),"tank.level-tank.portsData[2].height-0.1*tank.portsData[2].diameter",
      DYNX(DYNhelp,1407),"0.1*tank.portsData[2].diameter"))-3),"(-0.24975)*((tank.level-tank.portsData[2].height-0.1*tank.portsData[2].diameter)*(((tank.level-tank.portsData[2].height-0.1*tank.portsData[2].diameter)/(0.1*tank.portsData[2].diameter))^2-3))",
      DYNX(DYNhelp,1407),"0.1*tank.portsData[2].diameter") ELSE 0.5005;
    DYNX(DYNhelp,1410) = DYNX(W_,11)-DYNX(DP_,12);
    DYNX(DYNhelp,1411) = RealBmax(0, DYNX(DYNhelp,1410));
    DYNX(W_,83) = 995.586*DYNX(DYNhelp,1411)*DYNX(DP_,2)+DYNX(W_,15);
    DYNX(DYNhelp,1412) = 0.1*DYNX(DP_,11);
    DYNX(DYNhelp,1413) = DYNX(DYNhelp,1410)-DYNX(DYNhelp,1412);
    DYNX(DYNhelp,1414) = DYNX(DYNhelp,1413) > DYNX(DYNhelp,1412);
    DYNX(W_,77) = IF DYNX(DYNhelp,1414) THEN 1 ELSE IF DYNX(DYNhelp,1413) < (
      -0.1)*DYNX(DP_,11) THEN 0.001 ELSE IF DYNX(DYNhelp,1412) > 0 THEN 0.5005+
      divmacro((-0.24975)*(DYNX(DYNhelp,1410)-DYNX(DYNhelp,1412))*(sqr(divmacro(
      DYNX(DYNhelp,1410)-DYNX(DYNhelp,1412),"tank.level-tank.portsData[1].height-0.1*tank.portsData[1].diameter",
      DYNX(DYNhelp,1412),"0.1*tank.portsData[1].diameter"))-3),"(-0.24975)*((tank.level-tank.portsData[1].height-0.1*tank.portsData[1].diameter)*(((tank.level-tank.portsData[1].height-0.1*tank.portsData[1].diameter)/(0.1*tank.portsData[1].diameter))^2-3))",
      DYNX(DYNhelp,1412),"0.1*tank.portsData[1].diameter") ELSE 0.5005;
    DYNX(W_,96) = 4184*(DYNX(W_,114)-273.15);
    DYNX(W_,278) = DYNX(W_,263)*DYNX(W_,245)*(DYNX(W_,593)-DYNX(W_,569));
    DYNX(DYNhelp,1415) = divmacro(1.0,"1.0",DYNX(W_,263),"heater.flowModel.nParallel");
    DYNX(DYNhelp,1416) = 2.0*DYNX(W_,245);
    DYNX(DYNhelp,1417) = divmacro(1.0,"1.0",DYNX(DYNhelp,1416),"2.0*heater.crossAreas[1]");
    DYNX(W_,294) = DYNX(DYNhelp,1417)*DYNX(DYNhelp,1415)*(-2)*DYNX(W_,278);
    DYNX(W_,277) = DYNX(W_,263)*DYNX(W_,245)*(DYNX(W_,569)-DYNX(DP_,31));
    DYNX(W_,293) = DYNX(DYNhelp,1417)*DYNX(DYNhelp,1415)*(-2)*DYNX(W_,277);
  DYNX(DYNhelp,1418) = IF DYNX(W_,91) THEN DYNX(W_,53)-homotopy(DYNX(W_,84)+
    divmacro(0.5*(IF  -DYNX(W_,47) >= DYNX(W_,57) THEN 0.0010044335697769957*(
    DYNX(DP_,18)+divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")-1)*DYNX(W_,78)*sqr(DYNX(W_,47)) ELSE IF  -DYNX(W_,47)
     <=  -DYNX(W_,57) THEN  -divmacro(0.0010044335697769957*(1.0+DYNX(DP_,17)-
    divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2"))*sqr(DYNX(W_,47)),"0.0010044335697769957*((1.0+tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)*tank.ports[1].m_flow^2)",
    DYNX(W_,78),"tank.ports_penetration[2]") ELSE IF 0.0010044335697769957*(
    DYNX(DP_,18)+divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")-1)*DYNX(W_,78) >= divmacro(0.0010044335697769957+
    0.0010044335697769957*(DYNX(DP_,17)-divmacro(sqr(DYNX(W_,82)),
    "tank.portAreas[2]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")),
    "0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)",
    DYNX(W_,78),"tank.ports_penetration[2]") THEN (PushModelContext(1,
    "Modelica.Fluid.Utilities.regSquare2.regSquare2_utility( -tank.ports[1].m_flow, tank.m_flow_small, 0.0010044335697769957*((tank.portsData[2].zeta_in+tank.portAreas[2]^2/tank.vesselArea^2-1)*tank.ports_penetration[2]), (0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2))/tank.ports_penetration[2], false, 1)")
    Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility( -DYNX(W_,47), 
    DYNX(W_,57), 0.0010044335697769957*(DYNX(DP_,18)+divmacro(sqr(DYNX(W_,82)),
    "tank.portAreas[2]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")-1)*DYNX(W_,78), 
    divmacro(0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,17)-divmacro(
    sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")),
    "0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)",
    DYNX(W_,78),"tank.ports_penetration[2]"), false, 1)) ELSE  -(PushModelContext(1,
    "Modelica.Fluid.Utilities.regSquare2.regSquare2_utility(tank.ports[1].m_flow, tank.m_flow_small, (0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2))/tank.ports_penetration[2], 0.0010044335697769957*((tank.portsData[2].zeta_in+tank.portAreas[2]^2/tank.vesselArea^2-1)*tank.ports_penetration[2]), false, 1)")
    Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility(DYNX(W_,47), 
    DYNX(W_,57), divmacro(0.0010044335697769957+0.0010044335697769957*(
    DYNX(DP_,17)-divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)",
    DYNX(W_,78),"tank.ports_penetration[2]"), 0.0010044335697769957*(
    DYNX(DP_,18)+divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")-1)*DYNX(W_,78), false, 1))),"0.5*smooth(2, smooth(2, (if noEvent( -tank.ports[1].m_flow >= tank.m_flow_small) then 0.0010044335697769957*((tank.portsData[2].zeta_in+tank.portAreas[2]^2/tank.vesselArea^2-1)*tank.ports_penetration[2]*tank.ports[1].m_flow^2) else (if noEvent( -tank.ports[1].m_flow <=  -tank.m_flow_small) then  -0.0010044335697769957*((1.0+tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)*tank....",
    sqr(DYNX(W_,82)),"tank.portAreas[2]^2"), DYNX(W_,84)) ELSE IF DYNX(W_,93)
     THEN DYNX(W_,53)-DYNX(W_,84) ELSE  -DYNX(W_,47);
  PopModelContext();
  DYNX(DYNhelp,1419) = IF DYNX(W_,90) THEN DYNX(W_,49)-homotopy(DYNX(W_,83)+
    divmacro(0.5*(IF DYNX(W_,47) >= DYNX(W_,57) THEN 0.0010044335697769957*(
    DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")-1)*DYNX(W_,77)*sqr(DYNX(W_,47)) ELSE IF DYNX(W_,47) <= 
     -DYNX(W_,57) THEN  -divmacro(0.0010044335697769957*(1.0+DYNX(DP_,13)-
    divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2"))*sqr(DYNX(W_,47)),"0.0010044335697769957*((1.0+tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)*tank.ports[1].m_flow^2)",
    DYNX(W_,77),"tank.ports_penetration[1]") ELSE IF 0.0010044335697769957*(
    DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")-1)*DYNX(W_,77) >= divmacro(0.0010044335697769957+
    0.0010044335697769957*(DYNX(DP_,13)-divmacro(sqr(DYNX(W_,81)),
    "tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")),
    "0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)",
    DYNX(W_,77),"tank.ports_penetration[1]") THEN (PushModelContext(1,
    "Modelica.Fluid.Utilities.regSquare2.regSquare2_utility(tank.ports[1].m_flow, tank.m_flow_small, 0.0010044335697769957*((tank.portsData[1].zeta_in+tank.portAreas[1]^2/tank.vesselArea^2-1)*tank.ports_penetration[1]), (0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2))/tank.ports_penetration[1], false, 1)")
    Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility(DYNX(W_,47), 
    DYNX(W_,57), 0.0010044335697769957*(DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),
    "tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")-1)*DYNX(W_,77), 
    divmacro(0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,13)-divmacro(
    sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")),
    "0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)",
    DYNX(W_,77),"tank.ports_penetration[1]"), false, 1)) ELSE  -(PushModelContext(1,
    "Modelica.Fluid.Utilities.regSquare2.regSquare2_utility( -tank.ports[1].m_flow, tank.m_flow_small, (0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2))/tank.ports_penetration[1], 0.0010044335697769957*((tank.portsData[1].zeta_in+tank.portAreas[1]^2/tank.vesselArea^2-1)*tank.ports_penetration[1]), false, 1)")
    Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility( -DYNX(W_,47), 
    DYNX(W_,57), divmacro(0.0010044335697769957+0.0010044335697769957*(
    DYNX(DP_,13)-divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)",
    DYNX(W_,77),"tank.ports_penetration[1]"), 0.0010044335697769957*(
    DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")-1)*DYNX(W_,77), false, 1))),"0.5*smooth(2, smooth(2, (if noEvent(tank.ports[1].m_flow >= tank.m_flow_small) then 0.0010044335697769957*((tank.portsData[1].zeta_in+tank.portAreas[1]^2/tank.vesselArea^2-1)*tank.ports_penetration[1]*tank.ports[1].m_flow^2) else (if noEvent(tank.ports[1].m_flow <=  -tank.m_flow_small) then  -0.0010044335697769957*((1.0+tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)*tank.port...",
    sqr(DYNX(W_,81)),"tank.portAreas[1]^2"), DYNX(W_,83)) ELSE IF DYNX(W_,92)
     THEN DYNX(W_,49)-DYNX(W_,83) ELSE DYNX(W_,47);
  PopModelContext();
  DYNX(DYNhelp,1420) = 0.5*DYNX(W_,306);
  DYNX(DYNhelp,1421) = (PushModelContext(1,"massFlowRate_dp_staticHead_Unique15(heater.flowModel.dps_fg[1], 995.586, 995.586, 0.001, 0.001, heater.pathLengths[1], heater.dimensions[1], 0.0, heater.crossAreas[1], heater.roughnesses[1], 0.5*heater.flowModel.dp_small, 4000.0)")
    massFlowRatex_0dpx_0staticHeadx_0Unique15(DYNX(W_,293), 995.586, 995.586, 
    0.001, 0.001, DYNX(W_,313), DYNX(W_,246), 0.0, DYNX(W_,245), DYNX(W_,247), 
    DYNX(DYNhelp,1420), 4000.0));
  PopModelContext();
  DYNX(DYNhelp,1422) = divmacro(1.0,"1.0",DYNX(W_,303),"heater.flowModel.dp_nominal");
  DYNX(DYNhelp,1423) = homotopy(DYNX(W_,263)*DYNX(DYNhelp,1421), 
    DYNX(DYNhelp,1422)*DYNX(W_,304)*DYNX(W_,293));
  DYNX(DYNhelp,1424) = (PushModelContext(1,"massFlowRate_dp_staticHead_Unique15(heater.flowModel.dps_fg[2], 995.586, 995.586, 0.001, 0.001, heater.pathLengths[2], heater.dimensions[1], 0.0, heater.crossAreas[1], heater.roughnesses[1], 0.5*heater.flowModel.dp_small, 4000.0)")
    massFlowRatex_0dpx_0staticHeadx_0Unique15(DYNX(W_,294), 995.586, 995.586, 
    0.001, 0.001, DYNX(W_,314), DYNX(W_,246), 0.0, DYNX(W_,245), DYNX(W_,247), 
    DYNX(DYNhelp,1420), 4000.0));
  PopModelContext();
  DYNX(DYNhelp,1425) = homotopy(DYNX(W_,263)*DYNX(DYNhelp,1424), 
    DYNX(DYNhelp,1422)*DYNX(W_,304)*DYNX(W_,294));
  DYNX(DYNhelp,1426) = 0.5*DYNX(W_,416);
  DYNX(DYNhelp,1427) = (PushModelContext(1,"massFlowRate_dp_staticHead_Unique15(radiator.flowModel.dps_fg[1], 995.586, 995.586, 0.001, 0.001, radiator.pathLengths[1], radiator.dimensions[1], 0.0, radiator.crossAreas[1], radiator.roughnesses[1], 0.5*radiator.flowModel.dp_small, 4000)")
    massFlowRatex_0dpx_0staticHeadx_0Unique15(DYNX(W_,403), 995.586, 995.586, 
    0.001, 0.001, DYNX(W_,423), DYNX(W_,356), 0.0, DYNX(W_,355), DYNX(W_,357), 
    DYNX(DYNhelp,1426), 4000));
  PopModelContext();
  DYNX(DYNhelp,1428) = divmacro(1.0,"1.0",DYNX(W_,413),"radiator.flowModel.dp_nominal");
  DYNX(DYNhelp,1429) = homotopy(DYNX(W_,373)*DYNX(DYNhelp,1427), 
    DYNX(DYNhelp,1428)*DYNX(W_,414)*DYNX(W_,403));
  DYNX(DYNhelp,1430) = (PushModelContext(1,"massFlowRate_dp_staticHead_Unique15(radiator.flowModel.dps_fg[2], 995.586, 995.586, 0.001, 0.001, radiator.pathLengths[2], radiator.dimensions[1], 0.0, radiator.crossAreas[1], radiator.roughnesses[1], 0.5*radiator.flowModel.dp_small, 4000.0)")
    massFlowRatex_0dpx_0staticHeadx_0Unique15(DYNX(W_,404), 995.586, 995.586, 
    0.001, 0.001, DYNX(W_,424), DYNX(W_,356), 0.0, DYNX(W_,355), DYNX(W_,357), 
    DYNX(DYNhelp,1426), 4000.0));
  PopModelContext();
  DYNX(DYNhelp,1431) = homotopy(DYNX(W_,373)*DYNX(DYNhelp,1430), 
    DYNX(DYNhelp,1428)*DYNX(W_,414)*DYNX(W_,404));
  DYNX(DYNhelp,1432) = 0.5*DYNX(DYNhelp,1389);
  DYNX(DYNhelp,1433) = 0.5*(DYNX(W_,488)+DYNX(W_,489));
  DYNX(DYNhelp,1434) = (PushModelContext(1,"massFlowRate_dp_staticHead_Unique15(pipe.flowModel.dps_fg[1], 995.586, 995.586, 0.001, 0.001, 10.0, pipe.flowModel.diameters[1], 0.0, 0.5*(pipe.crossAreas[1]+pipe.crossAreas[2]), 0.5*(pipe.roughnesses[1]+pipe.roughnesses[2]), pipe.flowModel.dp_small, 4000)")
    massFlowRatex_0dpx_0staticHeadx_0Unique15(DYNX(W_,528), 995.586, 995.586, 
    0.001, 0.001, 10.0, DYNX(W_,542), 0.0, DYNX(DYNhelp,1432), DYNX(DYNhelp,1433),
     DYNX(W_,539), 4000));
  PopModelContext();
  DYNX(DYNhelp,1435) = divmacro(1.0,"1.0",DYNX(W_,536),"pipe.flowModel.dp_nominal");
  DYNX(DYNhelp,1436) = homotopy(DYNX(W_,506)*DYNX(DYNhelp,1434), 
    DYNX(DYNhelp,1435)*DYNX(W_,537)*DYNX(W_,528));
  DYNX(DYNhelp,1437) = DYNX(W_,617)*DYNX(W_,53)+DYNX(W_,618)*DYNX(W_,49)+
    DYNX(W_,619)*DYNX(W_,164);
  DYNX(DYNhelp,1438) = DYNX(W_,620)*DYNX(W_,581);
  DYNX(DYNhelp,1439) = DYNX(DYNhelp,1437)+DYNX(DYNhelp,1438)+DYNX(W_,621)*
    DYNX(W_,37)+DYNX(W_,622)*DYNX(W_,39)+DYNX(W_,623)*DYNX(W_,26)+DYNX(W_,624)*
    DYNX(W_,11)+DYNX(W_,625)*DYNX(W_,114);
  DYNX(DYNhelp,1440) = DYNX(W_,626)*DYNX(W_,194);
  DYNX(DYNhelp,1441) = DYNX(W_,630)*DYNX(W_,53)+DYNX(W_,631)*DYNX(W_,49)+
    DYNX(W_,632)*DYNX(W_,164);
  DYNX(DYNhelp,1442) = DYNX(W_,633)*DYNX(W_,581);
  DYNX(DYNhelp,1443) = DYNX(DYNhelp,1441)+DYNX(DYNhelp,1442)+DYNX(W_,634)*
    DYNX(W_,37)+DYNX(W_,635)*DYNX(W_,39)+DYNX(W_,636)*DYNX(W_,26)+DYNX(W_,637)*
    DYNX(W_,11)+DYNX(W_,638)*DYNX(W_,114);
  DYNX(DYNhelp,1444) = DYNX(W_,639)*DYNX(W_,194);
  DYNX(DYNhelp,1445) = DYNX(W_,643)*DYNX(W_,53)+DYNX(W_,644)*DYNX(W_,49)+
    DYNX(W_,645)*DYNX(W_,164);
  DYNX(DYNhelp,1446) = DYNX(W_,646)*DYNX(W_,581);
  DYNX(DYNhelp,1447) = DYNX(DYNhelp,1445)+DYNX(DYNhelp,1446)+DYNX(W_,647)*
    DYNX(W_,37)+DYNX(W_,648)*DYNX(W_,39)+DYNX(W_,649)*DYNX(W_,26)+DYNX(W_,650)*
    DYNX(W_,11)+DYNX(W_,651)*DYNX(W_,114);
  DYNX(DYNhelp,1448) = DYNX(W_,652)*DYNX(W_,194);
  SetVector(residue__, 1, DYNX(W_,37)-DYNX(W_,39)*DYNX(W_,29));
  SetVector(residue__, 2, DYNX(W_,39)-995.586*DYNX(W_,13));
  SetVector(residue__, 3, DYNX(DYNhelp,1418));
  SetVector(residue__, 4, DYNX(DYNhelp,1419));
  SetVector(residue__, 5, DYNX(W_,127)-DYNX(W_,47)*DYNX(W_,51)+DYNX(W_,47)*
    DYNX(W_,96));
  SetVector(residue__, 6, DYNX(W_,47)-DYNX(DYNhelp,1423));
  SetVector(residue__, 7, DYNX(W_,47)-DYNX(DYNhelp,1425));
  SetVector(residue__, 8, DYNX(W_,47)-DYNX(DYNhelp,1429));
  SetVector(residue__, 9, DYNX(W_,47)-DYNX(DYNhelp,1431));
  SetVector(residue__, 10, DYNX(W_,47)-DYNX(DYNhelp,1436));
  SetVector(residue__, 11, DYNX(DYNhelp,1439)+DYNX(DYNhelp,1440)+DYNX(W_,627)*
    DYNX(W_,605)+DYNX(W_,628)*DYNX(W_,593)+DYNX(W_,629)*DYNX(W_,569)-DYNX(X_,5));
  SetVector(residue__, 12, DYNX(DYNhelp,1443)+DYNX(DYNhelp,1444)+DYNX(W_,640)*
    DYNX(W_,605)+DYNX(W_,641)*DYNX(W_,593)+DYNX(W_,642)*DYNX(W_,569)-DYNX(X_,6));
  SetVector(residue__, 13, DYNX(DYNhelp,1447)+DYNX(DYNhelp,1448)+DYNX(W_,653)*
    DYNX(W_,605)+DYNX(W_,654)*DYNX(W_,593)+DYNX(W_,655)*DYNX(W_,569)-DYNX(X_,7));

  Jacobian(Jacobian__)
  MatrixZeros(Jacobian__);
  DYNX(DYNhelp,1449) = DYNX(DYNhelp,1397)*powmacro(DYNX(DYNhelp,1398),
    "valve.dp*valve.dp+valve.dp_small*valve.dp_small",-0.75,"-0.75")*
    DYNX(W_,173);
  DYNX(DYNhelp,1450) = sqr(DYNX(DYNhelp,1399));
  DYNX(DYNhelp,1451) = divmacro(1.0,"1.0",DYNX(DYNhelp,1450),"((valve.dp*valve.dp+valve.dp_small*valve.dp_small)^0.25)^2");
  DYNX(DYNhelp,1452) = homotopy(DYNX(DYNhelp,1400)*31.55290794839677*
    DYNX(DYNhelp,1396)-DYNX(DYNhelp,1451)*15.776453974198384*DYNX(DYNhelp,1449),
     DYNX(DYNhelp,1402)*DYNX(DYNhelp,1401));
  DYNX(DYNhelp,1453) = IF DYNX(W_,91) THEN  -homotopy(divmacro(0.5*(IF  -
    DYNX(W_,47) >= DYNX(W_,57) THEN 0.0020088671395539913*(DYNX(DP_,18)+divmacro
    (sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")
    -1)*DYNX(W_,78)*DYNX(W_,47) ELSE IF  -DYNX(W_,47) <=  -DYNX(W_,57) THEN  -
    divmacro(0.0020088671395539913*(1.0+DYNX(DP_,17)-divmacro(sqr(DYNX(W_,82)),
    "tank.portAreas[2]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2"))*DYNX(W_,47),
    "0.0020088671395539913*((1.0+tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)*tank.ports[1].m_flow)",
    DYNX(W_,78),"tank.ports_penetration[2]") ELSE IF 0.0010044335697769957*(
    DYNX(DP_,18)+divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")-1)*DYNX(W_,78) >= divmacro(0.0010044335697769957+
    0.0010044335697769957*(DYNX(DP_,17)-divmacro(sqr(DYNX(W_,82)),
    "tank.portAreas[2]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")),
    "0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)",
    DYNX(W_,78),"tank.ports_penetration[2]") THEN (PushModelContext(1,
    "Modelica.Fluid.Utilities.regSquare2.regSquare2_utility:der( -tank.ports[1].m_flow, tank.m_flow_small, 0.0010044335697769957*((tank.portsData[2].zeta_in+tank.portAreas[2]^2/tank.vesselArea^2-1)*tank.ports_penetration[2]), (0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2))/tank.ports_penetration[2], false, 1, -1.0, 0.0, 0.0, 0.0, 0)")
    Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility__der( -DYNX(W_,47),
     DYNX(W_,57), 0.0010044335697769957*(DYNX(DP_,18)+divmacro(sqr(DYNX(W_,82)),
    "tank.portAreas[2]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")-1)*DYNX(W_,78), 
    divmacro(0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,17)-divmacro(
    sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")),
    "0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)",
    DYNX(W_,78),"tank.ports_penetration[2]"), false, 1, -1.0, 0.0, 0.0, 0.0, 0))
     ELSE  -(PushModelContext(1,"Modelica.Fluid.Utilities.regSquare2.regSquare2_utility:der(tank.ports[1].m_flow, tank.m_flow_small, (0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2))/tank.ports_penetration[2], 0.0010044335697769957*((tank.portsData[2].zeta_in+tank.portAreas[2]^2/tank.vesselArea^2-1)*tank.ports_penetration[2]), false, 1, 1.0, 0.0, 0.0, 0.0, 0)")
    Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility__der(DYNX(W_,47), 
    DYNX(W_,57), divmacro(0.0010044335697769957+0.0010044335697769957*(
    DYNX(DP_,17)-divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)",
    DYNX(W_,78),"tank.ports_penetration[2]"), 0.0010044335697769957*(
    DYNX(DP_,18)+divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")-1)*DYNX(W_,78), false, 1, 1.0, 0.0, 0.0, 0.0, 0))),
    "0.5*smooth(1, smooth(1, (if noEvent( -tank.ports[1].m_flow >= tank.m_flow_small) then 0.0020088671395539913*((tank.portsData[2].zeta_in+tank.portAreas[2]^2/tank.vesselArea^2-1)*tank.ports_penetration[2]*tank.ports[1].m_flow) else (if noEvent( -tank.ports[1].m_flow <=  -tank.m_flow_small) then  -0.0020088671395539913*((1.0+tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)*tank.po...",
    sqr(DYNX(W_,82)),"tank.portAreas[2]^2"), 0.0) ELSE IF DYNX(W_,93) THEN 0.0
     ELSE -1.0;
  PopModelContext();
  DYNX(DYNhelp,1454) = DYNX(DYNhelp,1452)*DYNX(DYNhelp,1453);
  DYNX(DYNhelp,1455) = homotopy(DYNX(DYNhelp,1400)*31.55290794839677*
    DYNX(W_,173)*DYNX(W_,181), DYNX(DYNhelp,1402)*DYNX(W_,173)*DYNX(DP_,38));
  DYNX(DYNhelp,1456) = IF DYNX(W_,90) THEN  -homotopy(divmacro(0.5*(IF 
    DYNX(W_,47) >= DYNX(W_,57) THEN 0.0020088671395539913*(DYNX(DP_,14)+divmacro
    (sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")
    -1)*DYNX(W_,77)*DYNX(W_,47) ELSE IF DYNX(W_,47) <=  -DYNX(W_,57) THEN  -
    divmacro(0.0020088671395539913*(1.0+DYNX(DP_,13)-divmacro(sqr(DYNX(W_,81)),
    "tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2"))*DYNX(W_,47),
    "0.0020088671395539913*((1.0+tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)*tank.ports[1].m_flow)",
    DYNX(W_,77),"tank.ports_penetration[1]") ELSE IF 0.0010044335697769957*(
    DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")-1)*DYNX(W_,77) >= divmacro(0.0010044335697769957+
    0.0010044335697769957*(DYNX(DP_,13)-divmacro(sqr(DYNX(W_,81)),
    "tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")),
    "0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)",
    DYNX(W_,77),"tank.ports_penetration[1]") THEN (PushModelContext(1,
    "Modelica.Fluid.Utilities.regSquare2.regSquare2_utility:der(tank.ports[1].m_flow, tank.m_flow_small, 0.0010044335697769957*((tank.portsData[1].zeta_in+tank.portAreas[1]^2/tank.vesselArea^2-1)*tank.ports_penetration[1]), (0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2))/tank.ports_penetration[1], false, 1, 1.0, 0.0, 0.0, 0.0, 0)")
    Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility__der(DYNX(W_,47), 
    DYNX(W_,57), 0.0010044335697769957*(DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),
    "tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")-1)*DYNX(W_,77), 
    divmacro(0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,13)-divmacro(
    sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")),
    "0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)",
    DYNX(W_,77),"tank.ports_penetration[1]"), false, 1, 1.0, 0.0, 0.0, 0.0, 0))
     ELSE  -(PushModelContext(1,"Modelica.Fluid.Utilities.regSquare2.regSquare2_utility:der( -tank.ports[1].m_flow, tank.m_flow_small, (0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2))/tank.ports_penetration[1], 0.0010044335697769957*((tank.portsData[1].zeta_in+tank.portAreas[1]^2/tank.vesselArea^2-1)*tank.ports_penetration[1]), false, 1, -1.0, 0.0, 0.0, 0.0, 0)")
    Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility__der( -DYNX(W_,47),
     DYNX(W_,57), divmacro(0.0010044335697769957+0.0010044335697769957*(
    DYNX(DP_,13)-divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)",
    DYNX(W_,77),"tank.ports_penetration[1]"), 0.0010044335697769957*(
    DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")-1)*DYNX(W_,77), false, 1, -1.0, 0.0, 0.0, 0.0, 0))),
    "0.5*smooth(1, smooth(1, (if noEvent(tank.ports[1].m_flow >= tank.m_flow_small) then 0.0020088671395539913*((tank.portsData[1].zeta_in+tank.portAreas[1]^2/tank.vesselArea^2-1)*tank.ports_penetration[1]*tank.ports[1].m_flow) else (if noEvent(tank.ports[1].m_flow <=  -tank.m_flow_small) then  -0.0020088671395539913*((1.0+tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)*tank.ports[...",
    sqr(DYNX(W_,81)),"tank.portAreas[1]^2"), 0.0) ELSE IF DYNX(W_,92) THEN 0.0
     ELSE 1.0;
  PopModelContext();
  DYNX(DYNhelp,1457) = DYNX(DYNhelp,1452)*DYNX(DYNhelp,1456);
  DYNX(DYNhelp,1458) = homotopy(1.25*DYNX(W_,140), 0.0)*DYNX(DP_,24);
  DYNX(DYNhelp,1459) = DYNX(W_,96)-DYNX(W_,51)-DYNX(DYNhelp,1404)*homotopy(
    0.0010044335697769957, DYNX(DYNhelp,1403))*DYNX(DYNhelp,1458);
  DYNX(DYNhelp,1460) = DYNX(DYNhelp,1452)*DYNX(DYNhelp,1459);
  DYNX(DYNhelp,1461) = (-1.0)*DYNX(DYNhelp,1452);
  DYNX(DYNhelp,1462) = DYNX(DYNhelp,1455)*DYNX(DYNhelp,1395);
  DYNX(DYNhelp,1463) = DYNX(DYNhelp,1422)*DYNX(W_,304);
  DYNX(DYNhelp,1464) = DYNX(W_,263)*DYNX(W_,245);
  DYNX(DYNhelp,1465) = homotopy(DYNX(W_,263)*(PushModelContext(1,
    "massFlowRate_dp_staticHead_Unique15:der(heater.flowModel.dps_fg[2], 995.586, 995.586, 0.001, 0.001, heater.pathLengths[2], heater.dimensions[1], 0.0, heater.crossAreas[1], heater.roughnesses[1], 0.5*heater.flowModel.dp_small, 4000.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0)")
    massFlowRatex_0dpx_0staticHeadx_0Unique15__der(DYNX(W_,294), 995.586, 
    995.586, 0.001, 0.001, DYNX(W_,314), DYNX(W_,246), 0.0, DYNX(W_,245), 
    DYNX(W_,247), DYNX(DYNhelp,1420), 4000.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
     0.0, 0.0, 0.0, 0.0, 0.0)), DYNX(DYNhelp,1463))*DYNX(DYNhelp,1464);
  PopModelContext();
  DYNX(DYNhelp,1466) = DYNX(W_,373)*(PushModelContext(1,"massFlowRate_dp_staticHead_Unique15:der(radiator.flowModel.dps_fg[1], 995.586, 995.586, 0.001, 0.001, radiator.pathLengths[1], radiator.dimensions[1], 0.0, radiator.crossAreas[1], radiator.roughnesses[1], 0.5*radiator.flowModel.dp_small, 4000, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0)")
    massFlowRatex_0dpx_0staticHeadx_0Unique15__der(DYNX(W_,403), 995.586, 
    995.586, 0.001, 0.001, DYNX(W_,423), DYNX(W_,356), 0.0, DYNX(W_,355), 
    DYNX(W_,357), DYNX(DYNhelp,1426), 4000, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 
    0.0, 0.0, 0.0, 0.0, 0));
  PopModelContext();
  DYNX(DYNhelp,1467) = DYNX(DYNhelp,1428)*DYNX(W_,414);
  DYNX(DYNhelp,1468) = DYNX(W_,373)*DYNX(W_,355);
  DYNX(DYNhelp,1469) = homotopy(DYNX(DYNhelp,1466), DYNX(DYNhelp,1467))*
    DYNX(DYNhelp,1468);
  DYNX(DYNhelp,1470) = homotopy(DYNX(W_,373)*(PushModelContext(1,
    "massFlowRate_dp_staticHead_Unique15:der(radiator.flowModel.dps_fg[2], 995.586, 995.586, 0.001, 0.001, radiator.pathLengths[2], radiator.dimensions[1], 0.0, radiator.crossAreas[1], radiator.roughnesses[1], 0.5*radiator.flowModel.dp_small, 4000.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0)")
    massFlowRatex_0dpx_0staticHeadx_0Unique15__der(DYNX(W_,404), 995.586, 
    995.586, 0.001, 0.001, DYNX(W_,424), DYNX(W_,356), 0.0, DYNX(W_,355), 
    DYNX(W_,357), DYNX(DYNhelp,1426), 4000.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
     0.0, 0.0, 0.0, 0.0, 0.0)), DYNX(DYNhelp,1467))*DYNX(DYNhelp,1468);
  PopModelContext();
  DYNX(DYNhelp,1471) = DYNX(W_,506)*(PushModelContext(1,"massFlowRate_dp_staticHead_Unique15:der(pipe.flowModel.dps_fg[1], 995.586, 995.586, 0.001, 0.001, 10.0, pipe.flowModel.diameters[1], 0.0, 0.5*(pipe.crossAreas[1]+pipe.crossAreas[2]), 0.5*(pipe.roughnesses[1]+pipe.roughnesses[2]), pipe.flowModel.dp_small, 4000, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0)")
    massFlowRatex_0dpx_0staticHeadx_0Unique15__der(DYNX(W_,528), 995.586, 
    995.586, 0.001, 0.001, 10.0, DYNX(W_,542), 0.0, DYNX(DYNhelp,1432), 
    DYNX(DYNhelp,1433), DYNX(W_,539), 4000, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 
    0.0, 0.0, 0.0, 0.0, 0));
  PopModelContext();
  DYNX(DYNhelp,1472) = DYNX(DYNhelp,1435)*DYNX(W_,537);
  DYNX(DYNhelp,1473) = DYNX(W_,506)*DYNX(DYNhelp,1389);
  DYNX(DYNhelp,1474) = homotopy(DYNX(DYNhelp,1471), DYNX(DYNhelp,1472))*
    DYNX(DYNhelp,1473);
  SetMatrixLeading(Jacobian__, 1, 5, 13, 1.0);
  SetMatrixLeading(Jacobian__, 1, 6, 13,  -DYNX(W_,29));
  SetMatrixLeading(Jacobian__, 1, 7, 13, (-4184.0)*DYNX(W_,39));
  SetMatrixLeading(Jacobian__, 2, 6, 13, 1.0);
  SetMatrixLeading(Jacobian__, 2, 8, 13, (-995.586)*DYNX(DP_,7));
  SetMatrixLeading(Jacobian__, 3, 1, 13, IF DYNX(W_,91) THEN 1.0 ELSE IF 
    DYNX(W_,93) THEN 1.0 ELSE 0.0);
  SetMatrixLeading(Jacobian__, 3, 3, 13, (-1.0)*DYNX(DYNhelp,1454));
  SetMatrixLeading(Jacobian__, 3, 8, 13, 995.586*(IF DYNX(W_,91) THEN -1.0 ELSE 
    IF DYNX(W_,93) THEN -1.0 ELSE 0.0)*DYNX(DP_,2)*(IF 0 > DYNX(DYNhelp,1405)
     THEN 0.0 ELSE 1.0)+(IF DYNX(W_,91) THEN  -homotopy(divmacro(0.5*(IF  -
    DYNX(W_,47) >= DYNX(W_,57) THEN 0.0010044335697769957*sqr(DYNX(W_,47))*(
    DYNX(DP_,18)+divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")-1) ELSE IF  -DYNX(W_,47) <=  -DYNX(W_,57) THEN divmacro
    (0.0010044335697769957*(1.0+DYNX(DP_,17)-divmacro(sqr(DYNX(W_,82)),
    "tank.portAreas[2]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2"))*sqr(DYNX(W_,47)),
    "0.0010044335697769957*((1.0+tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)*tank.ports[1].m_flow^2)",
    sqr(DYNX(W_,78)),"tank.ports_penetration[2]^2") ELSE IF 0.0010044335697769957
    *(DYNX(DP_,18)+divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(
    DYNX(W_,89)),"tank.vesselArea^2")-1)*DYNX(W_,78) >= divmacro(
    0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,17)-divmacro(sqr(
    DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")),
    "0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)",
    DYNX(W_,78),"tank.ports_penetration[2]") THEN (PushModelContext(1,
    "Modelica.Fluid.Utilities.regSquare2.regSquare2_utility:der( -tank.ports[1].m_flow, tank.m_flow_small, 0.0010044335697769957*((tank.portsData[2].zeta_in+tank.portAreas[2]^2/tank.vesselArea^2-1)*tank.ports_penetration[2]), (0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2))/tank.ports_penetration[2], false, 1, 0.0, 0.0, 0.00100443356977...")
    Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility__der( -DYNX(W_,47),
     DYNX(W_,57), 0.0010044335697769957*(DYNX(DP_,18)+divmacro(sqr(DYNX(W_,82)),
    "tank.portAreas[2]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")-1)*DYNX(W_,78), 
    divmacro(0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,17)-divmacro(
    sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")),
    "0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)",
    DYNX(W_,78),"tank.ports_penetration[2]"), false, 1, 0.0, 0.0, 
    0.0010044335697769957*(DYNX(DP_,18)+divmacro(sqr(DYNX(W_,82)),
    "tank.portAreas[2]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")-1),  -divmacro(
    0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,17)-divmacro(sqr(
    DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")),
    "0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)",
    sqr(DYNX(W_,78)),"tank.ports_penetration[2]^2"), 0)) ELSE  -(PushModelContext(1,
    "Modelica.Fluid.Utilities.regSquare2.regSquare2_utility:der(tank.ports[1].m_flow, tank.m_flow_small, (0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2))/tank.ports_penetration[2], 0.0010044335697769957*((tank.portsData[2].zeta_in+tank.portAreas[2]^2/tank.vesselArea^2-1)*tank.ports_penetration[2]), false, 1, 0.0, 0.0,  -(0.0010044335697...")
    Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility__der(DYNX(W_,47), 
    DYNX(W_,57), divmacro(0.0010044335697769957+0.0010044335697769957*(
    DYNX(DP_,17)-divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)",
    DYNX(W_,78),"tank.ports_penetration[2]"), 0.0010044335697769957*(
    DYNX(DP_,18)+divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")-1)*DYNX(W_,78), false, 1, 0.0, 0.0,  -divmacro(
    0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,17)-divmacro(sqr(
    DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")),
    "0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)",
    sqr(DYNX(W_,78)),"tank.ports_penetration[2]^2"), 0.0010044335697769957*(
    DYNX(DP_,18)+divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")-1), 0))),"0.5*smooth(1, smooth(1, (if noEvent( -tank.ports[1].m_flow >= tank.m_flow_small) then 0.0010044335697769957*(tank.ports[1].m_flow^2*(tank.portsData[2].zeta_in+tank.portAreas[2]^2/tank.vesselArea^2-1)) else (if noEvent( -tank.ports[1].m_flow <=  -tank.m_flow_small) then 0.0010044335697769957*((1.0+tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)*tank.ports[1].m_flow^2)/tank.port...",
    sqr(DYNX(W_,82)),"tank.portAreas[2]^2"), 0.0) ELSE 0.0)*(IF DYNX(DYNhelp,1409)
     THEN 0.0 ELSE IF DYNX(DYNhelp,1408) < (-0.1)*DYNX(DP_,15) THEN 0.0 ELSE IF 
    DYNX(DYNhelp,1407) > 0 THEN divmacro((-0.24975)*(sqr(divmacro(
    DYNX(DYNhelp,1405)-DYNX(DYNhelp,1407),"tank.level-tank.portsData[2].height-0.1*tank.portsData[2].diameter",
    DYNX(DYNhelp,1407),"0.1*tank.portsData[2].diameter"))+divmacro(divmacro(2.0*
    (DYNX(DYNhelp,1405)-DYNX(DYNhelp,1407))*(DYNX(DYNhelp,1405)-DYNX(DYNhelp,1407)),
    "2.0*((tank.level-tank.portsData[2].height-0.1*tank.portsData[2].diameter)*(tank.level-tank.portsData[2].height-0.1*tank.portsData[2].diameter))",
    DYNX(DYNhelp,1407),"0.1*tank.portsData[2].diameter"),"2.0*((tank.level-tank.portsData[2].height-0.1*tank.portsData[2].diameter)*(tank.level-tank.portsData[2].height-0.1*tank.portsData[2].diameter))/(0.1*tank.portsData[2].diameter)",
    DYNX(DYNhelp,1407),"0.1*tank.portsData[2].diameter")-3),"(-0.24975)*(((tank.level-tank.portsData[2].height-0.1*tank.portsData[2].diameter)/(0.1*tank.portsData[2].diameter))^2+2.0*((tank.level-tank.portsData[2].height-0.1*tank.portsData[2].diameter)*(tank.level-tank.portsData[2].height-0.1*tank.portsData[2].diameter))/(0.1*tank.portsData[2].diameter)/(0.1*tank.portsData[2].diameter)-3)",
    DYNX(DYNhelp,1407),"0.1*tank.portsData[2].diameter") ELSE 0.0));
  PopModelContext();
  SetMatrixLeading(Jacobian__, 3, 10, 13, DYNX(DYNhelp,1455)*DYNX(DYNhelp,1453)*
    DYNX(DYNhelp,1395));
  SetMatrixLeading(Jacobian__, 3, 11, 13, DYNX(DYNhelp,1454));
  SetMatrixLeading(Jacobian__, 4, 2, 13, IF DYNX(W_,90) THEN 1.0 ELSE IF 
    DYNX(W_,92) THEN 1.0 ELSE 0.0);
  SetMatrixLeading(Jacobian__, 4, 3, 13, (-1.0)*DYNX(DYNhelp,1457));
  SetMatrixLeading(Jacobian__, 4, 8, 13, 995.586*(IF DYNX(W_,90) THEN -1.0 ELSE 
    IF DYNX(W_,92) THEN -1.0 ELSE 0.0)*DYNX(DP_,2)*(IF 0 > DYNX(DYNhelp,1410)
     THEN 0.0 ELSE 1.0)+(IF DYNX(W_,90) THEN  -homotopy(divmacro(0.5*(IF 
    DYNX(W_,47) >= DYNX(W_,57) THEN 0.0010044335697769957*sqr(DYNX(W_,47))*(
    DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")-1) ELSE IF DYNX(W_,47) <=  -DYNX(W_,57) THEN divmacro(
    0.0010044335697769957*(1.0+DYNX(DP_,13)-divmacro(sqr(DYNX(W_,81)),
    "tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2"))*sqr(DYNX(W_,47)),
    "0.0010044335697769957*((1.0+tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)*tank.ports[1].m_flow^2)",
    sqr(DYNX(W_,77)),"tank.ports_penetration[1]^2") ELSE IF 0.0010044335697769957
    *(DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(
    DYNX(W_,89)),"tank.vesselArea^2")-1)*DYNX(W_,77) >= divmacro(
    0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,13)-divmacro(sqr(
    DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")),
    "0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)",
    DYNX(W_,77),"tank.ports_penetration[1]") THEN (PushModelContext(1,
    "Modelica.Fluid.Utilities.regSquare2.regSquare2_utility:der(tank.ports[1].m_flow, tank.m_flow_small, 0.0010044335697769957*((tank.portsData[1].zeta_in+tank.portAreas[1]^2/tank.vesselArea^2-1)*tank.ports_penetration[1]), (0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2))/tank.ports_penetration[1], false, 1, 0.0, 0.0, 0.0010044335697769...")
    Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility__der(DYNX(W_,47), 
    DYNX(W_,57), 0.0010044335697769957*(DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),
    "tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")-1)*DYNX(W_,77), 
    divmacro(0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,13)-divmacro(
    sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")),
    "0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)",
    DYNX(W_,77),"tank.ports_penetration[1]"), false, 1, 0.0, 0.0, 
    0.0010044335697769957*(DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),
    "tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")-1),  -divmacro(
    0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,13)-divmacro(sqr(
    DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")),
    "0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)",
    sqr(DYNX(W_,77)),"tank.ports_penetration[1]^2"), 0)) ELSE  -(PushModelContext(1,
    "Modelica.Fluid.Utilities.regSquare2.regSquare2_utility:der( -tank.ports[1].m_flow, tank.m_flow_small, (0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2))/tank.ports_penetration[1], 0.0010044335697769957*((tank.portsData[1].zeta_in+tank.portAreas[1]^2/tank.vesselArea^2-1)*tank.ports_penetration[1]), false, 1, 0.0, 0.0,  -(0.00100443356...")
    Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility__der( -DYNX(W_,47),
     DYNX(W_,57), divmacro(0.0010044335697769957+0.0010044335697769957*(
    DYNX(DP_,13)-divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)",
    DYNX(W_,77),"tank.ports_penetration[1]"), 0.0010044335697769957*(
    DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")-1)*DYNX(W_,77), false, 1, 0.0, 0.0,  -divmacro(
    0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,13)-divmacro(sqr(
    DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")),
    "0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)",
    sqr(DYNX(W_,77)),"tank.ports_penetration[1]^2"), 0.0010044335697769957*(
    DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
    "tank.vesselArea^2")-1), 0))),"0.5*smooth(1, smooth(1, (if noEvent(tank.ports[1].m_flow >= tank.m_flow_small) then 0.0010044335697769957*(tank.ports[1].m_flow^2*(tank.portsData[1].zeta_in+tank.portAreas[1]^2/tank.vesselArea^2-1)) else (if noEvent(tank.ports[1].m_flow <=  -tank.m_flow_small) then 0.0010044335697769957*((1.0+tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)*tank.ports[1].m_flow^2)/tank.ports_pe...",
    sqr(DYNX(W_,81)),"tank.portAreas[1]^2"), 0.0) ELSE 0.0)*(IF DYNX(DYNhelp,1414)
     THEN 0.0 ELSE IF DYNX(DYNhelp,1413) < (-0.1)*DYNX(DP_,11) THEN 0.0 ELSE IF 
    DYNX(DYNhelp,1412) > 0 THEN divmacro((-0.24975)*(sqr(divmacro(
    DYNX(DYNhelp,1410)-DYNX(DYNhelp,1412),"tank.level-tank.portsData[1].height-0.1*tank.portsData[1].diameter",
    DYNX(DYNhelp,1412),"0.1*tank.portsData[1].diameter"))+divmacro(divmacro(2.0*
    (DYNX(DYNhelp,1410)-DYNX(DYNhelp,1412))*(DYNX(DYNhelp,1410)-DYNX(DYNhelp,1412)),
    "2.0*((tank.level-tank.portsData[1].height-0.1*tank.portsData[1].diameter)*(tank.level-tank.portsData[1].height-0.1*tank.portsData[1].diameter))",
    DYNX(DYNhelp,1412),"0.1*tank.portsData[1].diameter"),"2.0*((tank.level-tank.portsData[1].height-0.1*tank.portsData[1].diameter)*(tank.level-tank.portsData[1].height-0.1*tank.portsData[1].diameter))/(0.1*tank.portsData[1].diameter)",
    DYNX(DYNhelp,1412),"0.1*tank.portsData[1].diameter")-3),"(-0.24975)*(((tank.level-tank.portsData[1].height-0.1*tank.portsData[1].diameter)/(0.1*tank.portsData[1].diameter))^2+2.0*((tank.level-tank.portsData[1].height-0.1*tank.portsData[1].diameter)*(tank.level-tank.portsData[1].height-0.1*tank.portsData[1].diameter))/(0.1*tank.portsData[1].diameter)/(0.1*tank.portsData[1].diameter)-3)",
    DYNX(DYNhelp,1412),"0.1*tank.portsData[1].diameter") ELSE 0.0));
  PopModelContext();
  SetMatrixLeading(Jacobian__, 4, 10, 13, DYNX(DYNhelp,1455)*DYNX(DYNhelp,1456)*
    DYNX(DYNhelp,1395));
  SetMatrixLeading(Jacobian__, 4, 11, 13, DYNX(DYNhelp,1457));
  SetMatrixLeading(Jacobian__, 5, 1, 13, homotopy(1.25*DYNX(W_,145), 1.25*
    DYNX(W_,99))*DYNX(DP_,24));
  SetMatrixLeading(Jacobian__, 5, 3, 13, (-1.0)*DYNX(DYNhelp,1460));
  SetMatrixLeading(Jacobian__, 5, 7, 13, (-4184.0)*DYNX(W_,47));
  SetMatrixLeading(Jacobian__, 5, 9, 13, 4184.0*DYNX(W_,47));
  SetMatrixLeading(Jacobian__, 5, 10, 13, DYNX(DYNhelp,1455)*DYNX(DYNhelp,1459)*
    DYNX(DYNhelp,1395));
  SetMatrixLeading(Jacobian__, 5, 11, 13, DYNX(DYNhelp,1460));
  SetMatrixLeading(Jacobian__, 6, 3, 13, DYNX(DYNhelp,1461));
  SetMatrixLeading(Jacobian__, 6, 10, 13, DYNX(DYNhelp,1462));
  SetMatrixLeading(Jacobian__, 6, 11, 13, DYNX(DYNhelp,1452));
  SetMatrixLeading(Jacobian__, 6, 13, 13,  -DYNX(DYNhelp,1417)*DYNX(DYNhelp,1415)
    *(-2.0)*homotopy(DYNX(W_,263)*(PushModelContext(1,"massFlowRate_dp_staticHead_Unique15:der(heater.flowModel.dps_fg[1], 995.586, 995.586, 0.001, 0.001, heater.pathLengths[1], heater.dimensions[1], 0.0, heater.crossAreas[1], heater.roughnesses[1], 0.5*heater.flowModel.dp_small, 4000.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0)")
    massFlowRatex_0dpx_0staticHeadx_0Unique15__der(DYNX(W_,293), 995.586, 
    995.586, 0.001, 0.001, DYNX(W_,313), DYNX(W_,246), 0.0, DYNX(W_,245), 
    DYNX(W_,247), DYNX(DYNhelp,1420), 4000.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
     0.0, 0.0, 0.0, 0.0, 0.0)), DYNX(DYNhelp,1463))*DYNX(DYNhelp,1464));
  PopModelContext();
  SetMatrixLeading(Jacobian__, 7, 3, 13, DYNX(DYNhelp,1461));
  SetMatrixLeading(Jacobian__, 7, 10, 13, DYNX(DYNhelp,1462));
  SetMatrixLeading(Jacobian__, 7, 11, 13, DYNX(DYNhelp,1452));
  SetMatrixLeading(Jacobian__, 7, 12, 13,  -DYNX(DYNhelp,1417)*DYNX(DYNhelp,1415)
    *(-2.0)*DYNX(DYNhelp,1465));
  SetMatrixLeading(Jacobian__, 7, 13, 13,  -DYNX(DYNhelp,1417)*DYNX(DYNhelp,1415)
    *2.0*DYNX(DYNhelp,1465));
  SetMatrixLeading(Jacobian__, 8, 3, 13, DYNX(DYNhelp,1461)-DYNX(DYNhelp,1394)*
    DYNX(DYNhelp,1392)*2.0*DYNX(DYNhelp,1469));
  SetMatrixLeading(Jacobian__, 8, 4, 13,  -DYNX(DYNhelp,1394)*DYNX(DYNhelp,1392)
    *(-2.0)*DYNX(DYNhelp,1469));
  SetMatrixLeading(Jacobian__, 8, 10, 13, DYNX(DYNhelp,1462));
  SetMatrixLeading(Jacobian__, 8, 11, 13, DYNX(DYNhelp,1452));
  SetMatrixLeading(Jacobian__, 9, 2, 13,  -DYNX(DYNhelp,1394)*DYNX(DYNhelp,1392)
    *(-2.0)*DYNX(DYNhelp,1470));
  SetMatrixLeading(Jacobian__, 9, 3, 13, DYNX(DYNhelp,1461));
  SetMatrixLeading(Jacobian__, 9, 4, 13,  -DYNX(DYNhelp,1394)*DYNX(DYNhelp,1392)
    *2.0*DYNX(DYNhelp,1470));
  SetMatrixLeading(Jacobian__, 9, 10, 13, DYNX(DYNhelp,1462));
  SetMatrixLeading(Jacobian__, 9, 11, 13, DYNX(DYNhelp,1452));
  SetMatrixLeading(Jacobian__, 10, 3, 13, DYNX(DYNhelp,1461));
  SetMatrixLeading(Jacobian__, 10, 10, 13, DYNX(DYNhelp,1462));
  SetMatrixLeading(Jacobian__, 10, 11, 13, DYNX(DYNhelp,1452)-DYNX(DYNhelp,1391)
    *DYNX(DYNhelp,1390)*(-1.0)*DYNX(DYNhelp,1474));
  SetMatrixLeading(Jacobian__, 10, 12, 13,  -DYNX(DYNhelp,1391)*DYNX(DYNhelp,1390)
    *DYNX(DYNhelp,1474));
  SetMatrixLeading(Jacobian__, 11, 1, 13, DYNX(W_,617));
  SetMatrixLeading(Jacobian__, 11, 2, 13, DYNX(W_,618));
  SetMatrixLeading(Jacobian__, 11, 3, 13, DYNX(W_,619));
  SetMatrixLeading(Jacobian__, 11, 4, 13, DYNX(W_,620));
  SetMatrixLeading(Jacobian__, 11, 5, 13, DYNX(W_,621));
  SetMatrixLeading(Jacobian__, 11, 6, 13, DYNX(W_,622));
  SetMatrixLeading(Jacobian__, 11, 7, 13, DYNX(W_,623));
  SetMatrixLeading(Jacobian__, 11, 8, 13, DYNX(W_,624));
  SetMatrixLeading(Jacobian__, 11, 9, 13, DYNX(W_,625));
  SetMatrixLeading(Jacobian__, 11, 10, 13, DYNX(W_,626));
  SetMatrixLeading(Jacobian__, 11, 11, 13, DYNX(W_,627));
  SetMatrixLeading(Jacobian__, 11, 12, 13, DYNX(W_,628));
  SetMatrixLeading(Jacobian__, 11, 13, 13, DYNX(W_,629));
  SetMatrixLeading(Jacobian__, 12, 1, 13, DYNX(W_,630));
  SetMatrixLeading(Jacobian__, 12, 2, 13, DYNX(W_,631));
  SetMatrixLeading(Jacobian__, 12, 3, 13, DYNX(W_,632));
  SetMatrixLeading(Jacobian__, 12, 4, 13, DYNX(W_,633));
  SetMatrixLeading(Jacobian__, 12, 5, 13, DYNX(W_,634));
  SetMatrixLeading(Jacobian__, 12, 6, 13, DYNX(W_,635));
  SetMatrixLeading(Jacobian__, 12, 7, 13, DYNX(W_,636));
  SetMatrixLeading(Jacobian__, 12, 8, 13, DYNX(W_,637));
  SetMatrixLeading(Jacobian__, 12, 9, 13, DYNX(W_,638));
  SetMatrixLeading(Jacobian__, 12, 10, 13, DYNX(W_,639));
  SetMatrixLeading(Jacobian__, 12, 11, 13, DYNX(W_,640));
  SetMatrixLeading(Jacobian__, 12, 12, 13, DYNX(W_,641));
  SetMatrixLeading(Jacobian__, 12, 13, 13, DYNX(W_,642));
  SetMatrixLeading(Jacobian__, 13, 1, 13, DYNX(W_,643));
  SetMatrixLeading(Jacobian__, 13, 2, 13, DYNX(W_,644));
  SetMatrixLeading(Jacobian__, 13, 3, 13, DYNX(W_,645));
  SetMatrixLeading(Jacobian__, 13, 4, 13, DYNX(W_,646));
  SetMatrixLeading(Jacobian__, 13, 5, 13, DYNX(W_,647));
  SetMatrixLeading(Jacobian__, 13, 6, 13, DYNX(W_,648));
  SetMatrixLeading(Jacobian__, 13, 7, 13, DYNX(W_,649));
  SetMatrixLeading(Jacobian__, 13, 8, 13, DYNX(W_,650));
  SetMatrixLeading(Jacobian__, 13, 9, 13, DYNX(W_,651));
  SetMatrixLeading(Jacobian__, 13, 10, 13, DYNX(W_,652));
  SetMatrixLeading(Jacobian__, 13, 11, 13, DYNX(W_,653));
  SetMatrixLeading(Jacobian__, 13, 12, 13, DYNX(W_,654));
  SetMatrixLeading(Jacobian__, 13, 13, 13, DYNX(W_,655));

  #define HaveDummyDerivative_
  DummyNonLinear(Jacobian__, residue__, 10, 13, &DYNX(W_,617), RealScalarArray(13,
     DYNX(W_,53), DYNX(W_,49), DYNX(W_,164), DYNX(W_,581), DYNX(W_,37), 
    DYNX(W_,39), DYNX(W_,26), DYNX(W_,11), DYNX(W_,114), DYNX(W_,194), 
    DYNX(W_,605), DYNX(W_,593), DYNX(W_,569)), &DYNX(X_,5), DYNX(DYNhelp,1475), 130,
     DYNX(did_->helpvari_vec,148), 39);
  SolveNonLinearSystemOfEquationsMixed(Jacobian__, 0, 0, 0, residue__, x__,"Tag: simulation.nonlinear[1]");
  DYNX(W_,53) = GetVector(x__, 1);
  DYNX(W_,49) = GetVector(x__, 2);
  DYNX(W_,164) = GetVector(x__, 3);
  DYNX(W_,581) = GetVector(x__, 4);
  DYNX(W_,37) = GetVector(x__, 5);
  DYNX(W_,39) = GetVector(x__, 6);
  DYNX(W_,26) = GetVector(x__, 7);
  DYNX(W_,11) = GetVector(x__, 8);
  DYNX(W_,114) = GetVector(x__, 9);
  DYNX(W_,194) = GetVector(x__, 10);
  DYNX(W_,605) = GetVector(x__, 11);
  DYNX(W_,593) = GetVector(x__, 12);
  DYNX(W_,569) = GetVector(x__, 13);
  EndNonLinearSystemOfEquations(residue__, x__);
   /* End of Non-Linear Equation Block */ }


  DYNX(W_,75) = IF DYNX(W_,90) THEN DYNX(W_,11)-DYNX(DP_,12) ELSE IF DYNX(W_,92)
     THEN DYNX(W_,47) ELSE 9.869232667160129E-06*(DYNX(W_,49)-DYNX(W_,83))*(
    DYNX(DP_,12)-DYNX(W_,11));
  DYNX(W_,76) = IF DYNX(W_,91) THEN DYNX(W_,11)-DYNX(DP_,16) ELSE IF DYNX(W_,93)
     THEN  -DYNX(W_,47) ELSE 9.869232667160129E-06*(DYNX(W_,53)-DYNX(W_,84))*(
    DYNX(DP_,16)-DYNX(W_,11));

  MixedModeStartBoolean
  UpdateVariableNamed(DYNX(W_,90),"tank.regularFlow[1]", GreaterEqual(
    DYNX(W_,11),"tank.level", DYNX(DP_,12),"tank.portsData[1].height", 2));
  UpdateVariableNamed(DYNX(W_,92),"tank.inFlow[1]",  NOT DYNX(W_,90) AND (
    Greater(DYNX(W_,75),"tank.s[1]", 0,"0", 3) OR DYNX(DP_,12) >= DYNX(W_,88)));
  UpdateVariableNamed(DYNX(W_,91),"tank.regularFlow[2]", GreaterEqual(
    DYNX(W_,11),"tank.level", DYNX(DP_,16),"tank.portsData[2].height", 5));
  UpdateVariableNamed(DYNX(W_,93),"tank.inFlow[2]",  NOT DYNX(W_,91) AND (
    Greater(DYNX(W_,76),"tank.s[2]", 0,"0", 6) OR DYNX(DP_,16) >= DYNX(W_,88)));
  MixedModeInit(4, DYNX(DYNhelp,1605))
  ThetaMixedCross(0,2)
  ThetaMixedCross(1,3)
  ThetaMixedCross(2,5)
  ThetaMixedCross(3,6)
  MixedModeEndBoolean
  UpdateReal(DYNX(W_,655), 1)
  UpdateReal(DYNX(W_,654), 2)
  UpdateReal(DYNX(W_,653), 3)
  UpdateReal(DYNX(W_,652), 4)
  UpdateReal(DYNX(W_,651), 5)
  UpdateReal(DYNX(W_,650), 6)
  UpdateReal(DYNX(W_,649), 7)
  UpdateReal(DYNX(W_,648), 8)
  UpdateReal(DYNX(W_,647), 9)
  UpdateReal(DYNX(W_,646), 10)
  UpdateReal(DYNX(W_,645), 11)
  UpdateReal(DYNX(W_,644), 12)
  UpdateReal(DYNX(W_,643), 13)
  UpdateReal(DYNX(W_,642), 14)
  UpdateReal(DYNX(W_,641), 15)
  UpdateReal(DYNX(W_,640), 16)
  UpdateReal(DYNX(W_,639), 17)
  UpdateReal(DYNX(W_,638), 18)
  UpdateReal(DYNX(W_,637), 19)
  UpdateReal(DYNX(W_,636), 20)
  UpdateReal(DYNX(W_,635), 21)
  UpdateReal(DYNX(W_,634), 22)
  UpdateReal(DYNX(W_,633), 23)
  UpdateReal(DYNX(W_,632), 24)
  UpdateReal(DYNX(W_,631), 25)
  UpdateReal(DYNX(W_,630), 26)
  UpdateReal(DYNX(W_,629), 27)
  UpdateReal(DYNX(W_,628), 28)
  UpdateReal(DYNX(W_,627), 29)
  UpdateReal(DYNX(W_,626), 30)
  UpdateReal(DYNX(W_,625), 31)
  UpdateReal(DYNX(W_,624), 32)
  UpdateReal(DYNX(W_,623), 33)
  UpdateReal(DYNX(W_,622), 34)
  UpdateReal(DYNX(W_,621), 35)
  UpdateReal(DYNX(W_,620), 36)
  UpdateReal(DYNX(W_,619), 37)
  UpdateReal(DYNX(W_,618), 38)
  UpdateReal(DYNX(W_,617), 39)
  UpdateReal(DYNX(W_,75), 40)
  UpdateReal(DYNX(W_,76), 41)
  UpdateReal(DYNX(W_,39), 42)
  UpdateReal(DYNX(W_,37), 43)
  UpdateReal(DYNX(W_,293), 44)
  UpdateReal(DYNX(W_,277), 45)
  UpdateReal(DYNX(W_,294), 46)
  UpdateReal(DYNX(W_,569), 47)
  UpdateReal(DYNX(W_,278), 48)
  UpdateReal(DYNX(W_,114), 49)
  UpdateReal(DYNX(W_,96), 50)
  UpdateReal(DYNX(W_,77), 51)
  UpdateReal(DYNX(W_,83), 52)
  UpdateReal(DYNX(W_,78), 53)
  UpdateReal(DYNX(W_,84), 54)
  UpdateReal(DYNX(W_,51), 55)
  UpdateReal(DYNX(W_,26), 56)
  UpdateReal(DYNX(W_,29), 57)
  UpdateReal(DYNX(W_,11), 58)
  UpdateReal(DYNX(W_,13), 59)
  UpdateReal(DYNX(W_,127), 60)
  UpdateReal(DYNX(W_,148), 61)
  UpdateReal(DYNX(W_,145), 62)
  UpdateReal(DYNX(W_,143), 63)
  UpdateReal(DYNX(W_,173), 64)
  UpdateReal(DYNX(W_,194), 65)
  UpdateReal(DYNX(W_,205), 66)
  UpdateReal(DYNX(W_,53), 67)
  UpdateReal(DYNX(W_,140), 68)
  UpdateReal(DYNX(W_,403), 69)
  UpdateReal(DYNX(W_,164), 70)
  UpdateReal(DYNX(W_,387), 71)
  UpdateReal(DYNX(W_,404), 72)
  UpdateReal(DYNX(W_,581), 73)
  UpdateReal(DYNX(W_,49), 74)
  UpdateReal(DYNX(W_,388), 75)
  UpdateReal(DYNX(W_,528), 76)
  UpdateReal(DYNX(W_,593), 77)
  UpdateReal(DYNX(W_,605), 78)
  UpdateReal(DYNX(W_,518), 79)
  UpdateReal(DYNX(W_,47), 80)
EndMixedSystemOfEquations

AssertModelica(GreaterEqual(DYNX(W_,26),"tank.medium.T", 272.15,"272.15", 7)
   AND LessEqual(DYNX(W_,26),"tank.medium.T", 403.15,"403.15", 8),
  "tank.medium.T >= 272.15 and tank.medium.T <= 403.15", StringAdd(StringAdd(
  StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(StringAdd("\nTemperature T (= ",
  Real2String2(DYNX(W_,26), true, 0))," K) is not\nin the allowed range ("),
  "272.15")," K <= T <= "),"403.15")," K)\nrequired from medium model \""),
  "SimpleLiquidWater"),"\".\n"));
PopAllMarks();
AssertModelica(GreaterEqual(DYNX(W_,114),"pump.medium.T", 272.15,"272.15", 15)
   AND LessEqual(DYNX(W_,114),"pump.medium.T", 403.15,"403.15", 16),
  "pump.medium.T >= 272.15 and pump.medium.T <= 403.15", StringAdd(StringAdd(
  StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(StringAdd("\nTemperature T (= ",
  Real2String2(DYNX(W_,114), true, 0))," K) is not\nin the allowed range ("),
  "272.15")," K <= T <= "),"403.15")," K)\nrequired from medium model \""),
  "SimpleLiquidWater"),"\".\n"));
PopAllMarks();
AssertModelica(GreaterEqual(DYNX(W_,569),"heater.mediums[1].p", 0.0,"0.0", 9),
  "heater.mediums[1].p >= 0.0", StringAdd(StringAdd(StringAdd(StringAdd(
  StringAdd(StringAdd("Pressure (= ",Real2String2(DYNX(W_,569), true, 0)),
  " Pa) of medium \""),"SimpleLiquidWater"),"\" is negative\n(Temperature = "),
  Real2String2(DYNX(X_,1), true, 0))," K)"));
PopAllMarks();
AssertModelica(GreaterEqual(DYNX(W_,581),"radiator.mediums[1].p", 0.0,"0.0", 12),
  "radiator.mediums[1].p >= 0.0", StringAdd(StringAdd(StringAdd(StringAdd(
  StringAdd(StringAdd("Pressure (= ",Real2String2(DYNX(W_,581), true, 0)),
  " Pa) of medium \""),"SimpleLiquidWater"),"\" is negative\n(Temperature = "),
  Real2String2(DYNX(X_,2), true, 0))," K)"));
PopAllMarks();
AssertModelica(GreaterEqual(DYNX(W_,593),"pipe.mediums[1].p", 0.0,"0.0", 17),
  "pipe.mediums[1].p >= 0.0", StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(
  StringAdd("Pressure (= ",Real2String2(DYNX(W_,593), true, 0))," Pa) of medium \""),
  "SimpleLiquidWater"),"\" is negative\n(Temperature = "),Real2String2(
  DYNX(X_,3), true, 0))," K)"));
PopAllMarks();
AssertModelica(GreaterEqual(DYNX(W_,605),"pipe.mediums[2].p", 0.0,"0.0", 20),
  "pipe.mediums[2].p >= 0.0", StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(
  StringAdd("Pressure (= ",Real2String2(DYNX(W_,605), true, 0))," Pa) of medium \""),
  "SimpleLiquidWater"),"\" is negative\n(Temperature = "),Real2String2(
  DYNX(X_,4), true, 0))," K)"));
PopAllMarks();
DYNX(DYNhelp,1609) = RealBmax(DYNX(W_,47), 0.0);
DYNX(DYNhelp,1610) = RealBmax( -DYNX(W_,47), 0.0);
DYNX(Aux_,6) = DYNX(DYNhelp,1609)+DYNX(DYNhelp,1610);
DYNX(Aux_,7) = IF DYNX(Aux_,6) > 1E-10 THEN 1.0 ELSE IF DYNX(Aux_,6) > 0.0 THEN 
  sqr(10000000000.0*DYNX(Aux_,6))*(3.0-20000000000.0*DYNX(Aux_,6)) ELSE 0.0;
DYNX(W_,217) = 4184*(DYNX(X_,1)-273.15);
DYNX(W_,443) = 4184*(DYNX(X_,3)-273.15);
DYNX(DYNhelp,1611) = 1.0-DYNX(Aux_,7);
DYNX(DYNhelp,1612) = 1E-10*DYNX(DYNhelp,1611);
DYNX(DYNhelp,1613) = DYNX(Aux_,7)*DYNX(DYNhelp,1609)+DYNX(DYNhelp,1612);
DYNX(DYNhelp,1614) = DYNX(Aux_,7)*DYNX(DYNhelp,1610)+DYNX(DYNhelp,1612);
DYNX(DYNhelp,1615) = DYNX(DYNhelp,1613)+DYNX(DYNhelp,1614);
DYNX(DYNhelp,1616) = divmacro(1.0,"1.0",DYNX(DYNhelp,1615),"stream_alpha1*max(tank.ports[1].m_flow, 0.0)+1E-10*(1.0-stream_alpha1)+stream_alpha1*max( -tank.ports[1].m_flow, 0.0)+1E-10*(1.0-stream_alpha1)");
DYNX(Aux_,3) = DYNX(DYNhelp,1616)*(DYNX(DYNhelp,1613)*DYNX(W_,217)+
  DYNX(DYNhelp,1614)*DYNX(W_,443));
DYNX(Y_,0) = 273.15+0.0002390057361376673*DYNX(Aux_,3);
DYNX(Aux_,8) = DYNX(DYNhelp,1609)+DYNX(DYNhelp,1610);
DYNX(Aux_,9) = IF DYNX(Aux_,8) > 1E-10 THEN 1.0 ELSE IF DYNX(Aux_,8) > 0.0 THEN 
  sqr(10000000000.0*DYNX(Aux_,8))*(3.0-20000000000.0*DYNX(Aux_,8)) ELSE 0.0;
DYNX(W_,163) = 4184*(DYNX(X_,2)-273.15);
DYNX(DYNhelp,1617) = 1.0-DYNX(Aux_,9);
DYNX(DYNhelp,1618) = 1E-10*DYNX(DYNhelp,1617);
DYNX(DYNhelp,1619) = DYNX(Aux_,9)*DYNX(DYNhelp,1609)+DYNX(DYNhelp,1618);
DYNX(DYNhelp,1620) = DYNX(Aux_,9)*DYNX(DYNhelp,1610)+DYNX(DYNhelp,1618);
DYNX(DYNhelp,1621) = DYNX(DYNhelp,1619)+DYNX(DYNhelp,1620);
DYNX(DYNhelp,1622) = divmacro(1.0,"1.0",DYNX(DYNhelp,1621),"stream_alpha3*max(tank.ports[1].m_flow, 0.0)+1E-10*(1.0-stream_alpha3)+stream_alpha3*max( -tank.ports[1].m_flow, 0.0)+1E-10*(1.0-stream_alpha3)");
DYNX(Aux_,4) = DYNX(DYNhelp,1622)*(DYNX(DYNhelp,1619)*DYNX(W_,163)+
  DYNX(DYNhelp,1620)*DYNX(W_,51));
DYNX(Y_,1) = 273.15+0.0002390057361376673*DYNX(Aux_,4);
AssertModelica(LessEqual(DYNX(W_,11),"tank.level", DYNX(W_,88),"tank.fluidLevel_max",
   0),"tank.level <= tank.fluidLevel_max", StringAdd(StringAdd("Vessel is overflowing (fluidLevel > fluidLevel_max = ",
  Real2String2(DYNX(W_,11), true, 0)),")"));
PopAllMarks();
AssertModelica(Greater(DYNX(W_,11),"tank.level", (-1E-06)*DYNX(W_,88),
  "(-1E-06)*tank.fluidLevel_max", 1),"tank.level > (-1E-06)*tank.fluidLevel_max",
   StringAdd(StringAdd("Fluid level (= ",Real2String2(DYNX(W_,11), true, 0)),
  ") is below zero meaning that the solution failed."));
PopAllMarks();
AssertModelica(Greater(DYNX(W_,47),"tank.ports[1].m_flow",  -DYNX(W_,170),
  " -valve.m_flow_small", 4),"tank.ports[1].m_flow >  -valve.m_flow_small", 
  "Reverting flow occurs even though allowFlowReversal is false");

DynamicsSection
DYNX(W_,86) = 995.586*(IF 0 > DYNX(W_,11)-DYNX(DP_,16) THEN 0 ELSE DYNX(W_,12))*
  DYNX(DP_,2);
DYNX(W_,80) = IF DYNX(W_,11)-DYNX(DP_,16)-0.1*DYNX(DP_,15) > 0.1*DYNX(DP_,15)
   THEN 0 ELSE IF DYNX(W_,11)-DYNX(DP_,16)-0.1*DYNX(DP_,15) < (-0.1)*
  DYNX(DP_,15) THEN 0.0 ELSE IF 0.1*DYNX(DP_,15) > 0 THEN divmacro((-0.24975)*(
  DYNX(W_,12)*(sqr(divmacro(DYNX(W_,11)-DYNX(DP_,16)-0.1*DYNX(DP_,15),
  "tank.level-tank.portsData[2].height-0.1*tank.portsData[2].diameter",0.1*
  DYNX(DP_,15),"0.1*tank.portsData[2].diameter"))-3)+divmacro(divmacro(2.0*(
  DYNX(W_,11)-DYNX(DP_,16)-0.1*DYNX(DP_,15))*(DYNX(W_,11)-DYNX(DP_,16)-0.1*
  DYNX(DP_,15))*DYNX(W_,12),"2.0*((tank.level-tank.portsData[2].height-0.1*tank.portsData[2].diameter)*((tank.level-tank.portsData[2].height-0.1*tank.portsData[2].diameter)*der(tank.level)))",
  0.1*DYNX(DP_,15),"0.1*tank.portsData[2].diameter"),"2.0*((tank.level-tank.portsData[2].height-0.1*tank.portsData[2].diameter)*((tank.level-tank.portsData[2].height-0.1*tank.portsData[2].diameter)*der(tank.level)))/(0.1*tank.portsData[2].diameter)",
  0.1*DYNX(DP_,15),"0.1*tank.portsData[2].diameter")),"(-0.24975)*(der(tank.level)*(((tank.level-tank.portsData[2].height-0.1*tank.portsData[2].diameter)/(0.1*tank.portsData[2].diameter))^2-3)+2.0*((tank.level-tank.portsData[2].height-0.1*tank.portsData[2].diameter)*((tank.level-tank.portsData[2].height-0.1*tank.portsData[2].diameter)*der(tank.level)))/(0.1*tank.portsData[2].diameter)/(0.1*tank.portsData[2].diameter))",
  0.1*DYNX(DP_,15),"0.1*tank.portsData[2].diameter") ELSE 0.0;
DYNX(W_,195) = DYNX(W_,203)*(DYNX(W_,194)-DYNX(X_,0));
DYNX(W_,206) = DYNX(DP_,43)*DYNX(DP_,50)*DYNX(W_,195);
DYNX(W_,85) = 995.586*(IF 0 > DYNX(W_,11)-DYNX(DP_,12) THEN 0 ELSE DYNX(W_,12))*
  DYNX(DP_,2);
DYNX(W_,79) = IF DYNX(W_,11)-DYNX(DP_,12)-0.1*DYNX(DP_,11) > 0.1*DYNX(DP_,11)
   THEN 0 ELSE IF DYNX(W_,11)-DYNX(DP_,12)-0.1*DYNX(DP_,11) < (-0.1)*
  DYNX(DP_,11) THEN 0.0 ELSE IF 0.1*DYNX(DP_,11) > 0 THEN divmacro((-0.24975)*(
  DYNX(W_,12)*(sqr(divmacro(DYNX(W_,11)-DYNX(DP_,12)-0.1*DYNX(DP_,11),
  "tank.level-tank.portsData[1].height-0.1*tank.portsData[1].diameter",0.1*
  DYNX(DP_,11),"0.1*tank.portsData[1].diameter"))-3)+divmacro(divmacro(2.0*(
  DYNX(W_,11)-DYNX(DP_,12)-0.1*DYNX(DP_,11))*(DYNX(W_,11)-DYNX(DP_,12)-0.1*
  DYNX(DP_,11))*DYNX(W_,12),"2.0*((tank.level-tank.portsData[1].height-0.1*tank.portsData[1].diameter)*((tank.level-tank.portsData[1].height-0.1*tank.portsData[1].diameter)*der(tank.level)))",
  0.1*DYNX(DP_,11),"0.1*tank.portsData[1].diameter"),"2.0*((tank.level-tank.portsData[1].height-0.1*tank.portsData[1].diameter)*((tank.level-tank.portsData[1].height-0.1*tank.portsData[1].diameter)*der(tank.level)))/(0.1*tank.portsData[1].diameter)",
  0.1*DYNX(DP_,11),"0.1*tank.portsData[1].diameter")),"(-0.24975)*(der(tank.level)*(((tank.level-tank.portsData[1].height-0.1*tank.portsData[1].diameter)/(0.1*tank.portsData[1].diameter))^2-3)+2.0*((tank.level-tank.portsData[1].height-0.1*tank.portsData[1].diameter)*((tank.level-tank.portsData[1].height-0.1*tank.portsData[1].diameter)*der(tank.level)))/(0.1*tank.portsData[1].diameter)/(0.1*tank.portsData[1].diameter))",
  0.1*DYNX(DP_,11),"0.1*tank.portsData[1].diameter") ELSE 0.0;

BreakSectionFunctionEnd()
BreakSectionFunctionStart(10);
 /* Linear system of equations to solve. */
/* Tag: simulation.linear[1] */
/* Introducing 41 common subexpressions used in 84 expressions */
/* Of the common subexpressions 41 are reals, 0 are integers, and 0
   are booleans. */
DYNX(DYNhelp,1623) = IF DYNX(W_,90) THEN  -(DYNX(W_,85)+divmacro(0.5*(IF 
  DYNX(W_,47) >= DYNX(W_,57) THEN 0.0010044335697769957*(DYNX(DP_,14)+divmacro(
  sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")-1)
  *DYNX(W_,79)*sqr(DYNX(W_,47)) ELSE IF DYNX(W_,47) <=  -DYNX(W_,57) THEN 
  divmacro(0.0010044335697769957*(1.0+DYNX(DP_,13)-divmacro(sqr(DYNX(W_,81)),
  "tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2"))*sqr(DYNX(W_,47))*
  DYNX(W_,79),"0.0010044335697769957*((1.0+tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)*tank.ports[1].m_flow^2*der(tank.ports_penetration[1]))",
  sqr(DYNX(W_,77)),"tank.ports_penetration[1]^2") ELSE IF 0.0010044335697769957*
  (DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
  "tank.vesselArea^2")-1)*DYNX(W_,77) >= divmacro(0.0010044335697769957+
  0.0010044335697769957*(DYNX(DP_,13)-divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",
  sqr(DYNX(W_,89)),"tank.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)",
  DYNX(W_,77),"tank.ports_penetration[1]") THEN (PushModelContext(1,
  "Modelica.Fluid.Utilities.regSquare2.regSquare2_utility:der(tank.ports[1].m_flow, tank.m_flow_small, 0.0010044335697769957*((tank.portsData[1].zeta_in+tank.portAreas[1]^2/tank.vesselArea^2-1)*tank.ports_penetration[1]), (0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2))/tank.ports_penetration[1], false, 1, 0.0, 0.0, 0.0010044335697769...")
  Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility__der(DYNX(W_,47), 
  DYNX(W_,57), 0.0010044335697769957*(DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),
  "tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")-1)*DYNX(W_,77), 
  divmacro(0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,13)-divmacro(
  sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")),
  "0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)",
  DYNX(W_,77),"tank.ports_penetration[1]"), false, 1, 0.0, 0.0, 0.0010044335697769957
  *(DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
  "tank.vesselArea^2")-1)*DYNX(W_,79),  -divmacro((0.0010044335697769957+
  0.0010044335697769957*(DYNX(DP_,13)-divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",
  sqr(DYNX(W_,89)),"tank.vesselArea^2")))*DYNX(W_,79),"(0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2))*der(tank.ports_penetration[1])",
  sqr(DYNX(W_,77)),"tank.ports_penetration[1]^2"), 0)) ELSE  -(PushModelContext(1,
  "Modelica.Fluid.Utilities.regSquare2.regSquare2_utility:der( -tank.ports[1].m_flow, tank.m_flow_small, (0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2))/tank.ports_penetration[1], 0.0010044335697769957*((tank.portsData[1].zeta_in+tank.portAreas[1]^2/tank.vesselArea^2-1)*tank.ports_penetration[1]), false, 1, 0.0, 0.0,  -(0.00100443356...")
  Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility__der( -DYNX(W_,47), 
  DYNX(W_,57), divmacro(0.0010044335697769957+0.0010044335697769957*(
  DYNX(DP_,13)-divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
  "tank.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)",
  DYNX(W_,77),"tank.ports_penetration[1]"), 0.0010044335697769957*(DYNX(DP_,14)+
  divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
  "tank.vesselArea^2")-1)*DYNX(W_,77), false, 1, 0.0, 0.0,  -divmacro((
  0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,13)-divmacro(sqr(
  DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")))*
  DYNX(W_,79),"(0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2))*der(tank.ports_penetration[1])",
  sqr(DYNX(W_,77)),"tank.ports_penetration[1]^2"), 0.0010044335697769957*(
  DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
  "tank.vesselArea^2")-1)*DYNX(W_,79), 0))),"0.5*smooth(1, smooth(1, (if noEvent(tank.ports[1].m_flow >= tank.m_flow_small) then 0.0010044335697769957*((tank.portsData[1].zeta_in+tank.portAreas[1]^2/tank.vesselArea^2-1)*der(tank.ports_penetration[1])*tank.ports[1].m_flow^2) else (if noEvent(tank.ports[1].m_flow <=  -tank.m_flow_small) then 0.0010044335697769957*((1.0+tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)*tank.p...",
  sqr(DYNX(W_,81)),"tank.portAreas[1]^2")) ELSE IF DYNX(W_,92) THEN  -
  DYNX(W_,85) ELSE 0.0;
PopModelContext();
DYNX(DYNhelp,1624) = IF DYNX(W_,90) THEN  -divmacro(0.5*(IF DYNX(W_,47) >= 
  DYNX(W_,57) THEN 0.0020088671395539913*(DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),
  "tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")-1)*DYNX(W_,77)*
  DYNX(W_,47) ELSE IF DYNX(W_,47) <=  -DYNX(W_,57) THEN  -divmacro(
  0.0020088671395539913*(1.0+DYNX(DP_,13)-divmacro(sqr(DYNX(W_,81)),
  "tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2"))*DYNX(W_,47),
  "0.0020088671395539913*((1.0+tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)*tank.ports[1].m_flow)",
  DYNX(W_,77),"tank.ports_penetration[1]") ELSE IF 0.0010044335697769957*(
  DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
  "tank.vesselArea^2")-1)*DYNX(W_,77) >= divmacro(0.0010044335697769957+
  0.0010044335697769957*(DYNX(DP_,13)-divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",
  sqr(DYNX(W_,89)),"tank.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)",
  DYNX(W_,77),"tank.ports_penetration[1]") THEN (PushModelContext(1,
  "Modelica.Fluid.Utilities.regSquare2.regSquare2_utility:der(tank.ports[1].m_flow, tank.m_flow_small, 0.0010044335697769957*((tank.portsData[1].zeta_in+tank.portAreas[1]^2/tank.vesselArea^2-1)*tank.ports_penetration[1]), (0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2))/tank.ports_penetration[1], false, 1, 1.0, 0.0, 0.0, 0.0, 0)")
  Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility__der(DYNX(W_,47), 
  DYNX(W_,57), 0.0010044335697769957*(DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),
  "tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")-1)*DYNX(W_,77), 
  divmacro(0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,13)-divmacro(
  sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")),
  "0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)",
  DYNX(W_,77),"tank.ports_penetration[1]"), false, 1, 1.0, 0.0, 0.0, 0.0, 0))
   ELSE  -(PushModelContext(1,"Modelica.Fluid.Utilities.regSquare2.regSquare2_utility:der( -tank.ports[1].m_flow, tank.m_flow_small, (0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2))/tank.ports_penetration[1], 0.0010044335697769957*((tank.portsData[1].zeta_in+tank.portAreas[1]^2/tank.vesselArea^2-1)*tank.ports_penetration[1]), false, 1, -1.0, 0.0, 0.0, 0.0, 0)")
  Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility__der( -DYNX(W_,47), 
  DYNX(W_,57), divmacro(0.0010044335697769957+0.0010044335697769957*(
  DYNX(DP_,13)-divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
  "tank.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)",
  DYNX(W_,77),"tank.ports_penetration[1]"), 0.0010044335697769957*(DYNX(DP_,14)+
  divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
  "tank.vesselArea^2")-1)*DYNX(W_,77), false, 1, -1.0, 0.0, 0.0, 0.0, 0))),
  "0.5*smooth(0, smooth(0, (if noEvent(tank.ports[1].m_flow >= tank.m_flow_small) then 0.0020088671395539913*((tank.portsData[1].zeta_in+tank.portAreas[1]^2/tank.vesselArea^2-1)*tank.ports_penetration[1]*tank.ports[1].m_flow) else (if noEvent(tank.ports[1].m_flow <=  -tank.m_flow_small) then  -0.0020088671395539913*((1.0+tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)*tank.ports[...",
  sqr(DYNX(W_,81)),"tank.portAreas[1]^2") ELSE IF DYNX(W_,92) THEN 0.0 ELSE 1.0;
PopModelContext();
DYNX(DYNhelp,1625) = DYNX(W_,206)*DYNX(W_,181);
DYNX(DYNhelp,1626) = DYNX(DYNhelp,1625)*DYNX(W_,173);
DYNX(DYNhelp,1627) = DYNX(W_,173)*DYNX(W_,173)+DYNX(W_,184)*DYNX(W_,184);
DYNX(DYNhelp,1628) = powmacro(DYNX(DYNhelp,1627),"valve.dp*valve.dp+valve.dp_small*valve.dp_small",
  0.25,"0.25");
DYNX(DYNhelp,1629) = divmacro(1.0,"1.0",DYNX(DYNhelp,1628),"(valve.dp*valve.dp+valve.dp_small*valve.dp_small)^0.25");
DYNX(DYNhelp,1630) =  -DYNX(DYNhelp,1629)*31.55290794839677*DYNX(DYNhelp,1626);
/* Automatic tearing of linear system of 18 simultaneous equations
gave a linear system of 6 equations for numerical solution.*/
{
  const char*const varnames_[]={"tank.ports[1].der(p)", "radiator.mediums[1].der(p)",
     "valve.der(dp)", "pipe.mediums[2].der(p)", "pipe.mediums[1].der(p)", 
    "heater.mediums[1].der(p)"};
  const double nominal_[]={1, 1, 1, 1, 1, 1};
  DidLinearSystemOfEquations(J, b, y, 6, DYNX(DYNhelp,1631), 120, 
    DYNX(did_->helpvari_vec,187), 16);
  /* Jacobian depending on continuous variables */
  SetNeedFactor(J);
  if (NeedFactor(J)) {
    MatrixZeros(J);
    DYNX(DYNhelp,1751) = DYNX(W_,205)*DYNX(W_,181);
    DYNX(DYNhelp,1752) = DYNX(DYNhelp,1751)*DYNX(W_,173);
    DYNX(DYNhelp,1753) = powmacro(DYNX(DYNhelp,1627),"valve.dp*valve.dp+valve.dp_small*valve.dp_small",
      -0.75,"-0.75");
    DYNX(DYNhelp,1754) = DYNX(DYNhelp,1753)*DYNX(W_,173);
    DYNX(DYNhelp,1755) = sqr(DYNX(DYNhelp,1628));
    DYNX(DYNhelp,1756) = divmacro(1.0,"1.0",DYNX(DYNhelp,1755),"((valve.dp*valve.dp+valve.dp_small*valve.dp_small)^0.25)^2");
    DYNX(DYNhelp,1757) = DYNX(DYNhelp,1629)*31.55290794839677*DYNX(DYNhelp,1751)
      -DYNX(DYNhelp,1756)*15.776453974198384*DYNX(DYNhelp,1752)*DYNX(DYNhelp,1754);
    DYNX(DYNhelp,1758) = 0.5*DYNX(W_,306);
    DYNX(DYNhelp,1759) = (PushModelContext(1,"massFlowRate_dp_staticHead_Unique15:der(heater.flowModel.dps_fg[1], 995.586, 995.586, 0.001, 0.001, heater.pathLengths[1], heater.dimensions[1], 0.0, heater.crossAreas[1], heater.roughnesses[1], 0.5*heater.flowModel.dp_small, 4000.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0)")
      massFlowRatex_0dpx_0staticHeadx_0Unique15__der(DYNX(W_,293), 995.586, 
      995.586, 0.001, 0.001, DYNX(W_,313), DYNX(W_,246), 0.0, DYNX(W_,245), 
      DYNX(W_,247), DYNX(DYNhelp,1758), 4000.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 
      0.0, 0.0, 0.0, 0.0, 0.0, 0.0));
    PopModelContext();
    DYNX(DYNhelp,1760) = DYNX(W_,263)*DYNX(W_,245);
    DYNX(DYNhelp,1761) = divmacro(1.0,"1.0",DYNX(W_,263),"heater.flowModel.nParallel");
    DYNX(DYNhelp,1762) = 2.0*DYNX(W_,245);
    DYNX(DYNhelp,1763) = divmacro(1.0,"1.0",DYNX(DYNhelp,1762),"2.0*heater.crossAreas[1]");
    DYNX(DYNhelp,1764) = (PushModelContext(1,"massFlowRate_dp_staticHead_Unique15:der(heater.flowModel.dps_fg[2], 995.586, 995.586, 0.001, 0.001, heater.pathLengths[2], heater.dimensions[1], 0.0, heater.crossAreas[1], heater.roughnesses[1], 0.5*heater.flowModel.dp_small, 4000.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0)")
      massFlowRatex_0dpx_0staticHeadx_0Unique15__der(DYNX(W_,294), 995.586, 
      995.586, 0.001, 0.001, DYNX(W_,314), DYNX(W_,246), 0.0, DYNX(W_,245), 
      DYNX(W_,247), DYNX(DYNhelp,1758), 4000.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 
      0.0, 0.0, 0.0, 0.0, 0.0, 0.0));
    PopModelContext();
    DYNX(DYNhelp,1765) = DYNX(W_,263)*DYNX(DYNhelp,1764)*DYNX(DYNhelp,1760);
    DYNX(DYNhelp,1766) = 0.5*DYNX(W_,416);
    DYNX(DYNhelp,1767) = (PushModelContext(1,"massFlowRate_dp_staticHead_Unique15:der(radiator.flowModel.dps_fg[1], 995.586, 995.586, 0.001, 0.001, radiator.pathLengths[1], radiator.dimensions[1], 0.0, radiator.crossAreas[1], radiator.roughnesses[1], 0.5*radiator.flowModel.dp_small, 4000, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0)")
      massFlowRatex_0dpx_0staticHeadx_0Unique15__der(DYNX(W_,403), 995.586, 
      995.586, 0.001, 0.001, DYNX(W_,423), DYNX(W_,356), 0.0, DYNX(W_,355), 
      DYNX(W_,357), DYNX(DYNhelp,1766), 4000, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
       0.0, 0.0, 0.0, 0.0, 0.0));
    PopModelContext();
    DYNX(DYNhelp,1768) = DYNX(W_,373)*DYNX(W_,355);
    DYNX(DYNhelp,1769) = DYNX(W_,373)*DYNX(DYNhelp,1767)*DYNX(DYNhelp,1768);
    DYNX(DYNhelp,1770) = divmacro(1.0,"1.0",DYNX(W_,373),"radiator.flowModel.nParallel");
    DYNX(DYNhelp,1771) = 2.0*DYNX(W_,355);
    DYNX(DYNhelp,1772) = divmacro(DYNX(DYNhelp,1770)*(-2.0)*DYNX(DYNhelp,1769),
      "(-2.0)*(radiator.flowModel.nParallel*massFlowRate_dp_staticHead_Unique15:der(radiator.flowModel.dps_fg[1], 995.586, 995.586, 0.001, 0.001, radiator.pathLengths[1], radiator.dimensions[1], 0.0, radiator.crossAreas[1], radiator.roughnesses[1], 0.5*radiator.flowModel.dp_small, 4000, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0)*(radiator.flowModel.nParallel*radiator.crossAreas[1]))/r...",
      DYNX(DYNhelp,1771),"2.0*radiator.crossAreas[1]");
    DYNX(DYNhelp,1773) = divmacro(1.0,"1.0",DYNX(DYNhelp,1771),"2.0*radiator.crossAreas[1]");
    DYNX(DYNhelp,1774) = (PushModelContext(1,"massFlowRate_dp_staticHead_Unique15:der(radiator.flowModel.dps_fg[2], 995.586, 995.586, 0.001, 0.001, radiator.pathLengths[2], radiator.dimensions[1], 0.0, radiator.crossAreas[1], radiator.roughnesses[1], 0.5*radiator.flowModel.dp_small, 4000.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0)")
      massFlowRatex_0dpx_0staticHeadx_0Unique15__der(DYNX(W_,404), 995.586, 
      995.586, 0.001, 0.001, DYNX(W_,424), DYNX(W_,356), 0.0, DYNX(W_,355), 
      DYNX(W_,357), DYNX(DYNhelp,1766), 4000.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 
      0.0, 0.0, 0.0, 0.0, 0.0, 0.0));
    PopModelContext();
    DYNX(DYNhelp,1775) = DYNX(W_,373)*DYNX(DYNhelp,1774)*DYNX(DYNhelp,1768);
    DYNX(DYNhelp,1776) = DYNX(W_,484)+DYNX(W_,485);
    DYNX(DYNhelp,1777) = 0.5*DYNX(DYNhelp,1776);
    DYNX(DYNhelp,1778) = 0.5*(DYNX(W_,488)+DYNX(W_,489));
    DYNX(DYNhelp,1779) = (PushModelContext(1,"massFlowRate_dp_staticHead_Unique15:der(pipe.flowModel.dps_fg[1], 995.586, 995.586, 0.001, 0.001, 10.0, pipe.flowModel.diameters[1], 0.0, 0.5*(pipe.crossAreas[1]+pipe.crossAreas[2]), 0.5*(pipe.roughnesses[1]+pipe.roughnesses[2]), pipe.flowModel.dp_small, 4000, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0)")
      massFlowRatex_0dpx_0staticHeadx_0Unique15__der(DYNX(W_,528), 995.586, 
      995.586, 0.001, 0.001, 10.0, DYNX(W_,542), 0.0, DYNX(DYNhelp,1777), 
      DYNX(DYNhelp,1778), DYNX(W_,539), 4000, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
       0.0, 0.0, 0.0, 0.0, 0.0));
    PopModelContext();
    DYNX(DYNhelp,1780) = DYNX(W_,506)*DYNX(DYNhelp,1779)*DYNX(W_,506)*
      DYNX(DYNhelp,1776);
    DYNX(DYNhelp,1781) = divmacro(1.0,"1.0",DYNX(W_,506),"pipe.flowModel.nParallel");
    DYNX(DYNhelp,1782) = divmacro(1.0,"1.0",DYNX(DYNhelp,1776),"pipe.crossAreas[1]+pipe.crossAreas[2]");
    SetMatrixLeading(J, 1, 1, 6, IF DYNX(W_,90) THEN 1.0 ELSE IF DYNX(W_,92)
       THEN 1.0 ELSE 0.0);
    SetMatrixLeading(J, 1, 3, 6, DYNX(DYNhelp,1624)*DYNX(DYNhelp,1757));
    SetMatrixLeading(J, 2, 3, 6, DYNX(DYNhelp,1757));
    SetMatrixLeading(J, 2, 6, 6,  -DYNX(DYNhelp,1763)*DYNX(DYNhelp,1761)*(-2.0)*
      DYNX(W_,263)*DYNX(DYNhelp,1759)*DYNX(DYNhelp,1760));
    SetMatrixLeading(J, 3, 3, 6, DYNX(DYNhelp,1757));
    SetMatrixLeading(J, 3, 5, 6,  -DYNX(DYNhelp,1763)*DYNX(DYNhelp,1761)*(-2.0)*
      DYNX(DYNhelp,1765));
    SetMatrixLeading(J, 3, 6, 6,  -DYNX(DYNhelp,1763)*DYNX(DYNhelp,1761)*2.0*
      DYNX(DYNhelp,1765));
    SetMatrixLeading(J, 4, 2, 6,  -DYNX(DYNhelp,1772));
    SetMatrixLeading(J, 4, 3, 6, DYNX(DYNhelp,1757)-DYNX(DYNhelp,1772));
    SetMatrixLeading(J, 4, 4, 6,  -DYNX(DYNhelp,1773)*DYNX(DYNhelp,1770)*2.0*
      DYNX(DYNhelp,1769));
    SetMatrixLeading(J, 5, 1, 6,  -DYNX(DYNhelp,1773)*DYNX(DYNhelp,1770)*(-2.0)*
      DYNX(DYNhelp,1775));
    SetMatrixLeading(J, 5, 2, 6,  -DYNX(DYNhelp,1773)*DYNX(DYNhelp,1770)*2.0*
      DYNX(DYNhelp,1775));
    SetMatrixLeading(J, 5, 3, 6, DYNX(DYNhelp,1757));
    SetMatrixLeading(J, 6, 3, 6, DYNX(DYNhelp,1757));
    SetMatrixLeading(J, 6, 4, 6,  -DYNX(DYNhelp,1782)*DYNX(DYNhelp,1781)*(-1.0)*
      DYNX(DYNhelp,1780));
    SetMatrixLeading(J, 6, 5, 6,  -DYNX(DYNhelp,1782)*DYNX(DYNhelp,1781)*
      DYNX(DYNhelp,1780));
  }
  SetVector(b, 1,  -(DYNX(DYNhelp,1623)+DYNX(DYNhelp,1629)*31.55290794839677*
    DYNX(DYNhelp,1624)*DYNX(DYNhelp,1626)));
  SetVector(b, 2, DYNX(DYNhelp,1630));
  SetVector(b, 3, DYNX(DYNhelp,1630));
  SetVector(b, 4, DYNX(DYNhelp,1630));
  SetVector(b, 5, DYNX(DYNhelp,1630));
  SetVector(b, 6, DYNX(DYNhelp,1630));
  SetVector(y, 1, RememberSimple_(DYNX(W_,50), 13));
  SetVector(y, 2, RememberSimple_(DYNX(W_,582), 14));
  SetVector(y, 3, RememberSimple_(DYNX(W_,174), 15));
  SetVector(y, 4, RememberSimple_(DYNX(W_,606), 16));
  SetVector(y, 5, RememberSimple_(DYNX(W_,594), 17));
  SetVector(y, 6, RememberSimple_(DYNX(W_,570), 18));
  SolveLinearSystemOfEquations(J, b, y, 5);
  DYNX(W_,50) = GetVector(y, 1);
  DYNX(W_,582) = GetVector(y, 2);
  DYNX(W_,174) = GetVector(y, 3);
  DYNX(W_,606) = GetVector(y, 4);
  DYNX(W_,594) = GetVector(y, 5);
  DYNX(W_,570) = GetVector(y, 6);
  EndStaticLinearSystemOfEquations(J);
}
DYNX(W_,390) = DYNX(W_,373)*DYNX(W_,355)*(DYNX(W_,50)-DYNX(W_,582));
DYNX(W_,406) = DYNX(DYNhelp,1773)*DYNX(DYNhelp,1770)*(-2)*DYNX(W_,390);
DYNX(W_,165) = DYNX(W_,606)-DYNX(W_,174);
DYNX(W_,389) = DYNX(W_,373)*DYNX(W_,355)*(DYNX(W_,582)-DYNX(W_,165));
DYNX(W_,405) = DYNX(DYNhelp,1773)*DYNX(DYNhelp,1770)*(-2)*DYNX(W_,389);
DYNX(W_,519) = 0.5*DYNX(W_,506)*DYNX(DYNhelp,1776)*(DYNX(W_,606)-DYNX(W_,594));
DYNX(W_,529) = DYNX(DYNhelp,1782)*DYNX(DYNhelp,1781)*(-2)*DYNX(W_,519);
DYNX(W_,280) = DYNX(W_,263)*DYNX(W_,245)*(DYNX(W_,594)-DYNX(W_,570));
DYNX(W_,296) = DYNX(DYNhelp,1763)*DYNX(DYNhelp,1761)*(-2)*DYNX(W_,280);
DYNX(W_,279) = DYNX(W_,263)*DYNX(W_,245)*DYNX(W_,570);
DYNX(W_,295) = DYNX(DYNhelp,1763)*DYNX(DYNhelp,1761)*(-2)*DYNX(W_,279);
DYNX(DYNhelp,1783) = DYNX(W_,174)*DYNX(W_,173);
DYNX(W_,48) = DYNX(DYNhelp,1629)*31.55290794839677*(DYNX(DYNhelp,1626)+
  DYNX(DYNhelp,1751)*DYNX(W_,174))-DYNX(DYNhelp,1756)*15.776453974198384*
  DYNX(DYNhelp,1752)*DYNX(DYNhelp,1753)*DYNX(DYNhelp,1783);
 /* End of Equation Block */ 

 /* Linear system of equations to solve. */
/* Introducing 1 common subexpressions used in 0 expressions */
/* Of the common subexpressions 1 are reals, 0 are integers, and 0
   are booleans. */
DYNX(DYNhelp,1784) = IF DYNX(W_,91) THEN  -(DYNX(W_,86)+divmacro(0.5*(IF  -
  DYNX(W_,47) >= DYNX(W_,57) THEN 0.0010044335697769957*((DYNX(DP_,18)+divmacro(
  sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")-1)
  *DYNX(W_,80)*sqr(DYNX(W_,47))+2.0*(DYNX(DP_,18)+divmacro(sqr(DYNX(W_,82)),
  "tank.portAreas[2]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")-1)*DYNX(W_,78)*
  DYNX(W_,47)*DYNX(W_,48)) ELSE IF  -DYNX(W_,47) <=  -DYNX(W_,57) THEN divmacro(
  0.0010044335697769957*(1.0+DYNX(DP_,17)-divmacro(sqr(DYNX(W_,82)),
  "tank.portAreas[2]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2"))*sqr(DYNX(W_,47))*
  DYNX(W_,80),"0.0010044335697769957*((1.0+tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)*tank.ports[1].m_flow^2*der(tank.ports_penetration[2]))",
  sqr(DYNX(W_,78)),"tank.ports_penetration[2]^2")-divmacro(0.0020088671395539913
  *(1.0+DYNX(DP_,17)-divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(
  DYNX(W_,89)),"tank.vesselArea^2"))*DYNX(W_,47)*DYNX(W_,48),"0.0020088671395539913*((1.0+tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)*(tank.ports[1].m_flow*der(tank.ports[1].m_flow)))",
  DYNX(W_,78),"tank.ports_penetration[2]") ELSE IF 0.0010044335697769957*(
  DYNX(DP_,18)+divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),
  "tank.vesselArea^2")-1)*DYNX(W_,78) >= divmacro(0.0010044335697769957+
  0.0010044335697769957*(DYNX(DP_,17)-divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",
  sqr(DYNX(W_,89)),"tank.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)",
  DYNX(W_,78),"tank.ports_penetration[2]") THEN (PushModelContext(1,
  "Modelica.Fluid.Utilities.regSquare2.regSquare2_utility:der( -tank.ports[1].m_flow, tank.m_flow_small, 0.0010044335697769957*((tank.portsData[2].zeta_in+tank.portAreas[2]^2/tank.vesselArea^2-1)*tank.ports_penetration[2]), (0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2))/tank.ports_penetration[2], false, 1,  -der(tank.ports[1].m_flow...")
  Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility__der( -DYNX(W_,47), 
  DYNX(W_,57), 0.0010044335697769957*(DYNX(DP_,18)+divmacro(sqr(DYNX(W_,82)),
  "tank.portAreas[2]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")-1)*DYNX(W_,78), 
  divmacro(0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,17)-divmacro(
  sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")),
  "0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)",
  DYNX(W_,78),"tank.ports_penetration[2]"), false, 1,  -DYNX(W_,48), 0.0, 
  0.0010044335697769957*(DYNX(DP_,18)+divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",
  sqr(DYNX(W_,89)),"tank.vesselArea^2")-1)*DYNX(W_,80),  -divmacro((
  0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,17)-divmacro(sqr(
  DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")))*
  DYNX(W_,80),"(0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2))*der(tank.ports_penetration[2])",
  sqr(DYNX(W_,78)),"tank.ports_penetration[2]^2"), 0)) ELSE  -(PushModelContext(1,
  "Modelica.Fluid.Utilities.regSquare2.regSquare2_utility:der(tank.ports[1].m_flow, tank.m_flow_small, (0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2))/tank.ports_penetration[2], 0.0010044335697769957*((tank.portsData[2].zeta_in+tank.portAreas[2]^2/tank.vesselArea^2-1)*tank.ports_penetration[2]), false, 1, der(tank.ports[1].m_flow), 0...")
  Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility__der(DYNX(W_,47), 
  DYNX(W_,57), divmacro(0.0010044335697769957+0.0010044335697769957*(
  DYNX(DP_,17)-divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),
  "tank.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)",
  DYNX(W_,78),"tank.ports_penetration[2]"), 0.0010044335697769957*(DYNX(DP_,18)+
  divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),
  "tank.vesselArea^2")-1)*DYNX(W_,78), false, 1, DYNX(W_,48), 0.0,  -divmacro((
  0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,17)-divmacro(sqr(
  DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")))*
  DYNX(W_,80),"(0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2))*der(tank.ports_penetration[2])",
  sqr(DYNX(W_,78)),"tank.ports_penetration[2]^2"), 0.0010044335697769957*(
  DYNX(DP_,18)+divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),
  "tank.vesselArea^2")-1)*DYNX(W_,80), 0))),"0.5*smooth(1, smooth(1, (if noEvent( -tank.ports[1].m_flow >= tank.m_flow_small) then 0.0010044335697769957*((tank.portsData[2].zeta_in+tank.portAreas[2]^2/tank.vesselArea^2-1)*der(tank.ports_penetration[2])*tank.ports[1].m_flow^2+2.0*((tank.portsData[2].zeta_in+tank.portAreas[2]^2/tank.vesselArea^2-1)*tank.ports_penetration[2]*(tank.ports[1].m_flow*der(tank.ports[1].m_flow)))) else (if noEvent...",
  sqr(DYNX(W_,82)),"tank.portAreas[2]^2")) ELSE IF DYNX(W_,93) THEN  -
  DYNX(W_,86) ELSE  -DYNX(W_,48);
PopModelContext();
DYNX(W_,54) = RememberSimple_(DYNX(W_,54), 19);
SolveScalarLinear(IF DYNX(W_,91) THEN 1.0 ELSE IF DYNX(W_,93) THEN 1.0 ELSE 0.0,
  "(if tank.regularFlow[2] then 1.0 else (if tank.inFlow[2] then 1.0 else 0.0))",
    -DYNX(DYNhelp,1784)," -(if tank.regularFlow[2] then  -(der(tank.vessel_ps_static[2])+0.5*smooth(1, smooth(1, (if noEvent( -tank.ports[1].m_flow >= tank.m_flow_small) then 0.0010044335697769957*((tank.portsData[2].zeta_in+tank.portAreas[2]^2/tank.vesselArea^2-1)*der(tank.ports_penetration[2])*tank.ports[1].m_flow^2+2.0*((tank.portsData[2].zeta_in+tank.portAreas[2]^2/tank.vesselArea^2-1)*tank.ports_penetration[2]*(ta...",
   DYNX(W_,54),"der(tank.ports[2].p)");
 /* End of Equation Block */ 

DYNX(W_,59) = DYNX(W_,47)*(IF DYNX(W_,47) > 0.0 THEN DYNX(W_,163) ELSE 
  DYNX(W_,51));
DYNX(W_,60) =  -DYNX(W_,47)*(IF  -DYNX(W_,47) > 0.0 THEN DYNX(W_,96) ELSE 
  DYNX(W_,51));
DYNX(W_,71) = divmacro(0.0010044335697769957*DYNX(W_,47),"0.0010044335697769957*tank.ports[1].m_flow",
  DYNX(W_,81),"tank.portAreas[1]");
DYNX(W_,73) = DYNX(W_,47)*(0.5*DYNX(W_,71)*DYNX(W_,71)+DYNX(DP_,2)*DYNX(DP_,12));
DYNX(W_,72) = divmacro((-0.0010044335697769957)*DYNX(W_,47),"(-0.0010044335697769957)*tank.ports[1].m_flow",
  DYNX(W_,82),"tank.portAreas[2]");
DYNX(W_,74) =  -DYNX(W_,47)*(0.5*DYNX(W_,72)*DYNX(W_,72)+DYNX(DP_,2)*
  DYNX(DP_,16));
DYNX(W_,42) = DYNX(W_,59)+DYNX(W_,60)+DYNX(W_,73)+DYNX(W_,74);
if (NewParameters_) {
DYNX(DYNhelp,1785) = sqrtGuarded(DYNX(DP_,7)*3.141592653589793,"tank.crossArea*3.141592653589793");
}
DYNX(W_,63) = DYNX(DP_,7)+2.0*DYNX(DYNhelp,1785)*DYNX(W_,11);
DYNX(W_,43) = 10.0*DYNX(W_,63)*(DYNX(W_,66)-DYNX(W_,26));
DYNX(W_,38) = DYNX(W_,42)+DYNX(W_,43);
 /* Linear system of equations to solve. */
DYNX(W_,30) = RememberSimple_(DYNX(W_,30), 20);
SolveScalarLinear( -DYNX(W_,39)," -tank.m",  -DYNX(W_,38)," -der(tank.U)", 
  DYNX(W_,30),"der(tank.medium.u)");
 /* End of Equation Block */ 

DYNX(W_,27) = 0.0002390057361376673*DYNX(W_,30);
DYNX(W_,144) = 0.0010044335697769957*DYNX(W_,48);
DYNX(W_,146) = divmacro(DYNX(W_,144),"der(pump.V_flow)",DYNX(DP_,24),
  "pump.nParallel");
DYNX(W_,149) = 1.25*(DYNX(W_,140)*DYNX(W_,146)-DYNX(W_,54)*DYNX(W_,145));
DYNX(W_,128) =  -DYNX(W_,149)*DYNX(DP_,24);
DYNX(W_,52) = 4184*DYNX(W_,27);
 /* Linear system of equations to solve. */
DYNX(W_,97) = RememberSimple_(DYNX(W_,97), 21);
SolveScalarLinear(DYNX(W_,47),"tank.ports[1].m_flow",  -(DYNX(W_,128)-(
  DYNX(W_,48)*DYNX(W_,51)+DYNX(W_,47)*DYNX(W_,52))+DYNX(W_,48)*DYNX(W_,96)),
  " -(der(pump.Hb_flow)-(der(tank.ports[1].m_flow)*tank.ports[1].h_outflow+tank.ports[1].m_flow*der(tank.ports[1].h_outflow))+der(tank.ports[1].m_flow)*pump.port_a.h_outflow)",
   DYNX(W_,97),"der(pump.port_a.h_outflow)");
 /* End of Equation Block */ 

DYNX(W_,115) = 0.0002390057361376673*DYNX(W_,97);
DYNX(F_,5) = DYNX(W_,617)*DYNX(W_,54)+DYNX(W_,618)*DYNX(W_,50)+DYNX(W_,619)*
  DYNX(W_,165)+DYNX(W_,620)*DYNX(W_,582)+DYNX(W_,621)*DYNX(W_,38)+DYNX(W_,623)*
  DYNX(W_,27)+DYNX(W_,624)*DYNX(W_,12)+DYNX(W_,625)*DYNX(W_,115)+DYNX(W_,626)*
  DYNX(W_,195)+DYNX(W_,627)*DYNX(W_,606)+DYNX(W_,628)*DYNX(W_,594)+DYNX(W_,629)*
  DYNX(W_,570);
DYNX(F_,6) = DYNX(W_,630)*DYNX(W_,54)+DYNX(W_,631)*DYNX(W_,50)+DYNX(W_,632)*
  DYNX(W_,165)+DYNX(W_,633)*DYNX(W_,582)+DYNX(W_,634)*DYNX(W_,38)+DYNX(W_,636)*
  DYNX(W_,27)+DYNX(W_,637)*DYNX(W_,12)+DYNX(W_,638)*DYNX(W_,115)+DYNX(W_,639)*
  DYNX(W_,195)+DYNX(W_,640)*DYNX(W_,606)+DYNX(W_,641)*DYNX(W_,594)+DYNX(W_,642)*
  DYNX(W_,570);
DYNX(F_,7) = DYNX(W_,643)*DYNX(W_,54)+DYNX(W_,644)*DYNX(W_,50)+DYNX(W_,645)*
  DYNX(W_,165)+DYNX(W_,646)*DYNX(W_,582)+DYNX(W_,647)*DYNX(W_,38)+DYNX(W_,649)*
  DYNX(W_,27)+DYNX(W_,650)*DYNX(W_,12)+DYNX(W_,651)*DYNX(W_,115)+DYNX(W_,652)*
  DYNX(W_,195)+DYNX(W_,653)*DYNX(W_,606)+DYNX(W_,654)*DYNX(W_,594)+DYNX(W_,655)*
  DYNX(W_,570);
DYNX(W_,187) = DYNX(DP_,82)*DYNX(U_,1)+DYNX(DP_,83)*DYNX(W_,568);
DYNX(W_,208) = IF DYNX(W_,187) < DYNX(W_,207) THEN DYNX(W_,207) ELSE 
  DYNX(W_,187);
DYNX(W_,204) = divmacro(DYNX(W_,208),"valve.minLimiter.y",DYNX(DP_,50),
  "valve.filter.u_nominal");
DYNX(F_,0) = DYNX(W_,202)*(DYNX(X_,0)-DYNX(W_,204));
DYNX(W_,310) = DYNX(W_,96)*DYNX(W_,47);
DYNX(W_,311) = DYNX(W_,217)*DYNX(W_,47);
DYNX(W_,241) = DYNX(W_,310)-DYNX(W_,311);
DYNX(W_,312) = divmacro(divmacro(0.0010044335697769957*DYNX(W_,47),
  "0.0010044335697769957*tank.ports[1].m_flow",DYNX(W_,245),"heater.crossAreas[1]"),
  "0.0010044335697769957*tank.ports[1].m_flow/heater.crossAreas[1]",DYNX(DP_,55),
  "heater.nParallel");
DYNX(W_,242) = DYNX(DP_,55)*DYNX(W_,312)*DYNX(W_,245)*(DYNX(W_,593)-DYNX(DP_,31)
  +DYNX(W_,293)+DYNX(W_,294));
DYNX(W_,214) = DYNX(DP_,80)*DYNX(U_,0)+DYNX(DP_,81)*DYNX(W_,567);
DYNX(W_,215) =  -DYNX(W_,214)*(1+DYNX(DP_,53)*(DYNX(X_,1)-DYNX(DP_,52)));
DYNX(W_,237) = DYNX(W_,241)+DYNX(W_,242)-DYNX(W_,215);
 /* Linear system of equations to solve. */
DYNX(W_,574) = RememberSimple_(DYNX(W_,574), 22);
SolveScalarLinearParametric( -DYNX(W_,238)," -heater.ms[1]",  -DYNX(W_,237),
  " -der(heater.Us[1])", DYNX(W_,574),"der(heater.mediums[1].u)");
 /* End of Equation Block */ 

DYNX(F_,1) = 0.0002390057361376673*DYNX(W_,574);
DYNX(W_,544) = DYNX(W_,217)*DYNX(W_,47);
DYNX(W_,166) = 4184*(DYNX(X_,4)-273.15);
DYNX(W_,545) = DYNX(W_,443)*DYNX(W_,47);
DYNX(W_,475) = DYNX(W_,544)-DYNX(W_,545);
DYNX(W_,547) = divmacro(divmacro(0.0010044335697769957*DYNX(W_,47),
  "0.0010044335697769957*tank.ports[1].m_flow",DYNX(W_,484),"pipe.crossAreas[1]"),
  "0.0010044335697769957*tank.ports[1].m_flow/pipe.crossAreas[1]",DYNX(DP_,73),
  "pipe.nParallel");
DYNX(W_,479) = 0.5*DYNX(W_,547)*DYNX(W_,484)*(DYNX(W_,605)-DYNX(W_,593)+
  DYNX(W_,528))*DYNX(DP_,73);
DYNX(W_,467) = DYNX(W_,475)+DYNX(W_,479);
 /* Linear system of equations to solve. */
DYNX(W_,598) = RememberSimple_(DYNX(W_,598), 23);
SolveScalarLinearParametric( -DYNX(W_,469)," -pipe.ms[1]",  -DYNX(W_,467),
  " -der(pipe.Us[1])", DYNX(W_,598),"der(pipe.mediums[1].u)");
 /* End of Equation Block */ 

DYNX(F_,3) = 0.0002390057361376673*DYNX(W_,598);
DYNX(W_,546) = DYNX(W_,166)*DYNX(W_,47);
DYNX(W_,476) = DYNX(W_,545)-DYNX(W_,546);
DYNX(W_,548) = divmacro(divmacro(0.0010044335697769957*DYNX(W_,47),
  "0.0010044335697769957*tank.ports[1].m_flow",DYNX(W_,485),"pipe.crossAreas[2]"),
  "0.0010044335697769957*tank.ports[1].m_flow/pipe.crossAreas[2]",DYNX(DP_,73),
  "pipe.nParallel");
DYNX(W_,480) = 0.5*DYNX(W_,548)*DYNX(W_,485)*(DYNX(W_,605)-DYNX(W_,593)+
  DYNX(W_,528))*DYNX(DP_,73);
DYNX(W_,468) = DYNX(W_,476)+DYNX(W_,480);
 /* Linear system of equations to solve. */
DYNX(W_,610) = RememberSimple_(DYNX(W_,610), 24);
SolveScalarLinearParametric( -DYNX(W_,470)," -pipe.ms[2]",  -DYNX(W_,468),
  " -der(pipe.Us[2])", DYNX(W_,610),"der(pipe.mediums[2].u)");
 /* End of Equation Block */ 

DYNX(F_,4) = 0.0002390057361376673*DYNX(W_,610);
DYNX(W_,420) = DYNX(W_,166)*DYNX(W_,47);
DYNX(W_,421) = DYNX(W_,163)*DYNX(W_,47);
DYNX(W_,351) = DYNX(W_,420)-DYNX(W_,421);
DYNX(W_,422) = divmacro(divmacro(0.0010044335697769957*DYNX(W_,47),
  "0.0010044335697769957*tank.ports[1].m_flow",DYNX(W_,355),"radiator.crossAreas[1]"),
  "0.0010044335697769957*tank.ports[1].m_flow/radiator.crossAreas[1]",
  DYNX(DP_,64),"radiator.nParallel");
DYNX(W_,352) = DYNX(DP_,64)*DYNX(W_,422)*DYNX(W_,355)*(DYNX(W_,49)-DYNX(W_,164)+
  DYNX(W_,403)+DYNX(W_,404));
DYNX(W_,213) = DYNX(W_,211)-DYNX(X_,2);
DYNX(W_,212) =  -DYNX(DP_,51)*DYNX(W_,213);
DYNX(W_,347) = DYNX(W_,351)+DYNX(W_,352)-DYNX(W_,212);
 /* Linear system of equations to solve. */
DYNX(W_,586) = RememberSimple_(DYNX(W_,586), 25);
SolveScalarLinearParametric( -DYNX(W_,348)," -radiator.ms[1]",  -DYNX(W_,347),
  " -der(radiator.Us[1])", DYNX(W_,586),"der(radiator.mediums[1].u)");
 /* End of Equation Block */ 

DYNX(F_,2) = 0.0002390057361376673*DYNX(W_,586);

AcceptedSection1

AcceptedSection2
DYNX(Aux_,2) = DYNX(W_,51);
DYNX(Aux_,0) = DYNX(W_,163);
DYNX(Aux_,5) = DYNX(W_,217);
DYNX(Aux_,1) = DYNX(W_,443);
DYNX(W_,573) = 4184*(DYNX(X_,1)-273.15);
DYNX(W_,236) = DYNX(W_,238)*DYNX(W_,573);
DYNX(W_,597) = 4184*(DYNX(X_,3)-273.15);
DYNX(W_,465) = DYNX(W_,469)*DYNX(W_,597);
DYNX(W_,609) = 4184*(DYNX(X_,4)-273.15);
DYNX(W_,466) = DYNX(W_,470)*DYNX(W_,609);
DYNX(W_,585) = 4184*(DYNX(X_,2)-273.15);
DYNX(W_,346) = DYNX(W_,348)*DYNX(W_,585);
DYNX(W_,35) = DYNX(W_,26)-273.15;
DYNX(W_,117) = 4184*(DYNX(W_,114)-273.15);
DYNX(W_,122) = DYNX(W_,114)-273.15;
DYNX(W_,141) = divmacro(DYNX(W_,140),"pump.dp_pump",995.586*DYNX(W_,138),
  "995.586*pump.g");
DYNX(W_,142) = divmacro(DYNX(W_,47),"tank.ports[1].m_flow",DYNX(DP_,24),
  "pump.nParallel");
{ /* Non-linear system of equations to solve. */
/* Tag: simulation.nonlinear[2] */
/* Introducing 9 common subexpressions used in 2 expressions */
/* Of the common subexpressions 6 are record members, 3 are reals, 0
   are integers, and 0 are booleans. */
const char*const varnames_[]={"pump.N"};
const double nominal_[]={1};
NonLinearSystemOfEquationsNH(Jacobian__, residue__, x__, 1, 0, 1, 4, -2, 2, 
  DYNX(DYNhelp,1786), 39, DYNX(did_->helpvari_vec,203), 23);
NonLinearSystemSave(DYNX(W_,145), 0);
NonLinearSystemSave(DYNX(W_,141), 1);
SetInitVectorNH(x__, 1, DYNX(W_,147), Remember_(DYNX(W_,147), 26));
Residues;
DYNX(DYNhelp,1825) = divmacro(1.0,"1.0",DYNX(DP_,25),"pump.N_nominal");
DYNX(DYNhelp,1826) = divmacro(1.0,"1.0",DYNX(W_,147),"pump.N");
DYNX(DYNhelp,1827) = (PushModelContext(1,"pump.flowCharacteristic_Unique'\"pump\"'(pump.V_flow_single*pump.N_nominal/pump.N, {0, pump.V_flow_op, 1.5*pump.V_flow_op}, {2*pump.head_op, pump.head_op, 0})")
  pump_flowCharacteristicx_0Uniquez_0cchahfgnhacc(DYNX(DYNhelp,1826)*
  DYNX(W_,145)*DYNX(DP_,25), RealTemporaryDense(&(DYNX(DYNhelp,0)), 1, 3), 
  RealTemporaryDense(&(DYNX(DYNhelp,3)), 1, 3)));
PopModelContext();
SetVector(residue__, 1, DYNX(W_,141)-sqr(DYNX(DYNhelp,1825)*DYNX(W_,147))*
  DYNX(DYNhelp,1827));

{ /* No analytic Jacobian available*/
SolveNonLinearSystemOfEquationsNH(Jacobian__, 0, 0, 0, residue__, x__, 4, 
  "Tag: simulation.nonlinear[2]");
DYNX(W_,147) = GetVector(x__, 1);
EndNonLinearSystemOfEquationsNH(residue__, x__, 4);
 /* End of Non-Linear Equation Block */ }



DYNX(W_,154) = 273.15+0.0002390057361376673*DYNX(W_,51);
DYNX(W_,175) = 0.0010044335697769957*DYNX(W_,47);
DYNX(W_,178) = 273.15+0.0002390057361376673*DYNX(W_,166);
DYNX(W_,176) = IF DYNX(W_,47) > DYNX(W_,170) THEN DYNX(W_,178) ELSE IF 
  DYNX(W_,47) <  -DYNX(W_,170) THEN 273.15+0.0002390057361376673*DYNX(W_,163)
   ELSE IF DYNX(W_,170) > 0 THEN 136.575+divmacro(0.25*DYNX(W_,47)*(sqr(divmacro
  (DYNX(W_,47),"tank.ports[1].m_flow",DYNX(W_,170),"valve.m_flow_small"))-3)*(
  273.15+0.0002390057361376673*DYNX(W_,163)-DYNX(W_,178)),"0.25*(tank.ports[1].m_flow*((tank.ports[1].m_flow/valve.m_flow_small)^2-3)*(273.15+0.0002390057361376673*valve.port_a.h_outflow-valve.state_a.T))",
  DYNX(W_,170),"valve.m_flow_small")+0.5*(DYNX(W_,178)+0.0002390057361376673*
  DYNX(W_,163)) ELSE 136.575+0.5*(DYNX(W_,178)+0.0002390057361376673*
  DYNX(W_,163));
DYNX(W_,179) = 273.15+0.0002390057361376673*DYNX(W_,163);
DYNX(W_,177) = IF  -DYNX(W_,47) > DYNX(W_,170) THEN DYNX(W_,179) ELSE IF  -
  DYNX(W_,47) <  -DYNX(W_,170) THEN 273.15+0.0002390057361376673*DYNX(W_,166)
   ELSE IF DYNX(W_,170) > 0 THEN 136.575+divmacro((-0.25)*DYNX(W_,47)*(sqr(
  divmacro(DYNX(W_,47),"tank.ports[1].m_flow",DYNX(W_,170),"valve.m_flow_small"))
  -3)*(273.15+0.0002390057361376673*DYNX(W_,166)-DYNX(W_,179)),"(-0.25)*(tank.ports[1].m_flow*((tank.ports[1].m_flow/valve.m_flow_small)^2-3)*(273.15+0.0002390057361376673*valve.port_b.h_outflow-valve.state_b.T))",
  DYNX(W_,170),"valve.m_flow_small")+0.5*(DYNX(W_,179)+0.0002390057361376673*
  DYNX(W_,166)) ELSE 136.575+0.5*(DYNX(W_,179)+0.0002390057361376673*
  DYNX(W_,166));
DYNX(W_,259) = 273.15+0.0002390057361376673*DYNX(W_,96);
DYNX(W_,260) = 273.15+0.0002390057361376673*DYNX(W_,443);
DYNX(W_,273) = DYNX(W_,47)*DYNX(W_,313);
DYNX(W_,274) = DYNX(W_,47)*DYNX(W_,314);
DYNX(W_,317) = divmacro(divmacro(0.0010044335697769957*DYNX(W_,47),
  "0.0010044335697769957*tank.ports[1].m_flow",DYNX(W_,245),"heater.crossAreas[1]"),
  "0.0010044335697769957*tank.ports[1].m_flow/heater.crossAreas[1]",DYNX(DP_,55),
  "heater.nParallel");
DYNX(W_,318) = divmacro(divmacro(0.0010044335697769957*DYNX(W_,47),
  "0.0010044335697769957*tank.ports[1].m_flow",DYNX(W_,245),"heater.crossAreas[1]"),
  "0.0010044335697769957*tank.ports[1].m_flow/heater.crossAreas[1]",DYNX(DP_,55),
  "heater.nParallel");
DYNX(W_,369) = 273.15+0.0002390057361376673*DYNX(W_,166);
DYNX(W_,370) = 273.15+0.0002390057361376673*DYNX(W_,51);
DYNX(W_,383) = DYNX(W_,47)*DYNX(W_,423);
DYNX(W_,384) = DYNX(W_,47)*DYNX(W_,424);
DYNX(W_,427) = divmacro(divmacro(0.0010044335697769957*DYNX(W_,47),
  "0.0010044335697769957*tank.ports[1].m_flow",DYNX(W_,355),"radiator.crossAreas[1]"),
  "0.0010044335697769957*tank.ports[1].m_flow/radiator.crossAreas[1]",
  DYNX(DP_,64),"radiator.nParallel");
DYNX(W_,428) = divmacro(divmacro(0.0010044335697769957*DYNX(W_,47),
  "0.0010044335697769957*tank.ports[1].m_flow",DYNX(W_,355),"radiator.crossAreas[1]"),
  "0.0010044335697769957*tank.ports[1].m_flow/radiator.crossAreas[1]",
  DYNX(DP_,64),"radiator.nParallel");
DYNX(W_,502) = 273.15+0.0002390057361376673*DYNX(W_,217);
DYNX(W_,503) = 273.15+0.0002390057361376673*DYNX(W_,163);
DYNX(W_,516) = 10.0*DYNX(W_,47);
DYNX(W_,579) = DYNX(X_,1)-273.15;
DYNX(W_,580) = 1E-05*DYNX(W_,569);
DYNX(W_,591) = DYNX(X_,2)-273.15;
DYNX(W_,592) = 1E-05*DYNX(W_,581);
DYNX(W_,603) = DYNX(X_,3)-273.15;
DYNX(W_,604) = 1E-05*DYNX(W_,593);
DYNX(W_,615) = DYNX(X_,4)-273.15;
DYNX(W_,616) = 1E-05*DYNX(W_,605);

DefaultSection
/* Check that differentiated if-then-else clauses are continuous */
CheckContinuousIf(IF DYNX(W_,91) THEN DYNX(W_,53)-homotopy(DYNX(W_,84)+divmacro(
  0.5*(IF  -DYNX(W_,47) >= DYNX(W_,57) THEN 0.0010044335697769957*(DYNX(DP_,18)+
  divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),
  "tank.vesselArea^2")-1)*DYNX(W_,78)*sqr(DYNX(W_,47)) ELSE IF  -DYNX(W_,47) <= 
   -DYNX(W_,57) THEN  -divmacro(0.0010044335697769957*(1.0+DYNX(DP_,17)-divmacro
  (sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2"))
  *sqr(DYNX(W_,47)),"0.0010044335697769957*((1.0+tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)*tank.ports[1].m_flow^2)",
  DYNX(W_,78),"tank.ports_penetration[2]") ELSE IF 0.0010044335697769957*(
  DYNX(DP_,18)+divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),
  "tank.vesselArea^2")-1)*DYNX(W_,78) >= divmacro(0.0010044335697769957+
  0.0010044335697769957*(DYNX(DP_,17)-divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",
  sqr(DYNX(W_,89)),"tank.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)",
  DYNX(W_,78),"tank.ports_penetration[2]") THEN (PushModelContext(1,
  "Modelica.Fluid.Utilities.regSquare2.regSquare2_utility( -tank.ports[1].m_flow, tank.m_flow_small, 0.0010044335697769957*((tank.portsData[2].zeta_in+tank.portAreas[2]^2/tank.vesselArea^2-1)*tank.ports_penetration[2]), (0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2))/tank.ports_penetration[2], false, 1)")
  Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility( -DYNX(W_,47), 
  DYNX(W_,57), 0.0010044335697769957*(DYNX(DP_,18)+divmacro(sqr(DYNX(W_,82)),
  "tank.portAreas[2]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")-1)*DYNX(W_,78), 
  divmacro(0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,17)-divmacro(
  sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")),
  "0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)",
  DYNX(W_,78),"tank.ports_penetration[2]"), false, 1)) ELSE  -(PushModelContext(1,
  "Modelica.Fluid.Utilities.regSquare2.regSquare2_utility(tank.ports[1].m_flow, tank.m_flow_small, (0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2))/tank.ports_penetration[2], 0.0010044335697769957*((tank.portsData[2].zeta_in+tank.portAreas[2]^2/tank.vesselArea^2-1)*tank.ports_penetration[2]), false, 1)")
  Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility(DYNX(W_,47), 
  DYNX(W_,57), divmacro(0.0010044335697769957+0.0010044335697769957*(
  DYNX(DP_,17)-divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),
  "tank.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)",
  DYNX(W_,78),"tank.ports_penetration[2]"), 0.0010044335697769957*(DYNX(DP_,18)+
  divmacro(sqr(DYNX(W_,82)),"tank.portAreas[2]^2",sqr(DYNX(W_,89)),
  "tank.vesselArea^2")-1)*DYNX(W_,78), false, 1))),"0.5*smooth(2, smooth(2, (if noEvent( -tank.ports[1].m_flow >= tank.m_flow_small) then 0.0010044335697769957*((tank.portsData[2].zeta_in+tank.portAreas[2]^2/tank.vesselArea^2-1)*tank.ports_penetration[2]*tank.ports[1].m_flow^2) else (if noEvent( -tank.ports[1].m_flow <=  -tank.m_flow_small) then  -0.0010044335697769957*((1.0+tank.portsData[2].zeta_out-tank.portAreas[2]^2/tank.vesselArea^2)*tank....",
  sqr(DYNX(W_,82)),"tank.portAreas[2]^2"), DYNX(W_,84)) ELSE IF DYNX(W_,93)
   THEN DYNX(W_,53)-DYNX(W_,84) ELSE  -DYNX(W_,47),"(if tank.regularFlow[2] then tank.ports[2].p-homotopy(tank.vessel_ps_static[2]+0.5*smooth(2, smooth(2, (if noEvent( -tank.ports[1].m_flow >= tank.m_flow_small) then 0.0010044335697769957*((tank.portsData[2].zeta_in+tank.portAreas[2]^2/tank.vesselArea^2-1)*tank.ports_penetration[2]*tank.ports[1].m_flow^2) else (if noEvent( -tank.ports[1].m_flow <=  -tank.m_flow_small) then  -0.001004433569776995...",
   0);
CheckContinuousIf(IF DYNX(W_,90) THEN DYNX(W_,49)-homotopy(DYNX(W_,83)+divmacro(
  0.5*(IF DYNX(W_,47) >= DYNX(W_,57) THEN 0.0010044335697769957*(DYNX(DP_,14)+
  divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
  "tank.vesselArea^2")-1)*DYNX(W_,77)*sqr(DYNX(W_,47)) ELSE IF DYNX(W_,47) <=  -
  DYNX(W_,57) THEN  -divmacro(0.0010044335697769957*(1.0+DYNX(DP_,13)-divmacro(
  sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2"))*
  sqr(DYNX(W_,47)),"0.0010044335697769957*((1.0+tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)*tank.ports[1].m_flow^2)",
  DYNX(W_,77),"tank.ports_penetration[1]") ELSE IF 0.0010044335697769957*(
  DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
  "tank.vesselArea^2")-1)*DYNX(W_,77) >= divmacro(0.0010044335697769957+
  0.0010044335697769957*(DYNX(DP_,13)-divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",
  sqr(DYNX(W_,89)),"tank.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)",
  DYNX(W_,77),"tank.ports_penetration[1]") THEN (PushModelContext(1,
  "Modelica.Fluid.Utilities.regSquare2.regSquare2_utility(tank.ports[1].m_flow, tank.m_flow_small, 0.0010044335697769957*((tank.portsData[1].zeta_in+tank.portAreas[1]^2/tank.vesselArea^2-1)*tank.ports_penetration[1]), (0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2))/tank.ports_penetration[1], false, 1)")
  Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility(DYNX(W_,47), 
  DYNX(W_,57), 0.0010044335697769957*(DYNX(DP_,14)+divmacro(sqr(DYNX(W_,81)),
  "tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")-1)*DYNX(W_,77), 
  divmacro(0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,13)-divmacro(
  sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),"tank.vesselArea^2")),
  "0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)",
  DYNX(W_,77),"tank.ports_penetration[1]"), false, 1)) ELSE  -(PushModelContext(1,
  "Modelica.Fluid.Utilities.regSquare2.regSquare2_utility( -tank.ports[1].m_flow, tank.m_flow_small, (0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2))/tank.ports_penetration[1], 0.0010044335697769957*((tank.portsData[1].zeta_in+tank.portAreas[1]^2/tank.vesselArea^2-1)*tank.ports_penetration[1]), false, 1)")
  Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility( -DYNX(W_,47), 
  DYNX(W_,57), divmacro(0.0010044335697769957+0.0010044335697769957*(
  DYNX(DP_,13)-divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
  "tank.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)",
  DYNX(W_,77),"tank.ports_penetration[1]"), 0.0010044335697769957*(DYNX(DP_,14)+
  divmacro(sqr(DYNX(W_,81)),"tank.portAreas[1]^2",sqr(DYNX(W_,89)),
  "tank.vesselArea^2")-1)*DYNX(W_,77), false, 1))),"0.5*smooth(2, smooth(2, (if noEvent(tank.ports[1].m_flow >= tank.m_flow_small) then 0.0010044335697769957*((tank.portsData[1].zeta_in+tank.portAreas[1]^2/tank.vesselArea^2-1)*tank.ports_penetration[1]*tank.ports[1].m_flow^2) else (if noEvent(tank.ports[1].m_flow <=  -tank.m_flow_small) then  -0.0010044335697769957*((1.0+tank.portsData[1].zeta_out-tank.portAreas[1]^2/tank.vesselArea^2)*tank.port...",
  sqr(DYNX(W_,81)),"tank.portAreas[1]^2"), DYNX(W_,83)) ELSE IF DYNX(W_,92)
   THEN DYNX(W_,49)-DYNX(W_,83) ELSE DYNX(W_,47),"(if tank.regularFlow[1] then tank.ports[1].p-homotopy(tank.vessel_ps_static[1]+0.5*smooth(2, smooth(2, (if noEvent(tank.ports[1].m_flow >= tank.m_flow_small) then 0.0010044335697769957*((tank.portsData[1].zeta_in+tank.portAreas[1]^2/tank.vesselArea^2-1)*tank.ports_penetration[1]*tank.ports[1].m_flow^2) else (if noEvent(tank.ports[1].m_flow <=  -tank.m_flow_small) then  -0.0010044335697769957*((...",
   1);
InitializeData(1)
EndTranslatedEquations

#include <dsblock6.c>

PreNonAliasNew(0)
StartNonAlias(0)
DeclareParameter("system.p_ambient", "Default ambient pressure [Pa|bar]", 0, 101325,\
 0.0,1E+100,100000.0,0,560)
DeclareParameter("system.T_ambient", "Default ambient temperature [K|degC]", 1, \
293.15, 0.0,1E+100,300.0,0,560)
DeclareParameter("system.g", "Constant gravity acceleration [m/s2]", 2, 9.80665,\
 0.0,0.0,0.0,0,560)
DeclareVariable("system.allowFlowReversal", "= false to restrict to design flow direction (port_a -> port_b) [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareVariable("system.energyDynamics", "Default formulation of energy balances [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 3, 1.0,4.0,0.0,0,517)
DeclareVariable("system.massDynamics", "Default formulation of mass balances [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 3, 1.0,4.0,0.0,0,517)
DeclareVariable("system.substanceDynamics", "Default formulation of substance balances [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 3, 1.0,4.0,0.0,0,517)
DeclareVariable("system.traceDynamics", "Default formulation of trace substance balances [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 3, 1.0,4.0,0.0,0,517)
DeclareVariable("system.momentumDynamics", "Default formulation of momentum balances, if options available [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 4, 1.0,4.0,0.0,0,517)
DeclareVariable("system.m_flow_start", "Default start value for mass flow rates [kg/s]",\
 0, 0.0,0.0,0.0,0,513)
DeclareVariable("system.p_start", "Default start value for pressures [Pa|bar]", \
0.0, 0.0,1E+100,100000.0,0,513)
DeclareVariable("system.T_start", "Default start value for temperatures [K|degC]",\
 288.15, 0.0,1E+100,300.0,0,513)
DeclareVariable("system.use_eps_Re", "= true to determine turbulent region automatically using Reynolds number [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,515)
DeclareVariable("system.m_flow_nominal", "Default nominal mass flow rate [kg/s]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareParameter("system.eps_m_flow", "Regularization of zero flow for |m_flow| < eps_m_flow*m_flow_nominal",\
 3, 0.0001, 0.0,1E+100,0.0,0,560)
DeclareParameter("system.dp_small", "Default small pressure drop for regularization of laminar and zero flow [Pa|bar]",\
 4, 1, 0.0,1E+100,100000.0,0,560)
DeclareParameter("system.m_flow_small", "Default small mass flow rate for regularization of laminar and zero flow [kg/s]",\
 5, 0.0001, 0.0,1E+100,0.0,0,560)
DeclareVariable("tank.level", "Level height of tank [m]", 0.0, 0.0,1E+100,0.0,0,512)
DeclareVariable("tank.der(level)", "der(Level height of tank) [m/s]", 0.0, \
0.0,0.0,0.0,0,513)
DeclareVariable("tank.V", "Actual tank volume [m3]", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank.der(V)", "der(Actual tank volume) [m3/s]", 0.0, 0.0,0.0,\
0.0,0,513)
DeclareParameter("tank.height", "Height of tank [m]", 6, 2, 0.0,1E+100,0.0,0,560)
DeclareParameter("tank.crossArea", "Area of tank [m2]", 7, 0.01, 0.0,0.0,0.0,0,560)
DeclareVariable("tank.p_ambient", "Tank surface pressure [Pa|bar]", 100000.0, \
0.0,100000000.0,100000.0,0,513)
DeclareVariable("tank.T_ambient", "Tank surface Temperature [K|degC]", 288.15, \
1.0,10000.0,300.0,0,513)
DeclareParameter("tank.level_start", "Start value of tank level [m]", 8, 1, 0.0,\
1E+100,0.0,0,560)
DeclareAlias2("tank.fluidVolume", "Volume [m3]", "tank.V", 1, 5, 13, 0)
DeclareVariable("tank.energyDynamics", "Formulation of energy balance [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 3, 1.0,4.0,0.0,0,517)
DeclareVariable("tank.massDynamics", "Formulation of mass balance [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 2, 1.0,4.0,0.0,0,517)
DeclareVariable("tank.substanceDynamics", "Formulation of substance balance [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 2, 1.0,4.0,0.0,0,517)
DeclareVariable("tank.traceDynamics", "Formulation of trace substance balance [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 2, 1.0,4.0,0.0,0,517)
DeclareVariable("tank.p_start", "Start value of pressure [Pa|bar]", 100000.0, \
0.0,100000000.0,100000.0,0,513)
DeclareVariable("tank.use_T_start", "= true, use T_start, otherwise h_start [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareParameter("tank.T_start", "Start value of temperature [K|degC]", 9, \
293.15, 1.0,10000.0,300.0,0,560)
DeclareVariable("tank.h_start", "Start value of specific enthalpy [J/kg]", 0.0, \
-10000000000.0,10000000000.0,1000000.0,0,513)
DeclareParameter("tank.X_start[1]", "Start value of mass fractions m_i/m [kg/kg]",\
 10, 1.0, 0.0,1.0,0.1,0,560)
DeclareVariable("tank.medium.p", "Absolute pressure of medium [Pa|bar]", 0.0, \
0.0,1E+100,100000.0,0,513)
DeclareAlias2("tank.medium.h", "Specific enthalpy of medium [J/kg]", \
"tank.ports[1].h_outflow", 1, 5, 51, 0)
DeclareVariable("tank.medium.d", "Density of medium [kg/m3|g/cm3]", 995.586, 0.0,\
100000.0,1.0,0,513)
DeclareVariable("tank.medium.T", "Temperature of medium [K|degC]", 300.0, 1.0,\
10000.0,300.0,0,512)
DeclareVariable("tank.medium.der(T)", "der(Temperature of medium) [K/s]", 0.0, \
0.0,0.0,0.0,0,512)
DeclareVariable("tank.medium.X[1]", "Mass fractions (= (component mass)/total mass  m_i/m) [kg/kg]",\
 1.0, 0.0,1.0,0.1,0,513)
DeclareVariable("tank.medium.u", "Specific internal energy of medium [J/kg]", \
0.0, -100000000.0,100000000.0,1000000.0,0,512)
DeclareVariable("tank.medium.der(u)", "der(Specific internal energy of medium) [m2/s3]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank.medium.R", "Gas constant (of mixture if applicable) [J/(kg.K)]",\
 0, 0.0,10000000.0,1000.0,0,513)
DeclareVariable("tank.medium.MM", "Molar mass (of mixture or single fluid) [kg/mol]",\
 0.018015268, 0.001,0.25,0.032,0,513)
DeclareAlias2("tank.medium.state.p", "Absolute pressure of medium [Pa|bar]", \
"tank.p_ambient", 1, 5, 15, 0)
DeclareAlias2("tank.medium.state.T", "Temperature of medium [K|degC]", \
"tank.medium.T", 1, 5, 26, 0)
DeclareVariable("tank.medium.preferredMediumStates", "= true if StateSelect.prefer shall be used for the independent property variables of the medium [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareVariable("tank.medium.standardOrderComponents", "If true, and reducedX = true, the last element of X will be computed from the other ones [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareVariable("tank.medium.T_degC", "Temperature of medium in [degC] [degC;]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank.medium.p_bar", "Absolute pressure of medium in [bar] [bar]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("tank.U", "Internal energy of fluid [J]", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank.der(U)", "der(Internal energy of fluid) [W]", 0.0, \
0.0,0.0,0.0,0,512)
DeclareVariable("tank.m", "Mass of fluid [kg]", 0.0, 0.0,1E+100,0.0,0,512)
DeclareVariable("tank.der(m)", "der(Mass of fluid) [kg/s]", 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("tank.mb_flow", "Mass flows across boundaries [kg/s]", 0.0, \
0.0,0.0,0.0,0,513)
DeclareVariable("tank.Hb_flow", "Enthalpy flow across boundaries or energy source/sink [W]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank.Qb_flow", "Heat flow across boundaries or energy source/sink [W]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank.Wb_flow", "Work flow across boundaries or source term [W]",\
 0, 0.0,0.0,0.0,0,513)
DeclareVariable("tank.initialize_p", "= true to set up initial equations for pressure [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,2563)
DeclareVariable("tank.nPorts", "Number of ports [:#(type=Integer)]", 2, 0.0,0.0,\
0.0,0,517)
DeclareVariable("tank.ports[1].m_flow", "Mass flow rate from the connection point into the component [kg/s]",\
 0.0, -0.0,100000.0,0.0,0,776)
DeclareVariable("tank.ports[1].der(m_flow)", "der(Mass flow rate from the connection point into the component) [kg/s2]",\
 0.0, 0.0,0.0,0.0,0,520)
DeclareVariable("tank.ports[1].p", "Thermodynamic pressure in the connection point [Pa|bar]",\
 100000.0, 0.0,100000000.0,100000.0,0,584)
DeclareVariable("tank.ports[1].der(p)", "der(Thermodynamic pressure in the connection point) [Pa/s]",\
 0.0, 0.0,0.0,0.0,0,520)
DeclareVariable("tank.ports[1].h_outflow", "Specific thermodynamic enthalpy close to the connection point if m_flow < 0 [J/kg]",\
 0.0, -10000000000.0,10000000000.0,1000000.0,0,520)
DeclareVariable("tank.ports[1].der(h_outflow)", "der(Specific thermodynamic enthalpy close to the connection point if m_flow < 0) [m2/s3]",\
 0.0, 0.0,0.0,0.0,0,520)
DeclareAlias2("tank.ports[2].m_flow", "Mass flow rate from the connection point into the component [kg/s]",\
 "tank.ports[1].m_flow", -1, 5, 47, 132)
DeclareVariable("tank.ports[2].p", "Thermodynamic pressure in the connection point [Pa|bar]",\
 100000.0, 0.0,100000000.0,100000.0,0,520)
DeclareVariable("tank.ports[2].der(p)", "der(Thermodynamic pressure in the connection point) [Pa/s]",\
 0.0, 0.0,0.0,0.0,0,520)
DeclareAlias2("tank.ports[2].h_outflow", "Specific thermodynamic enthalpy close to the connection point if m_flow < 0 [J/kg]",\
 "tank.ports[1].h_outflow", 1, 5, 51, 4)
DeclareVariable("tank.use_portsData", "= false to neglect pressure loss and kinetic energy [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareParameter("tank.portsData[1].diameter", "Inner (hydraulic) diameter of inlet/outlet port [m]",\
 11, 0.01, 0.0,1E+100,0.0,0,560)
DeclareParameter("tank.portsData[1].height", "Height over the bottom of the vessel [m]",\
 12, 0.0, 0.0,1E+100,0.0,0,560)
DeclareParameter("tank.portsData[1].zeta_out", "Hydraulic resistance out of vessel, default 0.5 for small diameter mounted flush with the wall",\
 13, 0.5, 0.0,1E+100,0.0,0,560)
DeclareParameter("tank.portsData[1].zeta_in", "Hydraulic resistance into vessel, default 1.04 for small diameter mounted flush with the wall",\
 14, 1.04, 0.0,1E+100,0.0,0,560)
DeclareParameter("tank.portsData[2].diameter", "Inner (hydraulic) diameter of inlet/outlet port [m]",\
 15, 0.01, 0.0,1E+100,0.0,0,560)
DeclareParameter("tank.portsData[2].height", "Height over the bottom of the vessel [m]",\
 16, 0.0, 0.0,1E+100,0.0,0,560)
DeclareParameter("tank.portsData[2].zeta_out", "Hydraulic resistance out of vessel, default 0.5 for small diameter mounted flush with the wall",\
 17, 0.5, 0.0,1E+100,0.0,0,560)
DeclareParameter("tank.portsData[2].zeta_in", "Hydraulic resistance into vessel, default 1.04 for small diameter mounted flush with the wall",\
 18, 1.04, 0.0,1E+100,0.0,0,560)
DeclareVariable("tank.m_flow_nominal", "Nominal value for mass flow rates in ports [kg/s]",\
 0.0, -100000.0,100000.0,0.0,0,513)
DeclareVariable("tank.m_flow_small", "Regularization range at zero mass flow rate [kg/s]",\
 0.0, 0.0,1E+100,0.0,0,513)
DeclareVariable("tank.use_Re", "= true, if turbulent region is defined by Re, otherwise by m_flow_small [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,515)
DeclareVariable("tank.ports_H_flow[1]", "[W]", 0.0, -100000000.0,100000000.0,\
1000.0,0,512)
DeclareVariable("tank.ports_H_flow[2]", "[W]", 0.0, -100000000.0,100000000.0,\
1000.0,0,512)
DeclareVariable("tank.use_HeatTransfer", "= true to use the HeatTransfer model [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareVariable("tank.heatTransfer.n", "Number of heat transfer segments [:#(type=Integer)]",\
 1, 0.0,0.0,0.0,0,517)
DeclareAlias2("tank.heatTransfer.states[1].p", "Absolute pressure of medium [Pa|bar]",\
 "tank.p_ambient", 1, 5, 15, 0)
DeclareAlias2("tank.heatTransfer.states[1].T", "Temperature of medium [K|degC]",\
 "tank.medium.T", 1, 5, 26, 0)
DeclareVariable("tank.heatTransfer.surfaceAreas[1]", "Heat transfer areas [m2]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareAlias2("tank.heatTransfer.Q_flows[1]", "Heat flow rates [W]", \
"tank.Qb_flow", 1, 5, 43, 0)
DeclareVariable("tank.heatTransfer.use_k", "= true to use k value for thermal isolation [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareVariable("tank.heatTransfer.k", "Heat transfer coefficient to ambient [W/(m2.K)]",\
 10, 0.0,0.0,0.0,0,513)
DeclareVariable("tank.heatTransfer.T_ambient", "Ambient temperature [K|degC]", \
288.15, 0.0,1E+100,300.0,0,513)
DeclareAlias2("tank.heatTransfer.heatPorts[1].T", "Port temperature [K|degC]", \
"tank.medium.T", 1, 5, 26, 4)
DeclareVariable("tank.heatTransfer.heatPorts[1].Q_flow", "Heat flow rate (positive if flowing from outside into the component) [W]",\
 0.0, 0.0,0.0,0.0,0,777)
DeclareAlias2("tank.heatTransfer.Ts[1]", "Temperatures defined by fluid states [K|degC]",\
 "tank.medium.T", 1, 5, 26, 0)
DeclareAlias2("tank.heatPort.T", "Port temperature [K|degC]", "tank.medium.T", 1,\
 5, 26, 4)
DeclareVariable("tank.heatPort.Q_flow", "Heat flow rate (positive if flowing from outside into the component) [W]",\
 0.0, 0.0,0.0,0.0,0,777)
DeclareVariable("tank.portInDensities[1]", "densities of the fluid at the device boundary [kg/m3|g/cm3]",\
 995.586, 0.0,100000.0,1.0,0,513)
DeclareVariable("tank.portInDensities[2]", "densities of the fluid at the device boundary [kg/m3|g/cm3]",\
 995.586, 0.0,100000.0,1.0,0,513)
DeclareVariable("tank.portVelocities[1]", "velocities of fluid flow at device boundary [m/s]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank.portVelocities[2]", "velocities of fluid flow at device boundary [m/s]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank.ports_E_flow[1]", "flow of kinetic and potential energy at device boundary [W]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank.ports_E_flow[2]", "flow of kinetic and potential energy at device boundary [W]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank.s[1]", "curve parameters for port flows vs. port pressures; for further details see, Modelica Tutorial: Ideal switching devices",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank.s[2]", "curve parameters for port flows vs. port pressures; for further details see, Modelica Tutorial: Ideal switching devices",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank.ports_penetration[1]", "penetration of port with fluid, depending on fluid level and port diameter",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank.ports_penetration[2]", "penetration of port with fluid, depending on fluid level and port diameter",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank.der(ports_penetration[1])", "der(penetration of port with fluid, depending on fluid level and port diameter)",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank.der(ports_penetration[2])", "der(penetration of port with fluid, depending on fluid level and port diameter)",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank.portAreas[1]", "[m2]", 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("tank.portAreas[2]", "[m2]", 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("tank.vessel_ps_static[1]", "static pressures inside the vessel at the height of the corresponding ports, zero flow velocity [Pa|bar]",\
 100000.0, 0.0,100000000.0,100000.0,0,512)
DeclareVariable("tank.vessel_ps_static[2]", "static pressures inside the vessel at the height of the corresponding ports, zero flow velocity [Pa|bar]",\
 100000.0, 0.0,100000000.0,100000.0,0,512)
DeclareVariable("tank.der(vessel_ps_static[1])", "der(static pressures inside the vessel at the height of the corresponding ports, zero flow velocity) [Pa/s]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank.der(vessel_ps_static[2])", "der(static pressures inside the vessel at the height of the corresponding ports, zero flow velocity) [Pa/s]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank.Re_turbulent", "cf. suddenExpansion [1]", 100, 0.0,0.0,0.0,\
0,513)
DeclareAlias2("tank.m_flow_turbulent[1]", "[kg/s]", "tank.m_flow_small", 1, 5, 57,\
 0)
DeclareAlias2("tank.m_flow_turbulent[2]", "[kg/s]", "tank.m_flow_small", 1, 5, 57,\
 0)
DeclareAlias2("tank.fluidLevel", "level of fluid in the vessel for treating heights of ports [m]",\
 "tank.level", 1, 5, 11, 1024)
DeclareVariable("tank.fluidLevel_max", "maximum level of fluid in the vessel [m]",\
 0.0, 0.0,1E+100,0.0,0,2561)
DeclareVariable("tank.vesselArea", "Area of the vessel used to relate to cross flow area of ports [m2]",\
 0.0, 0.0,0.0,0.0,0,2561)
DeclareAlias2("tank.portsData_diameter_internal[1]", "", "tank.portsData[1].diameter", 1,\
 7, 11, 1024)
DeclareAlias2("tank.portsData_diameter_internal[2]", "", "tank.portsData[2].diameter", 1,\
 7, 15, 1024)
DeclareAlias2("tank.portsData_height_internal[1]", "", "tank.portsData[1].height", 1,\
 7, 12, 1024)
DeclareAlias2("tank.portsData_height_internal[2]", "", "tank.portsData[2].height", 1,\
 7, 16, 1024)
DeclareAlias2("tank.portsData_zeta_in_internal[1]", "", "tank.portsData[1].zeta_in", 1,\
 7, 14, 1024)
DeclareAlias2("tank.portsData_zeta_in_internal[2]", "", "tank.portsData[2].zeta_in", 1,\
 7, 18, 1024)
DeclareAlias2("tank.portsData_zeta_out_internal[1]", "", "tank.portsData[1].zeta_out", 1,\
 7, 13, 1024)
DeclareAlias2("tank.portsData_zeta_out_internal[2]", "", "tank.portsData[2].zeta_out", 1,\
 7, 17, 1024)
DeclareAlias2("tank.portsData_diameter[1]", "", "tank.portsData[1].diameter", 1,\
 7, 11, 1024)
DeclareAlias2("tank.portsData_diameter[2]", "", "tank.portsData[2].diameter", 1,\
 7, 15, 1024)
DeclareAlias2("tank.portsData_height[1]", "", "tank.portsData[1].height", 1, 7, 12,\
 1024)
DeclareAlias2("tank.portsData_height[2]", "", "tank.portsData[2].height", 1, 7, 16,\
 1024)
DeclareAlias2("tank.portsData_zeta_in[1]", "", "tank.portsData[1].zeta_in", 1, 7,\
 14, 1024)
DeclareAlias2("tank.portsData_zeta_in[2]", "", "tank.portsData[2].zeta_in", 1, 7,\
 18, 1024)
DeclareAlias2("tank.portsData_zeta_out[1]", "", "tank.portsData[1].zeta_out", 1,\
 7, 13, 1024)
DeclareAlias2("tank.portsData_zeta_out[2]", "", "tank.portsData[2].zeta_out", 1,\
 7, 17, 1024)
DeclareVariable("tank.regularFlow[1]", "[:#(type=Boolean)]", true, 0.0,0.0,0.0,0,2690)
DeclareVariable("tank.regularFlow[2]", "[:#(type=Boolean)]", true, 0.0,0.0,0.0,0,2690)
DeclareVariable("tank.inFlow[1]", "[:#(type=Boolean)]", false, 0.0,0.0,0.0,0,2754)
DeclareVariable("tank.inFlow[2]", "[:#(type=Boolean)]", false, 0.0,0.0,0.0,0,2754)
DeclareVariable("tank.level_start_eps", "[m]", 0.0, 0.0,1E+100,0.0,0,2561)
DeclareVariable("pump.allowFlowReversal", "= true to allow flow reversal, false restricts to design direction (port_a -> port_b) [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,515)
DeclareAlias2("pump.port_a.m_flow", "Mass flow rate from the connection point into the component [kg/s]",\
 "tank.ports[1].m_flow", 1, 5, 47, 132)
DeclareAlias2("pump.port_a.p", "Thermodynamic pressure in the connection point [Pa|bar]",\
 "tank.ports[2].p", 1, 5, 53, 4)
DeclareVariable("pump.port_a.h_outflow", "Specific thermodynamic enthalpy close to the connection point if m_flow < 0 [J/kg]",\
 0.0, -10000000000.0,10000000000.0,1000000.0,0,520)
DeclareVariable("pump.port_a.der(h_outflow)", "der(Specific thermodynamic enthalpy close to the connection point if m_flow < 0) [m2/s3]",\
 0.0, 0.0,0.0,0.0,0,520)
DeclareAlias2("pump.port_b.m_flow", "Mass flow rate from the connection point into the component [kg/s]",\
 "tank.ports[1].m_flow", -1, 5, 47, 132)
DeclareAlias2("pump.port_b.p", "Thermodynamic pressure in the connection point [Pa|bar]",\
 "pump.p_b_nominal", 1, 7, 31, 4)
DeclareAlias2("pump.port_b.h_outflow", "Specific thermodynamic enthalpy close to the connection point if m_flow < 0 [J/kg]",\
 "pump.port_a.h_outflow", 1, 5, 96, 4)
DeclareParameter("pump.port_a_exposesState", "= true if port_a exposes the state of a fluid volume [:#(type=Boolean)]",\
 19, false, 0.0,0.0,0.0,0,2610)
DeclareVariable("pump.port_b_exposesState", "= true if port_b.p exposes the state of a fluid volume [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,2563)
DeclareParameter("pump.showDesignFlowDirection", "= false to hide the arrow in the model icon [:#(type=Boolean)]",\
 20, true, 0.0,0.0,0.0,0,2610)
DeclareParameter("pump.p_a_start", "Guess value for inlet pressure [Pa|bar]", 21,\
 110000, 0.0,100000000.0,100000.0,0,560)
DeclareParameter("pump.p_b_start", "Guess value for outlet pressure [Pa|bar]", 22,\
 130000, 0.0,100000000.0,100000.0,0,560)
DeclareParameter("pump.m_flow_start", "Guess value of m_flow = port_a.m_flow [kg/s]",\
 23, 0.01, -100000.0,100000.0,0.0,0,560)
DeclareVariable("pump.V_flow_single_init", "Used for simplified initialization model [m3/s]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("pump.delta_head_init", "Used for simplified initialization model [m]",\
 0.0, 0.0,1E+100,0.0,0,513)
DeclareParameter("pump.nParallel", "Number of pumps in parallel [:#(type=Integer)]",\
 24, 1, 1.0,1E+100,0.0,0,564)
DeclareParameter("pump.N_nominal", "Nominal rotational speed for flow characteristic [rev/min]",\
 25, 1500, 0.0,0.0,0.0,0,560)
DeclareParameter("pump.rho_nominal", "Nominal fluid density for characteristic [kg/m3|g/cm3]",\
 26, 995.586, 0.0,100000.0,1.0,0,560)
DeclareVariable("pump.use_powerCharacteristic", "Use powerCharacteristic (vs. efficiencyCharacteristic) [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,515)
DeclareVariable("pump.checkValve", "= true to prevent reverse flow [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,515)
DeclareVariable("pump.V", "Volume inside the pump [m3]", 0, 0.0,0.0,0.0,0,513)
DeclareVariable("pump.fluidVolume", "Volume [m3]", 0, 0.0,0.0,0.0,0,513)
DeclareVariable("pump.energyDynamics", "Formulation of energy balance [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 4, 1.0,4.0,0.0,0,517)
DeclareVariable("pump.massDynamics", "Formulation of mass balance [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 4, 1.0,4.0,0.0,0,517)
DeclareVariable("pump.substanceDynamics", "Formulation of substance balance [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 4, 1.0,4.0,0.0,0,517)
DeclareVariable("pump.traceDynamics", "Formulation of trace substance balance [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 4, 1.0,4.0,0.0,0,517)
DeclareVariable("pump.p_start", "Start value of pressure [Pa|bar]", 100000.0, \
0.0,100000000.0,100000.0,0,513)
DeclareVariable("pump.use_T_start", "= true, use T_start, otherwise h_start [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareParameter("pump.T_start", "Start value of temperature [K|degC]", 27, \
313.15, 1.0,10000.0,300.0,0,560)
DeclareVariable("pump.h_start", "Start value of specific enthalpy [J/kg]", 0.0, \
-10000000000.0,10000000000.0,1000000.0,0,513)
DeclareParameter("pump.X_start[1]", "Start value of mass fractions m_i/m [kg/kg]",\
 28, 1.0, 0.0,1.0,0.1,0,560)
DeclareAlias2("pump.medium.p", "Absolute pressure of medium [Pa|bar]", \
"pump.p_b_nominal", 1, 7, 31, 0)
DeclareVariable("pump.medium.der(p)", "der(Absolute pressure of medium) [Pa/s]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareAlias2("pump.medium.h", "Specific enthalpy of medium [J/kg]", \
"pump.port_a.h_outflow", 1, 5, 96, 0)
DeclareVariable("pump.medium.d", "Density of medium [kg/m3|g/cm3]", 995.586, 0.0,\
100000.0,1.0,0,513)
DeclareVariable("pump.medium.T", "Temperature of medium [K|degC]", 300.0, 1.0,\
10000.0,300.0,0,512)
DeclareVariable("pump.medium.der(T)", "der(Temperature of medium) [K/s]", 0.0, \
0.0,0.0,0.0,0,512)
DeclareVariable("pump.medium.X[1]", "Mass fractions (= (component mass)/total mass  m_i/m) [kg/kg]",\
 1.0, 0.0,1.0,0.1,0,513)
DeclareVariable("pump.medium.u", "Specific internal energy of medium [J/kg]", \
0.0, -100000000.0,100000000.0,1000000.0,0,512)
DeclareVariable("pump.medium.R", "Gas constant (of mixture if applicable) [J/(kg.K)]",\
 0, 0.0,10000000.0,1000.0,0,513)
DeclareVariable("pump.medium.MM", "Molar mass (of mixture or single fluid) [kg/mol]",\
 0.018015268, 0.001,0.25,0.032,0,513)
DeclareAlias2("pump.medium.state.p", "Absolute pressure of medium [Pa|bar]", \
"pump.p_b_nominal", 1, 7, 31, 0)
DeclareAlias2("pump.medium.state.T", "Temperature of medium [K|degC]", \
"pump.medium.T", 1, 5, 114, 0)
DeclareVariable("pump.medium.preferredMediumStates", "= true if StateSelect.prefer shall be used for the independent property variables of the medium [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareVariable("pump.medium.standardOrderComponents", "If true, and reducedX = true, the last element of X will be computed from the other ones [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareVariable("pump.medium.T_degC", "Temperature of medium in [degC] [degC;]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("pump.medium.p_bar", "Absolute pressure of medium in [bar] [bar]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("pump.U", "Internal energy of fluid [J]", 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("pump.m", "Mass of fluid [kg]", 0.0, 0.0,1E+100,0.0,0,513)
DeclareVariable("pump.mb_flow", "Mass flows across boundaries [kg/s]", 0, \
0.0,0.0,0.0,0,513)
DeclareVariable("pump.Hb_flow", "Enthalpy flow across boundaries or energy source/sink [W]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("pump.der(Hb_flow)", "der(Enthalpy flow across boundaries or energy source/sink) [W/s]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("pump.Qb_flow", "Heat flow across boundaries or energy source/sink [W]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareAlias2("pump.Wb_flow", "Work flow across boundaries or source term [W]", \
"pump.Hb_flow", -1, 5, 127, 0)
DeclareParameter("pump.initialize_p", "= true to set up initial equations for pressure [:#(type=Boolean)]",\
 29, false, 0.0,0.0,0.0,0,2610)
DeclareVariable("pump.use_HeatTransfer", "= true to use a HeatTransfer model, e.g., for a housing [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,515)
DeclareVariable("pump.heatTransfer.n", "Number of heat transfer segments [:#(type=Integer)]",\
 1, 0.0,0.0,0.0,0,517)
DeclareAlias2("pump.heatTransfer.states[1].p", "Absolute pressure of medium [Pa|bar]",\
 "pump.p_b_nominal", 1, 7, 31, 0)
DeclareAlias2("pump.heatTransfer.states[1].T", "Temperature of medium [K|degC]",\
 "pump.medium.T", 1, 5, 114, 0)
DeclareVariable("pump.heatTransfer.surfaceAreas[1]", "Heat transfer areas [m2]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("pump.heatTransfer.Q_flows[1]", "Heat flow rates [W]", 0.0, \
0.0,0.0,0.0,0,513)
DeclareVariable("pump.heatTransfer.use_k", "= true to use k value for thermal isolation [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,515)
DeclareVariable("pump.heatTransfer.k", "Heat transfer coefficient to ambient [W/(m2.K)]",\
 0, 0.0,0.0,0.0,0,513)
DeclareVariable("pump.heatTransfer.T_ambient", "Ambient temperature [K|degC]", \
288.15, 0.0,1E+100,300.0,0,513)
DeclareAlias2("pump.heatTransfer.heatPorts[1].T", "Port temperature [K|degC]", \
"pump.medium.T", 1, 5, 114, 4)
DeclareVariable("pump.heatTransfer.heatPorts[1].Q_flow", "Heat flow rate (positive if flowing from outside into the component) [W]",\
 0.0, 0.0,0.0,0.0,0,777)
DeclareAlias2("pump.heatTransfer.Ts[1]", "Temperatures defined by fluid states [K|degC]",\
 "pump.medium.T", 1, 5, 114, 0)
DeclareVariable("pump.g", "[m/s2]", 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("pump.rho", "[kg/m3|g/cm3]", 995.586, 0.0,100000.0,1.0,0,513)
DeclareVariable("pump.dp_pump", "Pressure increase [Pa|bar]", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("pump.head", "Pump head [m]", 0.0, 0.0,1E+100,0.0,0,512)
DeclareAlias2("pump.m_flow", "Mass flow rate (total) [kg/s]", "tank.ports[1].m_flow", 1,\
 5, 47, 0)
DeclareVariable("pump.m_flow_single", "Mass flow rate (single pump) [kg/s]", 0.0,\
 0.0,0.0,0.0,0,512)
DeclareVariable("pump.V_flow", "Volume flow rate (total) [m3/s]", 0.0, 0.0,0.0,\
0.0,0,512)
DeclareVariable("pump.der(V_flow)", "der(Volume flow rate (total)) [m3/s2]", 0.0,\
 0.0,0.0,0.0,0,512)
DeclareVariable("pump.V_flow_single", "Volume flow rate (single pump) [m3/s]", \
0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("pump.der(V_flow_single)", "der(Volume flow rate (single pump)) [m3/s2]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("pump.N", "Shaft rotational speed [rev/min]", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("pump.W_single", "Power Consumption (single pump) [W]", 0.0, \
0.0,0.0,0.0,0,512)
DeclareVariable("pump.der(W_single)", "der(Power Consumption (single pump)) [W/s]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareAlias2("pump.W_total", "Power Consumption (total) [W]", "pump.Hb_flow", -1,\
 5, 127, 0)
DeclareVariable("pump.eta", "Global Efficiency", 0.8, 0.0,0.0,0.0,0,513)
DeclareVariable("pump.unit_m_flow", "[kg/s]", 1, -100000.0,100000.0,0.0,0,1537)
DeclareVariable("pump.s", "Curvilinear abscissa for the flow curve in parametric form (either mass flow rate or head)",\
 0, 0.0,0.0,0.0,0,513)
DeclareVariable("pump.show_NPSHa", "obsolete -- remove modifier and specify Monitoring for NPSH instead [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,515)
DeclareAlias2("pump.monitoring.state_in.p", "Absolute pressure of medium [Pa|bar]",\
 "tank.ports[2].p", 1, 5, 53, 0)
DeclareVariable("pump.monitoring.state_in.T", "Temperature of medium [K|degC]", \
288.15, 1.0,10000.0,300.0,0,512)
DeclareAlias2("pump.monitoring.state.p", "Absolute pressure of medium [Pa|bar]",\
 "pump.p_b_nominal", 1, 7, 31, 0)
DeclareAlias2("pump.monitoring.state.T", "Temperature of medium [K|degC]", \
"pump.medium.T", 1, 5, 114, 0)
DeclareVariable("pump.unitHead", "[m]", 1, 0.0,1E+100,0.0,0,2561)
DeclareVariable("pump.unitMassFlowRate", "[kg/s]", 1, 0.0,0.0,0.0,0,2561)
DeclareParameter("pump.p_a_nominal", "Nominal inlet pressure for predefined pump characteristics [Pa|bar]",\
 30, 110000, 0.0,100000000.0,100000.0,0,560)
DeclareParameter("pump.p_b_nominal", "Nominal outlet pressure, fixed if not control_m_flow and not use_p_set [Pa|bar]",\
 31, 130000, 0.0,100000000.0,100000.0,0,560)
DeclareParameter("pump.m_flow_nominal", "Nominal mass flow rate, fixed if control_m_flow and not use_m_flow_set [kg/s]",\
 32, 0.01, -100000.0,100000.0,0.0,0,560)
DeclareVariable("pump.control_m_flow", "= false to control outlet pressure port_b.p instead of m_flow [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,515)
DeclareVariable("pump.use_m_flow_set", "= true to use input signal m_flow_set instead of m_flow_nominal [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,515)
DeclareVariable("pump.use_p_set", "= true to use input signal p_set instead of p_b_nominal [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,515)
DeclareVariable("pump.V_flow_op", "operational volume flow rate according to nominal values [m3/s]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("pump.head_op", "operational pump head according to nominal values [m]",\
 0.0, 0.0,1E+100,0.0,0,513)
DeclareAlias2("pump.m_flow_set_internal", "Needed to connect to conditional connector",\
 "pump.m_flow_nominal", 1, 7, 32, 1024)
DeclareAlias2("pump.p_set_internal", "Needed to connect to conditional connector",\
 "pump.p_b_nominal", 1, 7, 31, 1024)
DeclareVariable("valve.allowFlowReversal", "= true to allow flow reversal, false restricts to design direction (port_a -> port_b) [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,515)
DeclareAlias2("valve.port_a.m_flow", "Mass flow rate from the connection point into the component [kg/s]",\
 "tank.ports[1].m_flow", 1, 5, 47, 132)
DeclareAlias2("valve.port_a.p", "Thermodynamic pressure in the connection point [Pa|bar]",\
 "pipe.mediums[2].p", 1, 5, 605, 4)
DeclareVariable("valve.port_a.h_outflow", "Specific thermodynamic enthalpy close to the connection point if m_flow < 0 [J/kg]",\
 167360.0, -10000000000.0,10000000000.0,1000000.0,0,520)
DeclareAlias2("valve.port_b.m_flow", "Mass flow rate from the connection point into the component [kg/s]",\
 "tank.ports[1].m_flow", -1, 5, 47, 132)
DeclareVariable("valve.port_b.p", "Thermodynamic pressure in the connection point [Pa|bar]",\
 110000, 0.0,100000000.0,100000.0,0,584)
DeclareVariable("valve.port_b.der(p)", "der(Thermodynamic pressure in the connection point) [Pa/s]",\
 0.0, 0.0,0.0,0.0,0,520)
DeclareVariable("valve.port_b.h_outflow", "Specific thermodynamic enthalpy close to the connection point if m_flow < 0 [J/kg]",\
 334720.0, -10000000000.0,10000000000.0,1000000.0,0,520)
DeclareVariable("valve.port_a_exposesState", "= true if port_a exposes the state of a fluid volume [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,2563)
DeclareVariable("valve.port_b_exposesState", "= true if port_b.p exposes the state of a fluid volume [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,2563)
DeclareParameter("valve.showDesignFlowDirection", "= false to hide the arrow in the model icon [:#(type=Boolean)]",\
 33, true, 0.0,0.0,0.0,0,2610)
DeclareParameter("valve.dp_start", "Guess value of dp = port_a.p - port_b.p [Pa|bar]",\
 34, 18000, -1E+60,100000000.0,100000.0,0,560)
DeclareVariable("valve.m_flow_start", "Guess value of m_flow = port_a.m_flow [kg/s]",\
 0.0, -100000.0,100000.0,0.0,0,513)
DeclareVariable("valve.m_flow_small", "Small mass flow rate for regularization of zero flow [kg/s]",\
 0.0, -100000.0,100000.0,0.0,0,513)
DeclareVariable("valve.show_T", "= true, if temperatures at port_a and port_b are computed [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareVariable("valve.show_V_flow", "= true, if volume flow rate at inflowing port is computed [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareAlias2("valve.m_flow", "Mass flow rate in design flow direction [kg/s]", \
"tank.ports[1].m_flow", 1, 5, 47, 0)
DeclareVariable("valve.dp", "Pressure difference between port_a and port_b (= port_a.p - port_b.p) [Pa|bar]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("valve.der(dp)", "der(Pressure difference between port_a and port_b (= port_a.p - port_b.p)) [Pa/s]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("valve.V_flow", "Volume flow rate at inflowing port (positive when flow from port_a to port_b) [m3/s]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("valve.port_a_T", "Temperature close to port_a, if show_T = true [K|degC]",\
 288.15, 1.0,10000.0,300.0,0,512)
DeclareVariable("valve.port_b_T", "Temperature close to port_b, if show_T = true [K|degC]",\
 288.15, 1.0,10000.0,300.0,0,512)
DeclareAlias2("valve.state_a.p", "Absolute pressure of medium [Pa|bar]", \
"pipe.mediums[2].p", 1, 5, 605, 1024)
DeclareVariable("valve.state_a.T", "Temperature of medium [K|degC]", 288.15, 1.0,\
10000.0,300.0,0,2560)
DeclareAlias2("valve.state_b.p", "Absolute pressure of medium [Pa|bar]", \
"valve.port_b.p", 1, 5, 164, 1024)
DeclareVariable("valve.state_b.T", "Temperature of medium [K|degC]", 288.15, 1.0,\
10000.0,300.0,0,2560)
DeclareVariable("valve.CvData", "Selection of flow coefficient [:#(type=Modelica.Fluid.Types.CvTypes)]",\
 4, 1.0,4.0,0.0,0,517)
DeclareVariable("valve.Av", "Av (metric) flow coefficient [m2]", 0.0, 0.0,0.0,\
0.0,0,513)
DeclareParameter("valve.Kv", "Kv (metric) flow coefficient [m3/h] []", 35, 0, \
0.0,0.0,0.0,0,560)
DeclareParameter("valve.Cv", "Cv (US) flow coefficient [USG/min] []", 36, 0, \
0.0,0.0,0.0,0,560)
DeclareParameter("valve.dp_nominal", "Nominal pressure drop [Pa|bar]", 37, 10000,\
 0.0,0.0,0.0,0,560)
DeclareParameter("valve.m_flow_nominal", "Nominal mass flowrate [kg/s]", 38, \
0.01, -100000.0,100000.0,0.0,0,560)
DeclareParameter("valve.rho_nominal", "Nominal inlet density [kg/m3|g/cm3]", 39,\
 995.586, 0.0,100000.0,1.0,0,560)
DeclareParameter("valve.opening_nominal", "Nominal opening", 40, 1, 0.0,1.0,0.0,\
0,560)
DeclareVariable("valve.filteredOpening", "= true, if opening is filtered with a 2nd order CriticalDamping filter [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareParameter("valve.riseTime", "Rise time of the filter (time to reach 99.6 % of an opening step) [s]",\
 41, 1, 0.0,0.0,0.0,0,560)
DeclareParameter("valve.leakageOpening", "The opening signal is limited by leakageOpening (to improve the numerics)",\
 42, 0.001, 0.0,1.0,0.0,0,560)
DeclareVariable("valve.checkValve", "Reverse flow stopped [:#(type=Boolean)]", \
false, 0.0,0.0,0.0,0,515)
DeclareVariable("valve.dp_small", "Regularisation of zero flow [Pa|bar]", 0.0, \
0.0,1E+100,100000.0,0,2561)
DeclareVariable("valve.Kv2Av", "Conversion factor [m2]", 2.77E-05, 0.0,0.0,0.0,0,513)
DeclareVariable("valve.Cv2Av", "Conversion factor [m2]", 2.4E-05, 0.0,0.0,0.0,0,513)
DeclareVariable("valve.opening", "Valve position in the range 0..1", 0.0, 0.0,\
1.0,0.0,0,512)
DeclareAlias2("valve.opening_filtered", "Filtered valve position in the range 0..1",\
 "valve.opening_actual", 1, 5, 205, 0)
DeclareAlias2("valve.filter.u", "Connector of Real input signal", \
"valve.minLimiter.y", 1, 5, 208, 0)
DeclareAlias2("valve.filter.y", "Connector of Real output signal", \
"valve.opening_actual", 1, 5, 205, 0)
DeclareVariable("valve.filter.analogFilter", "Analog filter characteristics (CriticalDamping/Bessel/Butterworth/ChebyshevI) [:#(type=Modelica.Blocks.Types.AnalogFilter)]",\
 1, 1.0,4.0,0.0,0,517)
DeclareVariable("valve.filter.filterType", "Type of filter (LowPass/HighPass/BandPass/BandStop) [:#(type=Modelica.Blocks.Types.FilterType)]",\
 1, 1.0,4.0,0.0,0,517)
DeclareVariable("valve.filter.order", "Order of filter [:#(type=Integer)]", 2, \
1.0,1E+100,0.0,0,517)
DeclareVariable("valve.filter.f_cut", "Cut-off frequency [Hz]", 0.0, 0.0,0.0,0.0,\
0,513)
DeclareParameter("valve.filter.gain", "Gain (= amplitude of frequency response at zero frequency)",\
 43, 1.0, 0.0,0.0,0.0,0,560)
DeclareParameter("valve.filter.A_ripple", "Pass band ripple for Chebyshev filter (otherwise not used); > 0 required [dB]",\
 44, 0.5, 0.0,0.0,0.0,0,560)
DeclareParameter("valve.filter.f_min", "Band of band pass/stop filter is f_min (A=-3db*gain) .. f_cut (A=-3db*gain) [Hz]",\
 45, 0, 0.0,0.0,0.0,0,560)
DeclareParameter("valve.filter.normalized", "= true, if amplitude at f_cut = -3db, otherwise unmodified filter [:#(type=Boolean)]",\
 46, true, 0.0,0.0,0.0,0,562)
DeclareVariable("valve.filter.init", "Type of initialization (no init/steady state/initial state/initial output) [:#(type=Modelica.Blocks.Types.Init)]",\
 2, 1.0,4.0,0.0,0,517)
DeclareVariable("valve.filter.nx", "[:#(type=Integer)]", 2, 0.0,0.0,0.0,0,517)
DeclareParameter("valve.filter.x_start[1]", "Initial or guess values of states",\
 47, 0, 0.0,0.0,0.0,0,560)
DeclareParameter("valve.filter.x_start[2]", "Initial or guess values of states",\
 48, 0, 0.0,0.0,0.0,0,560)
DeclareParameter("valve.filter.y_start", "Initial value of output", 49, 0, \
0.0,0.0,0.0,0,560)
DeclareParameter("valve.filter.u_nominal", "Nominal value of input (used for scaling the states)",\
 50, 1.0, 0.0,0.0,0.0,0,560)
DeclareState("valve.filter.x[1]", "Filter states", 0, 0.0, 0.0,0.0,0.0,0,544)
DeclareDerivative("valve.filter.der(x[1])", "der(Filter states)", 0.0, 0.0,0.0,\
0.0,0,512)
DeclareVariable("valve.filter.x[2]", "Filter states", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("valve.filter.der(x[2])", "der(Filter states)", 0.0, 0.0,0.0,0.0,\
0,512)
DeclareVariable("valve.filter.ncr", "[:#(type=Integer)]", 2, 0.0,0.0,0.0,0,2565)
DeclareVariable("valve.filter.nc0", "[:#(type=Integer)]", 0, 0.0,0.0,0.0,0,2565)
DeclareVariable("valve.filter.na", "[:#(type=Integer)]", 0, 0.0,0.0,0.0,0,2565)
DeclareVariable("valve.filter.nr", "[:#(type=Integer)]", 2, 0.0,0.0,0.0,0,2565)
DeclareVariable("valve.filter.cr[1]", "", 0.0, 0.0,0.0,0.0,0,2561)
DeclareVariable("valve.filter.cr[2]", "", 0.0, 0.0,0.0,0.0,0,2561)
DeclareVariable("valve.filter.r[1]", "", 0.0, 0.0,0.0,0.0,0,2561)
DeclareVariable("valve.filter.r[2]", "", 0.0, 0.0,0.0,0.0,0,2561)
DeclareVariable("valve.filter.uu[1]", "", 0.0, 0.0,0.0,0.0,0,2560)
DeclareAlias2("valve.filter.uu[2]", "", "valve.filter.x[1]", 1, 1, 0, 1024)
DeclareAlias2("valve.filter.uu[3]", "", "valve.filter.x[2]", 1, 5, 194, 1024)
DeclareVariable("valve.opening_actual", "", 0.0, 0.0,0.0,0.0,0,2560)
DeclareVariable("valve.der(opening_actual)", "", 0.0, 0.0,0.0,0.0,0,2560)
DeclareVariable("valve.minLimiter.uMin", "Lower limit of input signal", 0.0, \
0.0,0.0,0.0,0,2561)
DeclareAlias2("valve.minLimiter.u", "Connector of Real input signal", \
"valve.opening", 1, 5, 187, 1024)
DeclareVariable("valve.minLimiter.y", "Connector of Real output signal", 0.0, \
0.0,0.0,0.0,0,2560)
DeclareVariable("valve.Re_turbulent", "cf. straight pipe for fully open valve -- dp_turbulent increases for closing valve [1]",\
 4000, 0.0,0.0,0.0,0,513)
DeclareVariable("valve.use_Re", "= true, if turbulent region is defined by Re, otherwise by m_flow_small [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,515)
DeclareAlias2("valve.dp_turbulent", "[Pa|bar]", "valve.dp_small", 1, 5, 184, 0)
DeclareAlias2("valve.relativeFlowCoefficient", "", "valve.opening_actual", 1, 5,\
 205, 1024)
DeclareVariable("T_ambient.T", "Fixed temperature at port [K|degC]", 288.15, 0.0,\
1E+100,300.0,0,513)
DeclareAlias2("T_ambient.port.T", "Port temperature [K|degC]", "T_ambient.T", 1,\
 5, 211, 4)
DeclareVariable("T_ambient.port.Q_flow", "Heat flow rate (positive if flowing from outside into the component) [W]",\
 0.0, 0.0,0.0,0.0,0,776)
DeclareAlias2("wall.Q_flow", "Heat flow rate from port_a -> port_b [W]", \
"T_ambient.port.Q_flow", -1, 5, 212, 0)
DeclareVariable("wall.dT", "port_a.T - port_b.T [K,]", 0.0, 0.0,0.0,0.0,0,512)
DeclareAlias2("wall.port_a.T", "Port temperature [K|degC]", "T_ambient.T", 1, 5,\
 211, 4)
DeclareAlias2("wall.port_a.Q_flow", "Heat flow rate (positive if flowing from outside into the component) [W]",\
 "T_ambient.port.Q_flow", -1, 5, 212, 132)
DeclareAlias2("wall.port_b.T", "Port temperature [K|degC]", "radiator.mediums[1].T", 1,\
 1, 2, 4)
DeclareAlias2("wall.port_b.Q_flow", "Heat flow rate (positive if flowing from outside into the component) [W]",\
 "T_ambient.port.Q_flow", 1, 5, 212, 132)
DeclareParameter("wall.G", "Constant thermal conductance of material [W/K]", 51,\
 80.0, 0.0,0.0,0.0,0,560)
DeclareParameter("burner.T_ref", "Reference temperature [K|degC]", 52, 343.15, \
0.0,1E+100,300.0,0,560)
DeclareParameter("burner.alpha", "Temperature coefficient of heat flow rate [1/K]",\
 53, -0.5, 0.0,0.0,0.0,0,560)
DeclareVariable("burner.Q_flow", "[W]", 0.0, 0.0,0.0,0.0,0,512)
DeclareAlias2("burner.port.T", "Port temperature [K|degC]", "heater.mediums[1].T", 1,\
 1, 1, 4)
DeclareVariable("burner.port.Q_flow", "Heat flow rate (positive if flowing from outside into the component) [W]",\
 0.0, 0.0,0.0,0.0,0,776)
DeclareVariable("heater.allowFlowReversal", "= true to allow flow reversal, false restricts to design direction (port_a -> port_b) [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareAlias2("heater.port_a.m_flow", "Mass flow rate from the connection point into the component [kg/s]",\
 "tank.ports[1].m_flow", 1, 5, 47, 132)
DeclareAlias2("heater.port_a.p", "Thermodynamic pressure in the connection point [Pa|bar]",\
 "pump.p_b_nominal", 1, 7, 31, 4)
DeclareVariable("heater.port_a.h_outflow", "Specific thermodynamic enthalpy close to the connection point if m_flow < 0 [J/kg]",\
 334720.0, -10000000000.0,10000000000.0,1000000.0,0,520)
DeclareAlias2("heater.port_b.m_flow", "Mass flow rate from the connection point into the component [kg/s]",\
 "tank.ports[1].m_flow", -1, 5, 47, 132)
DeclareAlias2("heater.port_b.p", "Thermodynamic pressure in the connection point [Pa|bar]",\
 "pipe.mediums[1].p", 1, 5, 593, 4)
DeclareAlias2("heater.port_b.h_outflow", "Specific thermodynamic enthalpy close to the connection point if m_flow < 0 [J/kg]",\
 "heater.port_a.h_outflow", 1, 5, 217, 4)
DeclareVariable("heater.port_a_exposesState", "= true if port_a exposes the state of a fluid volume [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,2563)
DeclareVariable("heater.port_b_exposesState", "= true if port_b.p exposes the state of a fluid volume [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,2563)
DeclareParameter("heater.showDesignFlowDirection", "= false to hide the arrow in the model icon [:#(type=Boolean)]",\
 54, true, 0.0,0.0,0.0,0,2610)
DeclareParameter("heater.nParallel", "Number of identical parallel pipes", 55, 1,\
 1.0,1E+100,0.0,0,560)
DeclareParameter("heater.length", "Length [m]", 56, 2, 0.0,0.0,0.0,0,560)
DeclareVariable("heater.isCircular", "= true if cross sectional area is circular [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareParameter("heater.diameter", "Diameter of circular pipe [m]", 57, 0.01, \
0.0,1E+100,0.0,0,560)
DeclareVariable("heater.crossArea", "Inner cross section area [m2]", 0.0, \
0.0,0.0,0.0,0,513)
DeclareVariable("heater.perimeter", "Inner perimeter [m]", 0.0, 0.0,0.0,0.0,0,513)
DeclareParameter("heater.roughness", "Average height of surface asperities (default: smooth steel pipe) [m]",\
 58, 2.5E-05, 0.0,1E+100,0.0,0,560)
DeclareVariable("heater.V", "volume size [m3]", 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("heater.height_ab", "Height(port_b) - Height(port_a) [m]", 0, \
0.0,0.0,0.0,0,513)
DeclareVariable("heater.n", "Number of discrete volumes [:#(type=Integer)]", 1, \
0.0,0.0,0.0,0,517)
DeclareVariable("heater.fluidVolumes[1]", "Discretized volume, determine in inheriting class [m3]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("heater.energyDynamics", "Formulation of energy balances [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 3, 1.0,4.0,0.0,0,517)
DeclareVariable("heater.massDynamics", "Formulation of mass balances [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 3, 1.0,4.0,0.0,0,517)
DeclareVariable("heater.substanceDynamics", "Formulation of substance balances [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 3, 1.0,4.0,0.0,0,517)
DeclareVariable("heater.traceDynamics", "Formulation of trace substance balances [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 3, 1.0,4.0,0.0,0,517)
DeclareParameter("heater.p_a_start", "Start value of pressure at port a [Pa|bar]",\
 59, 130000, 0.0,100000000.0,100000.0,0,560)
DeclareVariable("heater.p_b_start", "Start value of pressure at port b [Pa|bar]",\
 100000.0, 0.0,100000000.0,100000.0,0,513)
DeclareVariable("heater.ps_start[1]", "Start value of pressure [Pa|bar]", \
100000.0, 0.0,100000000.0,100000.0,0,513)
DeclareVariable("heater.use_T_start", "Use T_start if true, otherwise h_start [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareVariable("heater.T_start", "Start value of temperature [K|degC]", 353.15,\
 1.0,10000.0,300.0,0,513)
DeclareVariable("heater.h_start", "Start value of specific enthalpy [J/kg]", \
334720.0, -10000000000.0,10000000000.0,1000000.0,0,513)
DeclareParameter("heater.X_start[1]", "Start value of mass fractions m_i/m [kg/kg]",\
 60, 1.0, 0.0,1.0,0.1,0,560)
DeclareVariable("heater.Us[1]", "Internal energy of fluid [J]", 0.0, 0.0,0.0,0.0,\
0,512)
DeclareVariable("heater.der(Us[1])", "der(Internal energy of fluid) [W]", 0.0, \
0.0,0.0,0.0,0,512)
DeclareVariable("heater.ms[1]", "Fluid mass [kg]", 0.0, 0.0,1E+100,0.0,0,513)
DeclareVariable("heater.der(ms[1])", "der(Fluid mass) [kg/s]", 0.0, -100000.0,\
100000.0,0.0,0,513)
DeclareVariable("heater.mb_flows[1]", "Mass flow rate, source or sink [kg/s]", \
0.0, -100000.0,100000.0,0.0,0,513)
DeclareVariable("heater.Hb_flows[1]", "Enthalpy flow rate, source or sink [W]", \
0.0, 0.0,0.0,0.0,0,512)
DeclareAlias2("heater.Qb_flows[1]", "Heat flow rate, source or sink [W]", \
"burner.port.Q_flow", -1, 5, 215, 0)
DeclareVariable("heater.Wb_flows[1]", "Mechanical power, p*der(V) etc. [W]", 0.0,\
 0.0,0.0,0.0,0,512)
DeclareVariable("heater.initialize_p", "= true to set up initial equations for pressure [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,2563)
DeclareVariable("heater.lengths[1]", "lengths of flow segments [m]", 0.0, \
0.0,0.0,0.0,0,513)
DeclareVariable("heater.crossAreas[1]", "cross flow areas of flow segments [m2]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("heater.dimensions[1]", "hydraulic diameters of flow segments [m]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("heater.roughnesses[1]", "Average heights of surface asperities [m]",\
 0.0, 0.0,1E+100,0.0,0,513)
DeclareVariable("heater.dheights[1]", "Differences in heights of flow segments [m]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("heater.momentumDynamics", "Formulation of momentum balances [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 4, 1.0,4.0,0.0,0,517)
DeclareVariable("heater.m_flow_start", "Start value for mass flow rate [kg/s]", \
0.0, -100000.0,100000.0,0.0,0,513)
DeclareVariable("heater.nNodes", "Number of discrete flow volumes [:#(type=Integer)]",\
 1, 1.0,1E+100,0.0,0,517)
DeclareVariable("heater.modelStructure", "Determines whether flow or volume models are present at the ports [:#(type=Modelica.Fluid.Types.ModelStructure)]",\
 2, 1.0,4.0,0.0,0,517)
DeclareVariable("heater.useLumpedPressure", "=true to lump pressure states together [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,515)
DeclareVariable("heater.nFM", "number of flow models in flowModel [:#(type=Integer)]",\
 2, 0.0,0.0,0.0,0,517)
DeclareVariable("heater.nFMDistributed", "[:#(type=Integer)]", 2, 0.0,0.0,0.0,0,517)
DeclareVariable("heater.nFMLumped", "[:#(type=Integer)]", 2, 0.0,0.0,0.0,0,517)
DeclareVariable("heater.iLumped", "Index of control volume with representative state if useLumpedPressure [:#(type=Integer)]",\
 1, 0.0,0.0,0.0,0,517)
DeclareVariable("heater.useInnerPortProperties", "=true to take port properties for flow models from internal control volumes [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,515)
DeclareAlias2("heater.state_a.p", "Absolute pressure of medium [Pa|bar]", \
"pump.p_b_nominal", 1, 7, 31, 0)
DeclareVariable("heater.state_a.T", "Temperature of medium [K|degC]", 288.15, \
1.0,10000.0,300.0,0,512)
DeclareAlias2("heater.state_b.p", "Absolute pressure of medium [Pa|bar]", \
"pipe.mediums[1].p", 1, 5, 593, 0)
DeclareVariable("heater.state_b.T", "Temperature of medium [K|degC]", 288.15, \
1.0,10000.0,300.0,0,512)
DeclareAlias2("heater.statesFM[1].p", "Absolute pressure of medium [Pa|bar]", \
"pump.p_b_nominal", 1, 7, 31, 0)
DeclareAlias2("heater.statesFM[1].T", "Temperature of medium [K|degC]", \
"heater.state_a.T", 1, 5, 259, 0)
DeclareAlias2("heater.statesFM[2].p", "Absolute pressure of medium [Pa|bar]", \
"heater.mediums[1].p", 1, 5, 569, 0)
DeclareAlias2("heater.statesFM[2].T", "Temperature of medium [K|degC]", \
"heater.mediums[1].T", 1, 1, 1, 0)
DeclareAlias2("heater.statesFM[3].p", "Absolute pressure of medium [Pa|bar]", \
"pipe.mediums[1].p", 1, 5, 593, 0)
DeclareAlias2("heater.statesFM[3].T", "Temperature of medium [K|degC]", \
"heater.state_b.T", 1, 5, 260, 0)
DeclareVariable("heater.flowModel.from_dp", "= true, use m_flow = f(dp), otherwise dp = f(m_flow) [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareVariable("heater.flowModel.n", "Number of discrete flow volumes [:#(type=Integer)]",\
 3, 0.0,0.0,0.0,0,517)
DeclareAlias2("heater.flowModel.states[1].p", "Absolute pressure of medium [Pa|bar]",\
 "pump.p_b_nominal", 1, 7, 31, 0)
DeclareAlias2("heater.flowModel.states[1].T", "Temperature of medium [K|degC]", \
"heater.state_a.T", 1, 5, 259, 0)
DeclareAlias2("heater.flowModel.states[2].p", "Absolute pressure of medium [Pa|bar]",\
 "heater.mediums[1].p", 1, 5, 569, 0)
DeclareAlias2("heater.flowModel.states[2].T", "Temperature of medium [K|degC]", \
"heater.mediums[1].T", 1, 1, 1, 0)
DeclareAlias2("heater.flowModel.states[3].p", "Absolute pressure of medium [Pa|bar]",\
 "pipe.mediums[1].p", 1, 5, 593, 0)
DeclareAlias2("heater.flowModel.states[3].T", "Temperature of medium [K|degC]", \
"heater.state_b.T", 1, 5, 260, 0)
DeclareAlias2("heater.flowModel.vs[1]", "Mean velocities of fluid flow [m/s]", \
"heater.vsFM[1]", 1, 5, 317, 0)
DeclareAlias2("heater.flowModel.vs[2]", "Mean velocities of fluid flow [m/s]", \
"heater.vs[1]", 1, 5, 312, 0)
DeclareAlias2("heater.flowModel.vs[3]", "Mean velocities of fluid flow [m/s]", \
"heater.vsFM[3]", 1, 5, 318, 0)
DeclareVariable("heater.flowModel.nParallel", "number of identical parallel flow devices",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareAlias2("heater.flowModel.crossAreas[1]", "Cross flow areas at segment boundaries [m2]",\
 "heater.crossAreas[1]", 1, 5, 245, 0)
DeclareAlias2("heater.flowModel.crossAreas[2]", "Cross flow areas at segment boundaries [m2]",\
 "heater.crossAreas[1]", 1, 5, 245, 0)
DeclareAlias2("heater.flowModel.crossAreas[3]", "Cross flow areas at segment boundaries [m2]",\
 "heater.crossAreas[1]", 1, 5, 245, 0)
DeclareAlias2("heater.flowModel.dimensions[1]", "Characteristic dimensions for fluid flow (diameters for pipe flow) [m]",\
 "heater.dimensions[1]", 1, 5, 246, 0)
DeclareAlias2("heater.flowModel.dimensions[2]", "Characteristic dimensions for fluid flow (diameters for pipe flow) [m]",\
 "heater.dimensions[1]", 1, 5, 246, 0)
DeclareAlias2("heater.flowModel.dimensions[3]", "Characteristic dimensions for fluid flow (diameters for pipe flow) [m]",\
 "heater.dimensions[1]", 1, 5, 246, 0)
DeclareAlias2("heater.flowModel.roughnesses[1]", "Average height of surface asperities [m]",\
 "heater.roughnesses[1]", 1, 5, 247, 0)
DeclareAlias2("heater.flowModel.roughnesses[2]", "Average height of surface asperities [m]",\
 "heater.roughnesses[1]", 1, 5, 247, 0)
DeclareAlias2("heater.flowModel.roughnesses[3]", "Average height of surface asperities [m]",\
 "heater.roughnesses[1]", 1, 5, 247, 0)
DeclareVariable("heater.flowModel.dheights[1]", "Height(states[2:n]) - Height(states[1:n-1]) [m]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("heater.flowModel.dheights[2]", "Height(states[2:n]) - Height(states[1:n-1]) [m]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("heater.flowModel.g", "Constant gravity acceleration [m/s2]", \
0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("heater.flowModel.allowFlowReversal", "= true to allow flow reversal, false restricts to design direction (states[1] -> states[n+1]) [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareVariable("heater.flowModel.momentumDynamics", "Formulation of momentum balance [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 4, 1.0,4.0,0.0,0,517)
DeclareVariable("heater.flowModel.m_flow_start", "Start value of mass flow rates [kg/s]",\
 0.0, -100000.0,100000.0,0.0,0,513)
DeclareVariable("heater.flowModel.p_a_start", "Start value for p[1] at design inflow [Pa|bar]",\
 100000.0, 0.0,100000000.0,100000.0,0,513)
DeclareVariable("heater.flowModel.p_b_start", "Start value for p[n+1] at design outflow [Pa|bar]",\
 100000.0, 0.0,100000000.0,100000.0,0,513)
DeclareVariable("heater.flowModel.m", "Number of flow segments [:#(type=Integer)]",\
 2, 0.0,0.0,0.0,0,517)
DeclareAlias2("heater.flowModel.pathLengths[1]", "Lengths along flow path [m]", \
"heater.pathLengths[1]", 1, 5, 313, 0)
DeclareAlias2("heater.flowModel.pathLengths[2]", "Lengths along flow path [m]", \
"heater.pathLengths[2]", 1, 5, 314, 0)
DeclareAlias2("heater.flowModel.m_flows[1]", "mass flow rates between states [kg/s]",\
 "tank.ports[1].m_flow", 1, 5, 47, 0)
DeclareAlias2("heater.flowModel.m_flows[2]", "mass flow rates between states [kg/s]",\
 "tank.ports[1].m_flow", 1, 5, 47, 0)
DeclareVariable("heater.flowModel.Is[1]", "Momenta of flow segments [kg.m/s]", \
0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("heater.flowModel.Is[2]", "Momenta of flow segments [kg.m/s]", \
0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("heater.flowModel.Ib_flows[1]", "Flow of momentum across boundaries [N]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("heater.flowModel.Ib_flows[2]", "Flow of momentum across boundaries [N]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("heater.flowModel.Fs_p[1]", "Pressure forces [N]", 0.0, 0.0,0.0,\
0.0,0,512)
DeclareVariable("heater.flowModel.Fs_p[2]", "Pressure forces [N]", 0.0, 0.0,0.0,\
0.0,0,512)
DeclareVariable("heater.flowModel.der(Fs_p[1])", "der(Pressure forces) [N/s]", \
0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("heater.flowModel.der(Fs_p[2])", "der(Pressure forces) [N/s]", \
0.0, 0.0,0.0,0.0,0,512)
DeclareAlias2("heater.flowModel.Fs_fg[1]", "Friction and gravity forces [N]", \
"heater.flowModel.Fs_p[1]", -1, 5, 277, 0)
DeclareAlias2("heater.flowModel.Fs_fg[2]", "Friction and gravity forces [N]", \
"heater.flowModel.Fs_p[2]", -1, 5, 278, 0)
DeclareVariable("heater.flowModel.useUpstreamScheme", "= false to average upstream and downstream properties across flow segments [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareVariable("heater.flowModel.use_Ib_flows", "= true to consider differences in flow of momentum through boundaries [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,515)
DeclareVariable("heater.flowModel.rhos[1]", "[kg/m3|g/cm3]", 995.586, 0.0,\
100000.0,1.0,0,513)
DeclareVariable("heater.flowModel.rhos[2]", "[kg/m3|g/cm3]", 995.586, 0.0,\
100000.0,1.0,0,513)
DeclareVariable("heater.flowModel.rhos[3]", "[kg/m3|g/cm3]", 995.586, 0.0,\
100000.0,1.0,0,513)
DeclareVariable("heater.flowModel.rhos_act[1]", "Actual density per segment [kg/m3|g/cm3]",\
 995.586, 0.0,100000.0,1.0,0,513)
DeclareVariable("heater.flowModel.rhos_act[2]", "Actual density per segment [kg/m3|g/cm3]",\
 995.586, 0.0,100000.0,1.0,0,513)
DeclareVariable("heater.flowModel.mus[1]", "[Pa.s]", 0.001, 0.0,100000000.0,\
0.001,0,513)
DeclareVariable("heater.flowModel.mus[2]", "[Pa.s]", 0.001, 0.0,100000000.0,\
0.001,0,513)
DeclareVariable("heater.flowModel.mus[3]", "[Pa.s]", 0.001, 0.0,100000000.0,\
0.001,0,513)
DeclareVariable("heater.flowModel.mus_act[1]", "Actual viscosity per segment [Pa.s]",\
 0.001, 0.0,100000000.0,0.001,0,513)
DeclareVariable("heater.flowModel.mus_act[2]", "Actual viscosity per segment [Pa.s]",\
 0.001, 0.0,100000000.0,0.001,0,513)
DeclareVariable("heater.flowModel.dps_fg[1]", "pressure drop between states [Pa|bar]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("heater.flowModel.dps_fg[2]", "pressure drop between states [Pa|bar]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("heater.flowModel.der(dps_fg[1])", "der(pressure drop between states) [Pa/s]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("heater.flowModel.der(dps_fg[2])", "der(pressure drop between states) [Pa/s]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("heater.flowModel.Re_turbulent", "Start of turbulent regime, depending on type of flow device [1]",\
 4000, 0.0,0.0,0.0,0,513)
DeclareVariable("heater.flowModel.show_Res", "= true, if Reynolds numbers are included for plotting [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,515)
DeclareVariable("heater.flowModel.use_rho_nominal", "= true, if rho_nominal is used, otherwise computed from medium [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,2563)
DeclareParameter("heater.flowModel.rho_nominal", "Nominal density (e.g., rho_liquidWater = 995, rho_air = 1.2) [kg/m3|g/cm3]",\
 61, 995.586, 0.0,1E+100,0.0,0,2608)
DeclareVariable("heater.flowModel.use_mu_nominal", "= true, if mu_nominal is used, otherwise computed from medium [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,2563)
DeclareParameter("heater.flowModel.mu_nominal", "Nominal dynamic viscosity (e.g., mu_liquidWater = 1e-3, mu_air = 1.8e-5) [Pa.s]",\
 62, 0.001, 0.0,1E+100,0.0,0,2608)
DeclareAlias2("heater.flowModel.pathLengths_internal[1]", "pathLengths used internally; to be defined by extending class [m]",\
 "heater.pathLengths[1]", 1, 5, 313, 0)
DeclareAlias2("heater.flowModel.pathLengths_internal[2]", "pathLengths used internally; to be defined by extending class [m]",\
 "heater.pathLengths[2]", 1, 5, 314, 0)
DeclareVariable("heater.flowModel.Res_turbulent_internal[1]", "Re_turbulent used internally; to be defined by extending class [1]",\
 4000, 0.0,0.0,0.0,0,513)
DeclareVariable("heater.flowModel.Res_turbulent_internal[2]", "Re_turbulent used internally; to be defined by extending class [1]",\
 4000, 0.0,0.0,0.0,0,513)
DeclareVariable("heater.flowModel.dp_nominal", "Nominal pressure loss (only for nominal models) [Pa|bar]",\
 1, 0.0,1E+100,100000.0,0,513)
DeclareVariable("heater.flowModel.m_flow_nominal", "Nominal mass flow rate [kg/s]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("heater.flowModel.m_flow_small", "Within regularization if |m_flows| < m_flow_small (may be wider for large discontinuities in static head) [kg/s]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("heater.flowModel.dp_small", "Within regularization if |dp| < dp_small (may be wider for large discontinuities in static head) [Pa|bar]",\
 1, 0.0,1E+100,100000.0,0,2561)
DeclareVariable("heater.flowModel.constantPressureLossCoefficient", \
"= true if the pressure loss does not depend on fluid states [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,2563)
DeclareVariable("heater.flowModel.continuousFlowReversal", "= true if the pressure loss is continuous around zero flow [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,2563)
DeclareAlias2("heater.flowModel.diameters[1]", "mean diameters between segments [m]",\
 "heater.dimensions[1]", 1, 5, 246, 1024)
DeclareAlias2("heater.flowModel.diameters[2]", "mean diameters between segments [m]",\
 "heater.dimensions[1]", 1, 5, 246, 1024)
DeclareVariable("heater.flowModel.dp_fric_nominal", "pressure loss for nominal conditions [Pa|bar]",\
 0.0, 0.0,1E+100,100000.0,0,2561)
DeclareAlias2("heater.m_flows[1]", "Mass flow rates of fluid across segment boundaries [kg/s]",\
 "tank.ports[1].m_flow", 1, 5, 47, 0)
DeclareAlias2("heater.m_flows[2]", "Mass flow rates of fluid across segment boundaries [kg/s]",\
 "tank.ports[1].m_flow", 1, 5, 47, 0)
DeclareVariable("heater.H_flows[1]", "Enthalpy flow rates of fluid across segment boundaries [W]",\
 0.0, -100000000.0,100000000.0,1000.0,0,512)
DeclareVariable("heater.H_flows[2]", "Enthalpy flow rates of fluid across segment boundaries [W]",\
 0.0, -100000000.0,100000000.0,1000.0,0,512)
DeclareVariable("heater.vs[1]", "mean velocities in flow segments [m/s]", 0.0, \
0.0,0.0,0.0,0,512)
DeclareVariable("heater.pathLengths[1]", "Lengths along flow path [m]", 0.0, \
0.0,0.0,0.0,0,2561)
DeclareVariable("heater.pathLengths[2]", "Lengths along flow path [m]", 0.0, \
0.0,0.0,0.0,0,2561)
DeclareVariable("heater.dheightsFM[1]", "Differences in heights between flow segments [m]",\
 0.0, 0.0,0.0,0.0,0,2561)
DeclareVariable("heater.dheightsFM[2]", "Differences in heights between flow segments [m]",\
 0.0, 0.0,0.0,0.0,0,2561)
DeclareAlias2("heater.crossAreasFM[1]", "Cross flow areas of flow segments [m2]",\
 "heater.crossAreas[1]", 1, 5, 245, 1024)
DeclareAlias2("heater.crossAreasFM[2]", "Cross flow areas of flow segments [m2]",\
 "heater.crossAreas[1]", 1, 5, 245, 1024)
DeclareAlias2("heater.crossAreasFM[3]", "Cross flow areas of flow segments [m2]",\
 "heater.crossAreas[1]", 1, 5, 245, 1024)
DeclareVariable("heater.vsFM[1]", "Mean velocities in flow segments [m/s]", 0.0,\
 0.0,0.0,0.0,0,2560)
DeclareAlias2("heater.vsFM[2]", "Mean velocities in flow segments [m/s]", \
"heater.vs[1]", 1, 5, 312, 1024)
DeclareVariable("heater.vsFM[3]", "Mean velocities in flow segments [m/s]", 0.0,\
 0.0,0.0,0.0,0,2560)
DeclareAlias2("heater.dimensionsFM[1]", "Hydraulic diameters of flow segments [m]",\
 "heater.dimensions[1]", 1, 5, 246, 1024)
DeclareAlias2("heater.dimensionsFM[2]", "Hydraulic diameters of flow segments [m]",\
 "heater.dimensions[1]", 1, 5, 246, 1024)
DeclareAlias2("heater.dimensionsFM[3]", "Hydraulic diameters of flow segments [m]",\
 "heater.dimensions[1]", 1, 5, 246, 1024)
DeclareAlias2("heater.roughnessesFM[1]", "Average heights of surface asperities [m]",\
 "heater.roughnesses[1]", 1, 5, 247, 1024)
DeclareAlias2("heater.roughnessesFM[2]", "Average heights of surface asperities [m]",\
 "heater.roughnesses[1]", 1, 5, 247, 1024)
DeclareAlias2("heater.roughnessesFM[3]", "Average heights of surface asperities [m]",\
 "heater.roughnesses[1]", 1, 5, 247, 1024)
DeclareVariable("heater.use_HeatTransfer", "= true to use the HeatTransfer model [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareAlias2("heater.heatPorts[1].T", "Port temperature [K|degC]", \
"heater.mediums[1].T", 1, 1, 1, 4)
DeclareAlias2("heater.heatPorts[1].Q_flow", "Heat flow rate (positive if flowing from outside into the component) [W]",\
 "burner.port.Q_flow", -1, 5, 215, 132)
DeclareVariable("heater.heatTransfer.n", "Number of heat transfer segments [:#(type=Integer)]",\
 1, 0.0,0.0,0.0,0,517)
DeclareAlias2("heater.heatTransfer.states[1].p", "Absolute pressure of medium [Pa|bar]",\
 "heater.mediums[1].p", 1, 5, 569, 0)
DeclareAlias2("heater.heatTransfer.states[1].T", "Temperature of medium [K|degC]",\
 "heater.mediums[1].T", 1, 1, 1, 0)
DeclareVariable("heater.heatTransfer.surfaceAreas[1]", "Heat transfer areas [m2]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareAlias2("heater.heatTransfer.Q_flows[1]", "Heat flow rates [W]", \
"burner.port.Q_flow", -1, 5, 215, 0)
DeclareVariable("heater.heatTransfer.use_k", "= true to use k value for thermal isolation [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareVariable("heater.heatTransfer.k", "Heat transfer coefficient to ambient [W/(m2.K)]",\
 0, 0.0,0.0,0.0,0,513)
DeclareVariable("heater.heatTransfer.T_ambient", "Ambient temperature [K|degC]",\
 288.15, 0.0,1E+100,300.0,0,513)
DeclareAlias2("heater.heatTransfer.heatPorts[1].T", "Port temperature [K|degC]",\
 "heater.mediums[1].T", 1, 1, 1, 4)
DeclareAlias2("heater.heatTransfer.heatPorts[1].Q_flow", "Heat flow rate (positive if flowing from outside into the component) [W]",\
 "burner.port.Q_flow", -1, 5, 215, 132)
DeclareAlias2("heater.heatTransfer.Ts[1]", "Temperatures defined by fluid states [K|degC]",\
 "heater.mediums[1].T", 1, 1, 1, 0)
DeclareAlias2("heater.heatTransfer.vs[1]", "Mean velocities of fluid flow in segments [m/s]",\
 "heater.vs[1]", 1, 5, 312, 0)
DeclareVariable("heater.heatTransfer.nParallel", "number of identical parallel flow devices",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareAlias2("heater.heatTransfer.lengths[1]", "Lengths along flow path [m]", \
"heater.lengths[1]", 1, 5, 244, 0)
DeclareAlias2("heater.heatTransfer.dimensions[1]", "Characteristic dimensions for fluid flow (diameter for pipe flow) [m]",\
 "heater.dimensions[1]", 1, 5, 246, 0)
DeclareAlias2("heater.heatTransfer.roughnesses[1]", "Average heights of surface asperities [m]",\
 "heater.roughnesses[1]", 1, 5, 247, 0)
DeclareVariable("heater.dxs[1]", "", 1.0, 0.0,0.0,0.0,0,513)
DeclareVariable("radiator.allowFlowReversal", "= true to allow flow reversal, false restricts to design direction (port_a -> port_b) [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareAlias2("radiator.port_a.m_flow", "Mass flow rate from the connection point into the component [kg/s]",\
 "tank.ports[1].m_flow", 1, 5, 47, 132)
DeclareAlias2("radiator.port_a.p", "Thermodynamic pressure in the connection point [Pa|bar]",\
 "valve.port_b.p", 1, 5, 164, 4)
DeclareAlias2("radiator.port_a.h_outflow", "Specific thermodynamic enthalpy close to the connection point if m_flow < 0 [J/kg]",\
 "valve.port_a.h_outflow", 1, 5, 163, 4)
DeclareAlias2("radiator.port_b.m_flow", "Mass flow rate from the connection point into the component [kg/s]",\
 "tank.ports[1].m_flow", -1, 5, 47, 132)
DeclareAlias2("radiator.port_b.p", "Thermodynamic pressure in the connection point [Pa|bar]",\
 "tank.ports[1].p", 1, 5, 49, 4)
DeclareAlias2("radiator.port_b.h_outflow", "Specific thermodynamic enthalpy close to the connection point if m_flow < 0 [J/kg]",\
 "valve.port_a.h_outflow", 1, 5, 163, 4)
DeclareVariable("radiator.port_a_exposesState", "= true if port_a exposes the state of a fluid volume [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,2563)
DeclareVariable("radiator.port_b_exposesState", "= true if port_b.p exposes the state of a fluid volume [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,2563)
DeclareParameter("radiator.showDesignFlowDirection", "= false to hide the arrow in the model icon [:#(type=Boolean)]",\
 63, true, 0.0,0.0,0.0,0,2610)
DeclareParameter("radiator.nParallel", "Number of identical parallel pipes", 64,\
 1, 1.0,1E+100,0.0,0,560)
DeclareParameter("radiator.length", "Length [m]", 65, 10, 0.0,0.0,0.0,0,560)
DeclareVariable("radiator.isCircular", "= true if cross sectional area is circular [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareParameter("radiator.diameter", "Diameter of circular pipe [m]", 66, 0.01,\
 0.0,1E+100,0.0,0,560)
DeclareVariable("radiator.crossArea", "Inner cross section area [m2]", 0.0, \
0.0,0.0,0.0,0,513)
DeclareVariable("radiator.perimeter", "Inner perimeter [m]", 0.0, 0.0,0.0,0.0,0,513)
DeclareParameter("radiator.roughness", "Average height of surface asperities (default: smooth steel pipe) [m]",\
 67, 2.5E-05, 0.0,1E+100,0.0,0,560)
DeclareVariable("radiator.V", "volume size [m3]", 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("radiator.height_ab", "Height(port_b) - Height(port_a) [m]", 0, \
0.0,0.0,0.0,0,513)
DeclareVariable("radiator.n", "Number of discrete volumes [:#(type=Integer)]", 1,\
 0.0,0.0,0.0,0,517)
DeclareVariable("radiator.fluidVolumes[1]", "Discretized volume, determine in inheriting class [m3]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("radiator.energyDynamics", "Formulation of energy balances [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 3, 1.0,4.0,0.0,0,517)
DeclareVariable("radiator.massDynamics", "Formulation of mass balances [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 3, 1.0,4.0,0.0,0,517)
DeclareVariable("radiator.substanceDynamics", "Formulation of substance balances [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 3, 1.0,4.0,0.0,0,517)
DeclareVariable("radiator.traceDynamics", "Formulation of trace substance balances [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 3, 1.0,4.0,0.0,0,517)
DeclareParameter("radiator.p_a_start", "Start value of pressure at port a [Pa|bar]",\
 68, 110000, 0.0,100000000.0,100000.0,0,560)
DeclareVariable("radiator.p_b_start", "Start value of pressure at port b [Pa|bar]",\
 100000.0, 0.0,100000000.0,100000.0,0,513)
DeclareVariable("radiator.ps_start[1]", "Start value of pressure [Pa|bar]", \
100000.0, 0.0,100000000.0,100000.0,0,513)
DeclareVariable("radiator.use_T_start", "Use T_start if true, otherwise h_start [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareVariable("radiator.T_start", "Start value of temperature [K|degC]", \
313.15, 1.0,10000.0,300.0,0,513)
DeclareVariable("radiator.h_start", "Start value of specific enthalpy [J/kg]", \
167360.0, -10000000000.0,10000000000.0,1000000.0,0,513)
DeclareParameter("radiator.X_start[1]", "Start value of mass fractions m_i/m [kg/kg]",\
 69, 1.0, 0.0,1.0,0.1,0,560)
DeclareVariable("radiator.Us[1]", "Internal energy of fluid [J]", 0.0, 0.0,0.0,\
0.0,0,512)
DeclareVariable("radiator.der(Us[1])", "der(Internal energy of fluid) [W]", 0.0,\
 0.0,0.0,0.0,0,512)
DeclareVariable("radiator.ms[1]", "Fluid mass [kg]", 0.0, 0.0,1E+100,0.0,0,513)
DeclareVariable("radiator.der(ms[1])", "der(Fluid mass) [kg/s]", 0.0, -100000.0,\
100000.0,0.0,0,513)
DeclareVariable("radiator.mb_flows[1]", "Mass flow rate, source or sink [kg/s]",\
 0.0, -100000.0,100000.0,0.0,0,513)
DeclareVariable("radiator.Hb_flows[1]", "Enthalpy flow rate, source or sink [W]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareAlias2("radiator.Qb_flows[1]", "Heat flow rate, source or sink [W]", \
"T_ambient.port.Q_flow", -1, 5, 212, 0)
DeclareVariable("radiator.Wb_flows[1]", "Mechanical power, p*der(V) etc. [W]", \
0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("radiator.initialize_p", "= true to set up initial equations for pressure [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,2563)
DeclareVariable("radiator.lengths[1]", "lengths of flow segments [m]", 0.0, \
0.0,0.0,0.0,0,513)
DeclareVariable("radiator.crossAreas[1]", "cross flow areas of flow segments [m2]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("radiator.dimensions[1]", "hydraulic diameters of flow segments [m]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("radiator.roughnesses[1]", "Average heights of surface asperities [m]",\
 0.0, 0.0,1E+100,0.0,0,513)
DeclareVariable("radiator.dheights[1]", "Differences in heights of flow segments [m]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("radiator.momentumDynamics", "Formulation of momentum balances [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 4, 1.0,4.0,0.0,0,517)
DeclareVariable("radiator.m_flow_start", "Start value for mass flow rate [kg/s]",\
 0.0, -100000.0,100000.0,0.0,0,513)
DeclareVariable("radiator.nNodes", "Number of discrete flow volumes [:#(type=Integer)]",\
 1, 1.0,1E+100,0.0,0,517)
DeclareVariable("radiator.modelStructure", "Determines whether flow or volume models are present at the ports [:#(type=Modelica.Fluid.Types.ModelStructure)]",\
 2, 1.0,4.0,0.0,0,517)
DeclareVariable("radiator.useLumpedPressure", "=true to lump pressure states together [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,515)
DeclareVariable("radiator.nFM", "number of flow models in flowModel [:#(type=Integer)]",\
 2, 0.0,0.0,0.0,0,517)
DeclareVariable("radiator.nFMDistributed", "[:#(type=Integer)]", 2, 0.0,0.0,0.0,\
0,517)
DeclareVariable("radiator.nFMLumped", "[:#(type=Integer)]", 2, 0.0,0.0,0.0,0,517)
DeclareVariable("radiator.iLumped", "Index of control volume with representative state if useLumpedPressure [:#(type=Integer)]",\
 1, 0.0,0.0,0.0,0,517)
DeclareVariable("radiator.useInnerPortProperties", "=true to take port properties for flow models from internal control volumes [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,515)
DeclareAlias2("radiator.state_a.p", "Absolute pressure of medium [Pa|bar]", \
"valve.port_b.p", 1, 5, 164, 0)
DeclareVariable("radiator.state_a.T", "Temperature of medium [K|degC]", 288.15, \
1.0,10000.0,300.0,0,512)
DeclareAlias2("radiator.state_b.p", "Absolute pressure of medium [Pa|bar]", \
"tank.ports[1].p", 1, 5, 49, 0)
DeclareVariable("radiator.state_b.T", "Temperature of medium [K|degC]", 288.15, \
1.0,10000.0,300.0,0,512)
DeclareAlias2("radiator.statesFM[1].p", "Absolute pressure of medium [Pa|bar]", \
"valve.port_b.p", 1, 5, 164, 0)
DeclareAlias2("radiator.statesFM[1].T", "Temperature of medium [K|degC]", \
"radiator.state_a.T", 1, 5, 369, 0)
DeclareAlias2("radiator.statesFM[2].p", "Absolute pressure of medium [Pa|bar]", \
"radiator.mediums[1].p", 1, 5, 581, 0)
DeclareAlias2("radiator.statesFM[2].T", "Temperature of medium [K|degC]", \
"radiator.mediums[1].T", 1, 1, 2, 0)
DeclareAlias2("radiator.statesFM[3].p", "Absolute pressure of medium [Pa|bar]", \
"tank.ports[1].p", 1, 5, 49, 0)
DeclareAlias2("radiator.statesFM[3].T", "Temperature of medium [K|degC]", \
"radiator.state_b.T", 1, 5, 370, 0)
DeclareVariable("radiator.flowModel.from_dp", "= true, use m_flow = f(dp), otherwise dp = f(m_flow) [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareVariable("radiator.flowModel.n", "Number of discrete flow volumes [:#(type=Integer)]",\
 3, 0.0,0.0,0.0,0,517)
DeclareAlias2("radiator.flowModel.states[1].p", "Absolute pressure of medium [Pa|bar]",\
 "valve.port_b.p", 1, 5, 164, 0)
DeclareAlias2("radiator.flowModel.states[1].T", "Temperature of medium [K|degC]",\
 "radiator.state_a.T", 1, 5, 369, 0)
DeclareAlias2("radiator.flowModel.states[2].p", "Absolute pressure of medium [Pa|bar]",\
 "radiator.mediums[1].p", 1, 5, 581, 0)
DeclareAlias2("radiator.flowModel.states[2].T", "Temperature of medium [K|degC]",\
 "radiator.mediums[1].T", 1, 1, 2, 0)
DeclareAlias2("radiator.flowModel.states[3].p", "Absolute pressure of medium [Pa|bar]",\
 "tank.ports[1].p", 1, 5, 49, 0)
DeclareAlias2("radiator.flowModel.states[3].T", "Temperature of medium [K|degC]",\
 "radiator.state_b.T", 1, 5, 370, 0)
DeclareAlias2("radiator.flowModel.vs[1]", "Mean velocities of fluid flow [m/s]",\
 "radiator.vsFM[1]", 1, 5, 427, 0)
DeclareAlias2("radiator.flowModel.vs[2]", "Mean velocities of fluid flow [m/s]",\
 "radiator.vs[1]", 1, 5, 422, 0)
DeclareAlias2("radiator.flowModel.vs[3]", "Mean velocities of fluid flow [m/s]",\
 "radiator.vsFM[3]", 1, 5, 428, 0)
DeclareVariable("radiator.flowModel.nParallel", "number of identical parallel flow devices",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareAlias2("radiator.flowModel.crossAreas[1]", "Cross flow areas at segment boundaries [m2]",\
 "radiator.crossAreas[1]", 1, 5, 355, 0)
DeclareAlias2("radiator.flowModel.crossAreas[2]", "Cross flow areas at segment boundaries [m2]",\
 "radiator.crossAreas[1]", 1, 5, 355, 0)
DeclareAlias2("radiator.flowModel.crossAreas[3]", "Cross flow areas at segment boundaries [m2]",\
 "radiator.crossAreas[1]", 1, 5, 355, 0)
DeclareAlias2("radiator.flowModel.dimensions[1]", "Characteristic dimensions for fluid flow (diameters for pipe flow) [m]",\
 "radiator.dimensions[1]", 1, 5, 356, 0)
DeclareAlias2("radiator.flowModel.dimensions[2]", "Characteristic dimensions for fluid flow (diameters for pipe flow) [m]",\
 "radiator.dimensions[1]", 1, 5, 356, 0)
DeclareAlias2("radiator.flowModel.dimensions[3]", "Characteristic dimensions for fluid flow (diameters for pipe flow) [m]",\
 "radiator.dimensions[1]", 1, 5, 356, 0)
DeclareAlias2("radiator.flowModel.roughnesses[1]", "Average height of surface asperities [m]",\
 "radiator.roughnesses[1]", 1, 5, 357, 0)
DeclareAlias2("radiator.flowModel.roughnesses[2]", "Average height of surface asperities [m]",\
 "radiator.roughnesses[1]", 1, 5, 357, 0)
DeclareAlias2("radiator.flowModel.roughnesses[3]", "Average height of surface asperities [m]",\
 "radiator.roughnesses[1]", 1, 5, 357, 0)
DeclareVariable("radiator.flowModel.dheights[1]", "Height(states[2:n]) - Height(states[1:n-1]) [m]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("radiator.flowModel.dheights[2]", "Height(states[2:n]) - Height(states[1:n-1]) [m]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("radiator.flowModel.g", "Constant gravity acceleration [m/s2]", \
0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("radiator.flowModel.allowFlowReversal", "= true to allow flow reversal, false restricts to design direction (states[1] -> states[n+1]) [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareVariable("radiator.flowModel.momentumDynamics", "Formulation of momentum balance [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 4, 1.0,4.0,0.0,0,517)
DeclareVariable("radiator.flowModel.m_flow_start", "Start value of mass flow rates [kg/s]",\
 0.0, -100000.0,100000.0,0.0,0,513)
DeclareVariable("radiator.flowModel.p_a_start", "Start value for p[1] at design inflow [Pa|bar]",\
 100000.0, 0.0,100000000.0,100000.0,0,513)
DeclareVariable("radiator.flowModel.p_b_start", "Start value for p[n+1] at design outflow [Pa|bar]",\
 100000.0, 0.0,100000000.0,100000.0,0,513)
DeclareVariable("radiator.flowModel.m", "Number of flow segments [:#(type=Integer)]",\
 2, 0.0,0.0,0.0,0,517)
DeclareAlias2("radiator.flowModel.pathLengths[1]", "Lengths along flow path [m]",\
 "radiator.pathLengths[1]", 1, 5, 423, 0)
DeclareAlias2("radiator.flowModel.pathLengths[2]", "Lengths along flow path [m]",\
 "radiator.pathLengths[2]", 1, 5, 424, 0)
DeclareAlias2("radiator.flowModel.m_flows[1]", "mass flow rates between states [kg/s]",\
 "tank.ports[1].m_flow", 1, 5, 47, 0)
DeclareAlias2("radiator.flowModel.m_flows[2]", "mass flow rates between states [kg/s]",\
 "tank.ports[1].m_flow", 1, 5, 47, 0)
DeclareVariable("radiator.flowModel.Is[1]", "Momenta of flow segments [kg.m/s]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("radiator.flowModel.Is[2]", "Momenta of flow segments [kg.m/s]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("radiator.flowModel.Ib_flows[1]", "Flow of momentum across boundaries [N]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("radiator.flowModel.Ib_flows[2]", "Flow of momentum across boundaries [N]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("radiator.flowModel.Fs_p[1]", "Pressure forces [N]", 0.0, \
0.0,0.0,0.0,0,512)
DeclareVariable("radiator.flowModel.Fs_p[2]", "Pressure forces [N]", 0.0, \
0.0,0.0,0.0,0,512)
DeclareVariable("radiator.flowModel.der(Fs_p[1])", "der(Pressure forces) [N/s]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("radiator.flowModel.der(Fs_p[2])", "der(Pressure forces) [N/s]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareAlias2("radiator.flowModel.Fs_fg[1]", "Friction and gravity forces [N]", \
"radiator.flowModel.Fs_p[1]", -1, 5, 387, 0)
DeclareAlias2("radiator.flowModel.Fs_fg[2]", "Friction and gravity forces [N]", \
"radiator.flowModel.Fs_p[2]", -1, 5, 388, 0)
DeclareVariable("radiator.flowModel.useUpstreamScheme", "= false to average upstream and downstream properties across flow segments [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareVariable("radiator.flowModel.use_Ib_flows", "= true to consider differences in flow of momentum through boundaries [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,515)
DeclareVariable("radiator.flowModel.rhos[1]", "[kg/m3|g/cm3]", 995.586, 0.0,\
100000.0,1.0,0,513)
DeclareVariable("radiator.flowModel.rhos[2]", "[kg/m3|g/cm3]", 995.586, 0.0,\
100000.0,1.0,0,513)
DeclareVariable("radiator.flowModel.rhos[3]", "[kg/m3|g/cm3]", 995.586, 0.0,\
100000.0,1.0,0,513)
DeclareVariable("radiator.flowModel.rhos_act[1]", "Actual density per segment [kg/m3|g/cm3]",\
 995.586, 0.0,100000.0,1.0,0,513)
DeclareVariable("radiator.flowModel.rhos_act[2]", "Actual density per segment [kg/m3|g/cm3]",\
 995.586, 0.0,100000.0,1.0,0,513)
DeclareVariable("radiator.flowModel.mus[1]", "[Pa.s]", 0.001, 0.0,100000000.0,\
0.001,0,513)
DeclareVariable("radiator.flowModel.mus[2]", "[Pa.s]", 0.001, 0.0,100000000.0,\
0.001,0,513)
DeclareVariable("radiator.flowModel.mus[3]", "[Pa.s]", 0.001, 0.0,100000000.0,\
0.001,0,513)
DeclareVariable("radiator.flowModel.mus_act[1]", "Actual viscosity per segment [Pa.s]",\
 0.001, 0.0,100000000.0,0.001,0,513)
DeclareVariable("radiator.flowModel.mus_act[2]", "Actual viscosity per segment [Pa.s]",\
 0.001, 0.0,100000000.0,0.001,0,513)
DeclareVariable("radiator.flowModel.dps_fg[1]", "pressure drop between states [Pa|bar]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("radiator.flowModel.dps_fg[2]", "pressure drop between states [Pa|bar]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("radiator.flowModel.der(dps_fg[1])", "der(pressure drop between states) [Pa/s]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("radiator.flowModel.der(dps_fg[2])", "der(pressure drop between states) [Pa/s]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("radiator.flowModel.Re_turbulent", "Start of turbulent regime, depending on type of flow device [1]",\
 4000, 0.0,0.0,0.0,0,513)
DeclareVariable("radiator.flowModel.show_Res", "= true, if Reynolds numbers are included for plotting [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,515)
DeclareVariable("radiator.flowModel.use_rho_nominal", "= true, if rho_nominal is used, otherwise computed from medium [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,2563)
DeclareParameter("radiator.flowModel.rho_nominal", "Nominal density (e.g., rho_liquidWater = 995, rho_air = 1.2) [kg/m3|g/cm3]",\
 70, 995.586, 0.0,1E+100,0.0,0,2608)
DeclareVariable("radiator.flowModel.use_mu_nominal", "= true, if mu_nominal is used, otherwise computed from medium [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,2563)
DeclareParameter("radiator.flowModel.mu_nominal", "Nominal dynamic viscosity (e.g., mu_liquidWater = 1e-3, mu_air = 1.8e-5) [Pa.s]",\
 71, 0.001, 0.0,1E+100,0.0,0,2608)
DeclareAlias2("radiator.flowModel.pathLengths_internal[1]", "pathLengths used internally; to be defined by extending class [m]",\
 "radiator.pathLengths[1]", 1, 5, 423, 0)
DeclareAlias2("radiator.flowModel.pathLengths_internal[2]", "pathLengths used internally; to be defined by extending class [m]",\
 "radiator.pathLengths[2]", 1, 5, 424, 0)
DeclareVariable("radiator.flowModel.Res_turbulent_internal[1]", "Re_turbulent used internally; to be defined by extending class [1]",\
 4000, 0.0,0.0,0.0,0,513)
DeclareVariable("radiator.flowModel.Res_turbulent_internal[2]", "Re_turbulent used internally; to be defined by extending class [1]",\
 4000, 0.0,0.0,0.0,0,513)
DeclareVariable("radiator.flowModel.dp_nominal", "Nominal pressure loss (only for nominal models) [Pa|bar]",\
 1, 0.0,1E+100,100000.0,0,513)
DeclareVariable("radiator.flowModel.m_flow_nominal", "Nominal mass flow rate [kg/s]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("radiator.flowModel.m_flow_small", "Within regularization if |m_flows| < m_flow_small (may be wider for large discontinuities in static head) [kg/s]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("radiator.flowModel.dp_small", "Within regularization if |dp| < dp_small (may be wider for large discontinuities in static head) [Pa|bar]",\
 1, 0.0,1E+100,100000.0,0,2561)
DeclareVariable("radiator.flowModel.constantPressureLossCoefficient", \
"= true if the pressure loss does not depend on fluid states [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,2563)
DeclareVariable("radiator.flowModel.continuousFlowReversal", "= true if the pressure loss is continuous around zero flow [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,2563)
DeclareAlias2("radiator.flowModel.diameters[1]", "mean diameters between segments [m]",\
 "radiator.dimensions[1]", 1, 5, 356, 1024)
DeclareAlias2("radiator.flowModel.diameters[2]", "mean diameters between segments [m]",\
 "radiator.dimensions[1]", 1, 5, 356, 1024)
DeclareVariable("radiator.flowModel.dp_fric_nominal", "pressure loss for nominal conditions [Pa|bar]",\
 0.0, 0.0,1E+100,100000.0,0,2561)
DeclareAlias2("radiator.m_flows[1]", "Mass flow rates of fluid across segment boundaries [kg/s]",\
 "tank.ports[1].m_flow", 1, 5, 47, 0)
DeclareAlias2("radiator.m_flows[2]", "Mass flow rates of fluid across segment boundaries [kg/s]",\
 "tank.ports[1].m_flow", 1, 5, 47, 0)
DeclareVariable("radiator.H_flows[1]", "Enthalpy flow rates of fluid across segment boundaries [W]",\
 0.0, -100000000.0,100000000.0,1000.0,0,512)
DeclareVariable("radiator.H_flows[2]", "Enthalpy flow rates of fluid across segment boundaries [W]",\
 0.0, -100000000.0,100000000.0,1000.0,0,512)
DeclareVariable("radiator.vs[1]", "mean velocities in flow segments [m/s]", 0.0,\
 0.0,0.0,0.0,0,512)
DeclareVariable("radiator.pathLengths[1]", "Lengths along flow path [m]", 0.0, \
0.0,0.0,0.0,0,2561)
DeclareVariable("radiator.pathLengths[2]", "Lengths along flow path [m]", 0.0, \
0.0,0.0,0.0,0,2561)
DeclareVariable("radiator.dheightsFM[1]", "Differences in heights between flow segments [m]",\
 0.0, 0.0,0.0,0.0,0,2561)
DeclareVariable("radiator.dheightsFM[2]", "Differences in heights between flow segments [m]",\
 0.0, 0.0,0.0,0.0,0,2561)
DeclareAlias2("radiator.crossAreasFM[1]", "Cross flow areas of flow segments [m2]",\
 "radiator.crossAreas[1]", 1, 5, 355, 1024)
DeclareAlias2("radiator.crossAreasFM[2]", "Cross flow areas of flow segments [m2]",\
 "radiator.crossAreas[1]", 1, 5, 355, 1024)
DeclareAlias2("radiator.crossAreasFM[3]", "Cross flow areas of flow segments [m2]",\
 "radiator.crossAreas[1]", 1, 5, 355, 1024)
DeclareVariable("radiator.vsFM[1]", "Mean velocities in flow segments [m/s]", \
0.0, 0.0,0.0,0.0,0,2560)
DeclareAlias2("radiator.vsFM[2]", "Mean velocities in flow segments [m/s]", \
"radiator.vs[1]", 1, 5, 422, 1024)
DeclareVariable("radiator.vsFM[3]", "Mean velocities in flow segments [m/s]", \
0.0, 0.0,0.0,0.0,0,2560)
DeclareAlias2("radiator.dimensionsFM[1]", "Hydraulic diameters of flow segments [m]",\
 "radiator.dimensions[1]", 1, 5, 356, 1024)
DeclareAlias2("radiator.dimensionsFM[2]", "Hydraulic diameters of flow segments [m]",\
 "radiator.dimensions[1]", 1, 5, 356, 1024)
DeclareAlias2("radiator.dimensionsFM[3]", "Hydraulic diameters of flow segments [m]",\
 "radiator.dimensions[1]", 1, 5, 356, 1024)
DeclareAlias2("radiator.roughnessesFM[1]", "Average heights of surface asperities [m]",\
 "radiator.roughnesses[1]", 1, 5, 357, 1024)
DeclareAlias2("radiator.roughnessesFM[2]", "Average heights of surface asperities [m]",\
 "radiator.roughnesses[1]", 1, 5, 357, 1024)
DeclareAlias2("radiator.roughnessesFM[3]", "Average heights of surface asperities [m]",\
 "radiator.roughnesses[1]", 1, 5, 357, 1024)
DeclareVariable("radiator.use_HeatTransfer", "= true to use the HeatTransfer model [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareAlias2("radiator.heatPorts[1].T", "Port temperature [K|degC]", \
"radiator.mediums[1].T", 1, 1, 2, 4)
DeclareAlias2("radiator.heatPorts[1].Q_flow", "Heat flow rate (positive if flowing from outside into the component) [W]",\
 "T_ambient.port.Q_flow", -1, 5, 212, 132)
DeclareVariable("radiator.heatTransfer.n", "Number of heat transfer segments [:#(type=Integer)]",\
 1, 0.0,0.0,0.0,0,517)
DeclareAlias2("radiator.heatTransfer.states[1].p", "Absolute pressure of medium [Pa|bar]",\
 "radiator.mediums[1].p", 1, 5, 581, 0)
DeclareAlias2("radiator.heatTransfer.states[1].T", "Temperature of medium [K|degC]",\
 "radiator.mediums[1].T", 1, 1, 2, 0)
DeclareVariable("radiator.heatTransfer.surfaceAreas[1]", "Heat transfer areas [m2]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareAlias2("radiator.heatTransfer.Q_flows[1]", "Heat flow rates [W]", \
"T_ambient.port.Q_flow", -1, 5, 212, 0)
DeclareVariable("radiator.heatTransfer.use_k", "= true to use k value for thermal isolation [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareVariable("radiator.heatTransfer.k", "Heat transfer coefficient to ambient [W/(m2.K)]",\
 0, 0.0,0.0,0.0,0,513)
DeclareVariable("radiator.heatTransfer.T_ambient", "Ambient temperature [K|degC]",\
 288.15, 0.0,1E+100,300.0,0,513)
DeclareAlias2("radiator.heatTransfer.heatPorts[1].T", "Port temperature [K|degC]",\
 "radiator.mediums[1].T", 1, 1, 2, 4)
DeclareAlias2("radiator.heatTransfer.heatPorts[1].Q_flow", "Heat flow rate (positive if flowing from outside into the component) [W]",\
 "T_ambient.port.Q_flow", -1, 5, 212, 132)
DeclareAlias2("radiator.heatTransfer.Ts[1]", "Temperatures defined by fluid states [K|degC]",\
 "radiator.mediums[1].T", 1, 1, 2, 0)
DeclareAlias2("radiator.heatTransfer.vs[1]", "Mean velocities of fluid flow in segments [m/s]",\
 "radiator.vs[1]", 1, 5, 422, 0)
DeclareVariable("radiator.heatTransfer.nParallel", "number of identical parallel flow devices",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareAlias2("radiator.heatTransfer.lengths[1]", "Lengths along flow path [m]",\
 "radiator.lengths[1]", 1, 5, 354, 0)
DeclareAlias2("radiator.heatTransfer.dimensions[1]", "Characteristic dimensions for fluid flow (diameter for pipe flow) [m]",\
 "radiator.dimensions[1]", 1, 5, 356, 0)
DeclareAlias2("radiator.heatTransfer.roughnesses[1]", "Average heights of surface asperities [m]",\
 "radiator.roughnesses[1]", 1, 5, 357, 0)
DeclareVariable("radiator.dxs[1]", "", 1.0, 0.0,0.0,0.0,0,513)
DeclareVariable("sensor_T_forward.port.m_flow", "Mass flow rate from the connection point into the component [kg/s]",\
 0, 0.0,100000.0,0.0,0,777)
DeclareAlias2("sensor_T_forward.port.p", "Thermodynamic pressure in the connection point [Pa|bar]",\
 "pipe.mediums[1].p", 1, 5, 593, 4)
DeclareVariable("sensor_T_forward.port.h_outflow", "Specific thermodynamic enthalpy close to the connection point if m_flow < 0 [J/kg]",\
 83680.0, -10000000000.0,10000000000.0,1000000.0,0,521)
DeclareVariable("_GlobalScope.Modelica.Media.Interfaces.PartialPureSubstance.X_default[1]",\
 "Default value for mass fractions of medium (for initialization) [kg/kg]", 1.0,\
 0.0,1.0,0.1,0,2561)
DeclareAlias2("sensor_T_forward.T", "Temperature in port medium [K|degC]", \
"T_forward", 1, 3, 0, 0)
DeclareVariable("sensor_T_return.port.m_flow", "Mass flow rate from the connection point into the component [kg/s]",\
 0, 0.0,100000.0,0.0,0,777)
DeclareAlias2("sensor_T_return.port.p", "Thermodynamic pressure in the connection point [Pa|bar]",\
 "tank.ports[1].p", 1, 5, 49, 4)
DeclareVariable("sensor_T_return.port.h_outflow", "Specific thermodynamic enthalpy close to the connection point if m_flow < 0 [J/kg]",\
 83680.0, -10000000000.0,10000000000.0,1000000.0,0,521)
DeclareAlias2("sensor_T_return.T", "Temperature in port medium [K|degC]", \
"T_return", 1, 3, 1, 0)
DeclareVariable("pipe.allowFlowReversal", "= true to allow flow reversal, false restricts to design direction (port_a -> port_b) [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareAlias2("pipe.port_a.m_flow", "Mass flow rate from the connection point into the component [kg/s]",\
 "tank.ports[1].m_flow", 1, 5, 47, 132)
DeclareAlias2("pipe.port_a.p", "Thermodynamic pressure in the connection point [Pa|bar]",\
 "pipe.mediums[1].p", 1, 5, 593, 4)
DeclareVariable("pipe.port_a.h_outflow", "Specific thermodynamic enthalpy close to the connection point if m_flow < 0 [J/kg]",\
 334720.0, -10000000000.0,10000000000.0,1000000.0,0,520)
DeclareAlias2("pipe.port_b.m_flow", "Mass flow rate from the connection point into the component [kg/s]",\
 "tank.ports[1].m_flow", -1, 5, 47, 132)
DeclareAlias2("pipe.port_b.p", "Thermodynamic pressure in the connection point [Pa|bar]",\
 "pipe.mediums[2].p", 1, 5, 605, 4)
DeclareAlias2("pipe.port_b.h_outflow", "Specific thermodynamic enthalpy close to the connection point if m_flow < 0 [J/kg]",\
 "valve.port_b.h_outflow", 1, 5, 166, 4)
DeclareVariable("pipe.port_a_exposesState", "= true if port_a exposes the state of a fluid volume [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,2563)
DeclareVariable("pipe.port_b_exposesState", "= true if port_b.p exposes the state of a fluid volume [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,2563)
DeclareParameter("pipe.showDesignFlowDirection", "= false to hide the arrow in the model icon [:#(type=Boolean)]",\
 72, true, 0.0,0.0,0.0,0,2610)
DeclareParameter("pipe.nParallel", "Number of identical parallel pipes", 73, 1, \
1.0,1E+100,0.0,0,560)
DeclareVariable("pipe.length", "Length [m]", 10, 0.0,0.0,0.0,0,513)
DeclareVariable("pipe.isCircular", "= true if cross sectional area is circular [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareParameter("pipe.diameter", "Diameter of circular pipe [m]", 74, 0.01, 0.0,\
1E+100,0.0,0,560)
DeclareVariable("pipe.crossArea", "Inner cross section area [m2]", 0.0, 0.0,0.0,\
0.0,0,513)
DeclareVariable("pipe.perimeter", "Inner perimeter [m]", 0.0, 0.0,0.0,0.0,0,513)
DeclareParameter("pipe.roughness", "Average height of surface asperities (default: smooth steel pipe) [m]",\
 75, 2.5E-05, 0.0,1E+100,0.0,0,560)
DeclareVariable("pipe.V", "volume size [m3]", 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("pipe.height_ab", "Height(port_b) - Height(port_a) [m]", 0, \
0.0,0.0,0.0,0,513)
DeclareVariable("pipe.n", "Number of discrete volumes [:#(type=Integer)]", 2, \
0.0,0.0,0.0,0,517)
DeclareVariable("pipe.fluidVolumes[1]", "Discretized volume, determine in inheriting class [m3]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("pipe.fluidVolumes[2]", "Discretized volume, determine in inheriting class [m3]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("pipe.energyDynamics", "Formulation of energy balances [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 3, 1.0,4.0,0.0,0,517)
DeclareVariable("pipe.massDynamics", "Formulation of mass balances [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 3, 1.0,4.0,0.0,0,517)
DeclareVariable("pipe.substanceDynamics", "Formulation of substance balances [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 3, 1.0,4.0,0.0,0,517)
DeclareVariable("pipe.traceDynamics", "Formulation of trace substance balances [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 3, 1.0,4.0,0.0,0,517)
DeclareParameter("pipe.p_a_start", "Start value of pressure at port a [Pa|bar]",\
 76, 130000, 0.0,100000000.0,100000.0,0,560)
DeclareVariable("pipe.p_b_start", "Start value of pressure at port b [Pa|bar]", \
100000.0, 0.0,100000000.0,100000.0,0,513)
DeclareVariable("pipe.ps_start[1]", "Start value of pressure [Pa|bar]", 100000.0,\
 0.0,100000000.0,100000.0,0,513)
DeclareVariable("pipe.ps_start[2]", "Start value of pressure [Pa|bar]", 100000.0,\
 0.0,100000000.0,100000.0,0,513)
DeclareVariable("pipe.use_T_start", "Use T_start if true, otherwise h_start [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareVariable("pipe.T_start", "Start value of temperature [K|degC]", 353.15, \
1.0,10000.0,300.0,0,513)
DeclareVariable("pipe.h_start", "Start value of specific enthalpy [J/kg]", \
334720.0, -10000000000.0,10000000000.0,1000000.0,0,513)
DeclareParameter("pipe.X_start[1]", "Start value of mass fractions m_i/m [kg/kg]",\
 77, 1.0, 0.0,1.0,0.1,0,560)
DeclareVariable("pipe.Us[1]", "Internal energy of fluid [J]", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("pipe.Us[2]", "Internal energy of fluid [J]", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("pipe.der(Us[1])", "der(Internal energy of fluid) [W]", 0.0, \
0.0,0.0,0.0,0,512)
DeclareVariable("pipe.der(Us[2])", "der(Internal energy of fluid) [W]", 0.0, \
0.0,0.0,0.0,0,512)
DeclareVariable("pipe.ms[1]", "Fluid mass [kg]", 0.0, 0.0,1E+100,0.0,0,513)
DeclareVariable("pipe.ms[2]", "Fluid mass [kg]", 0.0, 0.0,1E+100,0.0,0,513)
DeclareVariable("pipe.der(ms[1])", "der(Fluid mass) [kg/s]", 0.0, -100000.0,\
100000.0,0.0,0,513)
DeclareVariable("pipe.der(ms[2])", "der(Fluid mass) [kg/s]", 0.0, -100000.0,\
100000.0,0.0,0,513)
DeclareVariable("pipe.mb_flows[1]", "Mass flow rate, source or sink [kg/s]", 0.0,\
 -100000.0,100000.0,0.0,0,513)
DeclareVariable("pipe.mb_flows[2]", "Mass flow rate, source or sink [kg/s]", 0.0,\
 -100000.0,100000.0,0.0,0,513)
DeclareVariable("pipe.Hb_flows[1]", "Enthalpy flow rate, source or sink [W]", \
0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("pipe.Hb_flows[2]", "Enthalpy flow rate, source or sink [W]", \
0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("pipe.Qb_flows[1]", "Heat flow rate, source or sink [W]", 0.0, \
0.0,0.0,0.0,0,513)
DeclareVariable("pipe.Qb_flows[2]", "Heat flow rate, source or sink [W]", 0.0, \
0.0,0.0,0.0,0,513)
DeclareVariable("pipe.Wb_flows[1]", "Mechanical power, p*der(V) etc. [W]", 0.0, \
0.0,0.0,0.0,0,512)
DeclareVariable("pipe.Wb_flows[2]", "Mechanical power, p*der(V) etc. [W]", 0.0, \
0.0,0.0,0.0,0,512)
DeclareVariable("pipe.initialize_p", "= true to set up initial equations for pressure [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,2563)
DeclareVariable("pipe.lengths[1]", "lengths of flow segments [m]", 5.0, 0.0,0.0,\
0.0,0,513)
DeclareVariable("pipe.lengths[2]", "lengths of flow segments [m]", 5.0, 0.0,0.0,\
0.0,0,513)
DeclareVariable("pipe.crossAreas[1]", "cross flow areas of flow segments [m2]", \
0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("pipe.crossAreas[2]", "cross flow areas of flow segments [m2]", \
0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("pipe.dimensions[1]", "hydraulic diameters of flow segments [m]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("pipe.dimensions[2]", "hydraulic diameters of flow segments [m]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("pipe.roughnesses[1]", "Average heights of surface asperities [m]",\
 0.0, 0.0,1E+100,0.0,0,513)
DeclareVariable("pipe.roughnesses[2]", "Average heights of surface asperities [m]",\
 0.0, 0.0,1E+100,0.0,0,513)
DeclareVariable("pipe.dheights[1]", "Differences in heights of flow segments [m]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("pipe.dheights[2]", "Differences in heights of flow segments [m]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("pipe.momentumDynamics", "Formulation of momentum balances [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 4, 1.0,4.0,0.0,0,517)
DeclareVariable("pipe.m_flow_start", "Start value for mass flow rate [kg/s]", \
0.0, -100000.0,100000.0,0.0,0,513)
DeclareVariable("pipe.nNodes", "Number of discrete flow volumes [:#(type=Integer)]",\
 2, 1.0,1E+100,0.0,0,517)
DeclareVariable("pipe.modelStructure", "Determines whether flow or volume models are present at the ports [:#(type=Modelica.Fluid.Types.ModelStructure)]",\
 1, 1.0,4.0,0.0,0,517)
DeclareVariable("pipe.useLumpedPressure", "=true to lump pressure states together [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,515)
DeclareVariable("pipe.nFM", "number of flow models in flowModel [:#(type=Integer)]",\
 1, 0.0,0.0,0.0,0,517)
DeclareVariable("pipe.nFMDistributed", "[:#(type=Integer)]", 1, 0.0,0.0,0.0,0,517)
DeclareVariable("pipe.nFMLumped", "[:#(type=Integer)]", 1, 0.0,0.0,0.0,0,517)
DeclareVariable("pipe.iLumped", "Index of control volume with representative state if useLumpedPressure [:#(type=Integer)]",\
 2, 0.0,0.0,0.0,0,517)
DeclareVariable("pipe.useInnerPortProperties", "=true to take port properties for flow models from internal control volumes [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,515)
DeclareAlias2("pipe.state_a.p", "Absolute pressure of medium [Pa|bar]", \
"pipe.mediums[1].p", 1, 5, 593, 0)
DeclareVariable("pipe.state_a.T", "Temperature of medium [K|degC]", 288.15, 1.0,\
10000.0,300.0,0,512)
DeclareAlias2("pipe.state_b.p", "Absolute pressure of medium [Pa|bar]", \
"pipe.mediums[2].p", 1, 5, 605, 0)
DeclareVariable("pipe.state_b.T", "Temperature of medium [K|degC]", 288.15, 1.0,\
10000.0,300.0,0,512)
DeclareAlias2("pipe.statesFM[1].p", "Absolute pressure of medium [Pa|bar]", \
"pipe.mediums[1].p", 1, 5, 593, 0)
DeclareAlias2("pipe.statesFM[1].T", "Temperature of medium [K|degC]", \
"pipe.mediums[1].T", 1, 1, 3, 0)
DeclareAlias2("pipe.statesFM[2].p", "Absolute pressure of medium [Pa|bar]", \
"pipe.mediums[2].p", 1, 5, 605, 0)
DeclareAlias2("pipe.statesFM[2].T", "Temperature of medium [K|degC]", \
"pipe.mediums[2].T", 1, 1, 4, 0)
DeclareVariable("pipe.flowModel.from_dp", "= true, use m_flow = f(dp), otherwise dp = f(m_flow) [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareVariable("pipe.flowModel.n", "Number of discrete flow volumes [:#(type=Integer)]",\
 2, 0.0,0.0,0.0,0,517)
DeclareAlias2("pipe.flowModel.states[1].p", "Absolute pressure of medium [Pa|bar]",\
 "pipe.mediums[1].p", 1, 5, 593, 0)
DeclareAlias2("pipe.flowModel.states[1].T", "Temperature of medium [K|degC]", \
"pipe.mediums[1].T", 1, 1, 3, 0)
DeclareAlias2("pipe.flowModel.states[2].p", "Absolute pressure of medium [Pa|bar]",\
 "pipe.mediums[2].p", 1, 5, 605, 0)
DeclareAlias2("pipe.flowModel.states[2].T", "Temperature of medium [K|degC]", \
"pipe.mediums[2].T", 1, 1, 4, 0)
DeclareAlias2("pipe.flowModel.vs[1]", "Mean velocities of fluid flow [m/s]", \
"pipe.vs[1]", 1, 5, 547, 0)
DeclareAlias2("pipe.flowModel.vs[2]", "Mean velocities of fluid flow [m/s]", \
"pipe.vs[2]", 1, 5, 548, 0)
DeclareVariable("pipe.flowModel.nParallel", "number of identical parallel flow devices",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareAlias2("pipe.flowModel.crossAreas[1]", "Cross flow areas at segment boundaries [m2]",\
 "pipe.crossAreas[1]", 1, 5, 484, 0)
DeclareAlias2("pipe.flowModel.crossAreas[2]", "Cross flow areas at segment boundaries [m2]",\
 "pipe.crossAreas[2]", 1, 5, 485, 0)
DeclareAlias2("pipe.flowModel.dimensions[1]", "Characteristic dimensions for fluid flow (diameters for pipe flow) [m]",\
 "pipe.dimensions[1]", 1, 5, 486, 0)
DeclareAlias2("pipe.flowModel.dimensions[2]", "Characteristic dimensions for fluid flow (diameters for pipe flow) [m]",\
 "pipe.dimensions[2]", 1, 5, 487, 0)
DeclareAlias2("pipe.flowModel.roughnesses[1]", "Average height of surface asperities [m]",\
 "pipe.roughnesses[1]", 1, 5, 488, 0)
DeclareAlias2("pipe.flowModel.roughnesses[2]", "Average height of surface asperities [m]",\
 "pipe.roughnesses[2]", 1, 5, 489, 0)
DeclareVariable("pipe.flowModel.dheights[1]", "Height(states[2:n]) - Height(states[1:n-1]) [m]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("pipe.flowModel.g", "Constant gravity acceleration [m/s2]", 0.0,\
 0.0,0.0,0.0,0,513)
DeclareVariable("pipe.flowModel.allowFlowReversal", "= true to allow flow reversal, false restricts to design direction (states[1] -> states[n+1]) [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareVariable("pipe.flowModel.momentumDynamics", "Formulation of momentum balance [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 4, 1.0,4.0,0.0,0,517)
DeclareVariable("pipe.flowModel.m_flow_start", "Start value of mass flow rates [kg/s]",\
 0.0, -100000.0,100000.0,0.0,0,513)
DeclareVariable("pipe.flowModel.p_a_start", "Start value for p[1] at design inflow [Pa|bar]",\
 100000.0, 0.0,100000000.0,100000.0,0,513)
DeclareVariable("pipe.flowModel.p_b_start", "Start value for p[n+1] at design outflow [Pa|bar]",\
 100000.0, 0.0,100000000.0,100000.0,0,513)
DeclareVariable("pipe.flowModel.m", "Number of flow segments [:#(type=Integer)]",\
 1, 0.0,0.0,0.0,0,517)
DeclareVariable("pipe.flowModel.pathLengths[1]", "Lengths along flow path [m]", \
10.0, 0.0,0.0,0.0,0,513)
DeclareAlias2("pipe.flowModel.m_flows[1]", "mass flow rates between states [kg/s]",\
 "tank.ports[1].m_flow", 1, 5, 47, 0)
DeclareVariable("pipe.flowModel.Is[1]", "Momenta of flow segments [kg.m/s]", 0.0,\
 0.0,0.0,0.0,0,512)
DeclareVariable("pipe.flowModel.Ib_flows[1]", "Flow of momentum across boundaries [N]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("pipe.flowModel.Fs_p[1]", "Pressure forces [N]", 0.0, 0.0,0.0,\
0.0,0,512)
DeclareVariable("pipe.flowModel.der(Fs_p[1])", "der(Pressure forces) [N/s]", 0.0,\
 0.0,0.0,0.0,0,512)
DeclareAlias2("pipe.flowModel.Fs_fg[1]", "Friction and gravity forces [N]", \
"pipe.flowModel.Fs_p[1]", -1, 5, 518, 0)
DeclareVariable("pipe.flowModel.useUpstreamScheme", "= false to average upstream and downstream properties across flow segments [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareVariable("pipe.flowModel.use_Ib_flows", "= true to consider differences in flow of momentum through boundaries [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,515)
DeclareVariable("pipe.flowModel.rhos[1]", "[kg/m3|g/cm3]", 995.586, 0.0,100000.0,\
1.0,0,513)
DeclareVariable("pipe.flowModel.rhos[2]", "[kg/m3|g/cm3]", 995.586, 0.0,100000.0,\
1.0,0,513)
DeclareVariable("pipe.flowModel.rhos_act[1]", "Actual density per segment [kg/m3|g/cm3]",\
 995.586, 0.0,100000.0,1.0,0,513)
DeclareVariable("pipe.flowModel.mus[1]", "[Pa.s]", 0.001, 0.0,100000000.0,0.001,\
0,513)
DeclareVariable("pipe.flowModel.mus[2]", "[Pa.s]", 0.001, 0.0,100000000.0,0.001,\
0,513)
DeclareVariable("pipe.flowModel.mus_act[1]", "Actual viscosity per segment [Pa.s]",\
 0.001, 0.0,100000000.0,0.001,0,513)
DeclareVariable("pipe.flowModel.dps_fg[1]", "pressure drop between states [Pa|bar]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("pipe.flowModel.der(dps_fg[1])", "der(pressure drop between states) [Pa/s]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("pipe.flowModel.Re_turbulent", "Start of turbulent regime, depending on type of flow device [1]",\
 4000, 0.0,0.0,0.0,0,513)
DeclareVariable("pipe.flowModel.show_Res", "= true, if Reynolds numbers are included for plotting [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,515)
DeclareVariable("pipe.flowModel.use_rho_nominal", "= true, if rho_nominal is used, otherwise computed from medium [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,2563)
DeclareParameter("pipe.flowModel.rho_nominal", "Nominal density (e.g., rho_liquidWater = 995, rho_air = 1.2) [kg/m3|g/cm3]",\
 78, 995.586, 0.0,1E+100,0.0,0,2608)
DeclareVariable("pipe.flowModel.use_mu_nominal", "= true, if mu_nominal is used, otherwise computed from medium [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,2563)
DeclareParameter("pipe.flowModel.mu_nominal", "Nominal dynamic viscosity (e.g., mu_liquidWater = 1e-3, mu_air = 1.8e-5) [Pa.s]",\
 79, 0.001, 0.0,1E+100,0.0,0,2608)
DeclareVariable("pipe.flowModel.pathLengths_internal[1]", "pathLengths used internally; to be defined by extending class [m]",\
 10.0, 0.0,0.0,0.0,0,513)
DeclareVariable("pipe.flowModel.Res_turbulent_internal[1]", "Re_turbulent used internally; to be defined by extending class [1]",\
 4000, 0.0,0.0,0.0,0,513)
DeclareVariable("pipe.flowModel.dp_nominal", "Nominal pressure loss (only for nominal models) [Pa|bar]",\
 1, 0.0,1E+100,100000.0,0,513)
DeclareVariable("pipe.flowModel.m_flow_nominal", "Nominal mass flow rate [kg/s]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("pipe.flowModel.m_flow_small", "Within regularization if |m_flows| < m_flow_small (may be wider for large discontinuities in static head) [kg/s]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("pipe.flowModel.dp_small", "Within regularization if |dp| < dp_small (may be wider for large discontinuities in static head) [Pa|bar]",\
 1, 0.0,1E+100,100000.0,0,2561)
DeclareVariable("pipe.flowModel.constantPressureLossCoefficient", \
"= true if the pressure loss does not depend on fluid states [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,2563)
DeclareVariable("pipe.flowModel.continuousFlowReversal", "= true if the pressure loss is continuous around zero flow [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,2563)
DeclareVariable("pipe.flowModel.diameters[1]", "mean diameters between segments [m]",\
 0.0, 0.0,0.0,0.0,0,2561)
DeclareVariable("pipe.flowModel.dp_fric_nominal", "pressure loss for nominal conditions [Pa|bar]",\
 0.0, 0.0,1E+100,100000.0,0,2561)
DeclareAlias2("pipe.m_flows[1]", "Mass flow rates of fluid across segment boundaries [kg/s]",\
 "tank.ports[1].m_flow", 1, 5, 47, 0)
DeclareAlias2("pipe.m_flows[2]", "Mass flow rates of fluid across segment boundaries [kg/s]",\
 "tank.ports[1].m_flow", 1, 5, 47, 0)
DeclareAlias2("pipe.m_flows[3]", "Mass flow rates of fluid across segment boundaries [kg/s]",\
 "tank.ports[1].m_flow", 1, 5, 47, 0)
DeclareVariable("pipe.H_flows[1]", "Enthalpy flow rates of fluid across segment boundaries [W]",\
 0.0, -100000000.0,100000000.0,1000.0,0,512)
DeclareVariable("pipe.H_flows[2]", "Enthalpy flow rates of fluid across segment boundaries [W]",\
 0.0, -100000000.0,100000000.0,1000.0,0,512)
DeclareVariable("pipe.H_flows[3]", "Enthalpy flow rates of fluid across segment boundaries [W]",\
 0.0, -100000000.0,100000000.0,1000.0,0,512)
DeclareVariable("pipe.vs[1]", "mean velocities in flow segments [m/s]", 0.0, \
0.0,0.0,0.0,0,512)
DeclareVariable("pipe.vs[2]", "mean velocities in flow segments [m/s]", 0.0, \
0.0,0.0,0.0,0,512)
DeclareVariable("pipe.pathLengths[1]", "Lengths along flow path [m]", 10.0, \
0.0,0.0,0.0,0,2561)
DeclareVariable("pipe.dheightsFM[1]", "Differences in heights between flow segments [m]",\
 0.0, 0.0,0.0,0.0,0,2561)
DeclareAlias2("pipe.crossAreasFM[1]", "Cross flow areas of flow segments [m2]", \
"pipe.crossAreas[1]", 1, 5, 484, 1024)
DeclareAlias2("pipe.crossAreasFM[2]", "Cross flow areas of flow segments [m2]", \
"pipe.crossAreas[2]", 1, 5, 485, 1024)
DeclareAlias2("pipe.vsFM[1]", "Mean velocities in flow segments [m/s]", \
"pipe.vs[1]", 1, 5, 547, 1024)
DeclareAlias2("pipe.vsFM[2]", "Mean velocities in flow segments [m/s]", \
"pipe.vs[2]", 1, 5, 548, 1024)
DeclareAlias2("pipe.dimensionsFM[1]", "Hydraulic diameters of flow segments [m]",\
 "pipe.dimensions[1]", 1, 5, 486, 1024)
DeclareAlias2("pipe.dimensionsFM[2]", "Hydraulic diameters of flow segments [m]",\
 "pipe.dimensions[2]", 1, 5, 487, 1024)
DeclareAlias2("pipe.roughnessesFM[1]", "Average heights of surface asperities [m]",\
 "pipe.roughnesses[1]", 1, 5, 488, 1024)
DeclareAlias2("pipe.roughnessesFM[2]", "Average heights of surface asperities [m]",\
 "pipe.roughnesses[2]", 1, 5, 489, 1024)
DeclareVariable("pipe.use_HeatTransfer", "= true to use the HeatTransfer model [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,515)
DeclareVariable("pipe.heatTransfer.n", "Number of heat transfer segments [:#(type=Integer)]",\
 2, 0.0,0.0,0.0,0,517)
DeclareAlias2("pipe.heatTransfer.states[1].p", "Absolute pressure of medium [Pa|bar]",\
 "pipe.mediums[1].p", 1, 5, 593, 0)
DeclareAlias2("pipe.heatTransfer.states[1].T", "Temperature of medium [K|degC]",\
 "pipe.mediums[1].T", 1, 1, 3, 0)
DeclareAlias2("pipe.heatTransfer.states[2].p", "Absolute pressure of medium [Pa|bar]",\
 "pipe.mediums[2].p", 1, 5, 605, 0)
DeclareAlias2("pipe.heatTransfer.states[2].T", "Temperature of medium [K|degC]",\
 "pipe.mediums[2].T", 1, 1, 4, 0)
DeclareVariable("pipe.heatTransfer.surfaceAreas[1]", "Heat transfer areas [m2]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("pipe.heatTransfer.surfaceAreas[2]", "Heat transfer areas [m2]",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("pipe.heatTransfer.Q_flows[1]", "Heat flow rates [W]", 0.0, \
0.0,0.0,0.0,0,513)
DeclareVariable("pipe.heatTransfer.Q_flows[2]", "Heat flow rates [W]", 0.0, \
0.0,0.0,0.0,0,513)
DeclareVariable("pipe.heatTransfer.use_k", "= true to use k value for thermal isolation [:#(type=Boolean)]",\
 false, 0.0,0.0,0.0,0,515)
DeclareVariable("pipe.heatTransfer.k", "Heat transfer coefficient to ambient [W/(m2.K)]",\
 0, 0.0,0.0,0.0,0,513)
DeclareVariable("pipe.heatTransfer.T_ambient", "Ambient temperature [K|degC]", \
288.15, 0.0,1E+100,300.0,0,513)
DeclareAlias2("pipe.heatTransfer.heatPorts[1].T", "Port temperature [K|degC]", \
"pipe.mediums[1].T", 1, 1, 3, 4)
DeclareVariable("pipe.heatTransfer.heatPorts[1].Q_flow", "Heat flow rate (positive if flowing from outside into the component) [W]",\
 0.0, 0.0,0.0,0.0,0,777)
DeclareAlias2("pipe.heatTransfer.heatPorts[2].T", "Port temperature [K|degC]", \
"pipe.mediums[2].T", 1, 1, 4, 4)
DeclareVariable("pipe.heatTransfer.heatPorts[2].Q_flow", "Heat flow rate (positive if flowing from outside into the component) [W]",\
 0.0, 0.0,0.0,0.0,0,777)
DeclareAlias2("pipe.heatTransfer.Ts[1]", "Temperatures defined by fluid states [K|degC]",\
 "pipe.mediums[1].T", 1, 1, 3, 0)
DeclareAlias2("pipe.heatTransfer.Ts[2]", "Temperatures defined by fluid states [K|degC]",\
 "pipe.mediums[2].T", 1, 1, 4, 0)
DeclareAlias2("pipe.heatTransfer.vs[1]", "Mean velocities of fluid flow in segments [m/s]",\
 "pipe.vs[1]", 1, 5, 547, 0)
DeclareAlias2("pipe.heatTransfer.vs[2]", "Mean velocities of fluid flow in segments [m/s]",\
 "pipe.vs[2]", 1, 5, 548, 0)
DeclareVariable("pipe.heatTransfer.nParallel", "number of identical parallel flow devices",\
 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("pipe.heatTransfer.lengths[1]", "Lengths along flow path [m]", \
5.0, 0.0,0.0,0.0,0,513)
DeclareVariable("pipe.heatTransfer.lengths[2]", "Lengths along flow path [m]", \
5.0, 0.0,0.0,0.0,0,513)
DeclareAlias2("pipe.heatTransfer.dimensions[1]", "Characteristic dimensions for fluid flow (diameter for pipe flow) [m]",\
 "pipe.dimensions[1]", 1, 5, 486, 0)
DeclareAlias2("pipe.heatTransfer.dimensions[2]", "Characteristic dimensions for fluid flow (diameter for pipe flow) [m]",\
 "pipe.dimensions[2]", 1, 5, 487, 0)
DeclareAlias2("pipe.heatTransfer.roughnesses[1]", "Average heights of surface asperities [m]",\
 "pipe.roughnesses[1]", 1, 5, 488, 0)
DeclareAlias2("pipe.heatTransfer.roughnesses[2]", "Average heights of surface asperities [m]",\
 "pipe.roughnesses[2]", 1, 5, 489, 0)
DeclareVariable("pipe.dxs[1]", "", 0.5, 0.0,0.0,0.0,0,513)
DeclareVariable("pipe.dxs[2]", "", 0.5, 0.0,0.0,0.0,0,513)
DeclareInput("dQ_flow", "[:#(prefix=input)]", 0, 0.0, 0.0,0.0,0.0,0,512)
DeclareInput("du", "[:#(prefix=input)]", 1, 0.0, 0.0,0.0,0.0,0,512)
DeclareAlias2("add.u1", "Connector of Real input signal 1", "dQ_flow", 1, 2, 0, 0)
DeclareAlias2("add.u2", "Connector of Real input signal 2", "Q_0.k", 1, 5, 567, 0)
DeclareAlias2("add.y", "Connector of Real output signal", "burner.Q_flow", 1, 5,\
 214, 0)
DeclareParameter("add.k1", "Gain of upper input", 80, 1, 0.0,0.0,0.0,0,560)
DeclareParameter("add.k2", "Gain of lower input", 81, 1, 0.0,0.0,0.0,0,560)
DeclareAlias2("add1.u1", "Connector of Real input signal 1", "du", 1, 2, 1, 0)
DeclareAlias2("add1.u2", "Connector of Real input signal 2", "u_0.k", 1, 5, 568,\
 0)
DeclareAlias2("add1.y", "Connector of Real output signal", "valve.opening", 1, 5,\
 187, 0)
DeclareParameter("add1.k1", "Gain of upper input", 82, 1, 0.0,0.0,0.0,0,560)
DeclareParameter("add1.k2", "Gain of lower input", 83, 1, 0.0,0.0,0.0,0,560)
DeclareVariable("Q_0.k", "Constant output value", 1, 0.0,0.0,0.0,0,513)
DeclareAlias2("Q_0.y", "Connector of Real output signal", "Q_0.k", 1, 5, 567, 0)
DeclareVariable("u_0.k", "Constant output value", 1, 0.0,0.0,0.0,0,513)
DeclareAlias2("u_0.y", "Connector of Real output signal", "u_0.k", 1, 5, 568, 0)
DeclareParameter("Q0", "", 84, 300, 0.0,0.0,0.0,0,560)
DeclareParameter("u0", "", 85, 0.1, 0.0,0.0,0.0,0,560)
DeclareOutput("T_forward", "", 0, 0.0, 0.0,1E+100,0.0,0,512)
DeclareOutput("T_return", "", 1, 0.0, 0.0,1E+100,0.0,0,512)
DeclareVariable("heater.mediums[1].p", "Absolute pressure of medium [Pa|bar]", \
0.0, 0.0,100000000.0,100000.0,0,512)
DeclareVariable("heater.mediums[1].der(p)", "der(Absolute pressure of medium) [Pa/s]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareAlias2("heater.mediums[1].h", "Specific enthalpy of medium [J/kg]", \
"heater.port_a.h_outflow", 1, 5, 217, 0)
DeclareVariable("heater.mediums[1].d", "Density of medium [kg/m3|g/cm3]", \
995.586, 0.0,100000.0,1.0,0,513)
DeclareState("heater.mediums[1].T", "Temperature of medium [K|degC]", 1, 353.15,\
 1.0,10000.0,300.0,0,544)
DeclareDerivative("heater.mediums[1].der(T)", "der(Temperature of medium) [K/s]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("heater.mediums[1].X[1]", "Mass fractions (= (component mass)/total mass  m_i/m) [kg/kg]",\
 1.0, 0.0,1.0,0.1,0,513)
DeclareVariable("heater.mediums[1].u", "Specific internal energy of medium [J/kg]",\
 0.0, -100000000.0,100000000.0,1000000.0,0,512)
DeclareVariable("heater.mediums[1].der(u)", "der(Specific internal energy of medium) [m2/s3]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("heater.mediums[1].R", "Gas constant (of mixture if applicable) [J/(kg.K)]",\
 0, 0.0,10000000.0,1000.0,0,513)
DeclareVariable("heater.mediums[1].MM", "Molar mass (of mixture or single fluid) [kg/mol]",\
 0.018015268, 0.001,0.25,0.032,0,513)
DeclareAlias2("heater.mediums[1].state.p", "Absolute pressure of medium [Pa|bar]",\
 "heater.mediums[1].p", 1, 5, 569, 0)
DeclareAlias2("heater.mediums[1].state.T", "Temperature of medium [K|degC]", \
"heater.mediums[1].T", 1, 1, 1, 0)
DeclareVariable("heater.mediums[1].preferredMediumStates", "= true if StateSelect.prefer shall be used for the independent property variables of the medium [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareVariable("heater.mediums[1].standardOrderComponents", "If true, and reducedX = true, the last element of X will be computed from the other ones [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareVariable("heater.mediums[1].T_degC", "Temperature of medium in [degC] [degC;]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("heater.mediums[1].p_bar", "Absolute pressure of medium in [bar] [bar]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("radiator.mediums[1].p", "Absolute pressure of medium [Pa|bar]",\
 0.0, 0.0,100000000.0,100000.0,0,512)
DeclareVariable("radiator.mediums[1].der(p)", "der(Absolute pressure of medium) [Pa/s]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareAlias2("radiator.mediums[1].h", "Specific enthalpy of medium [J/kg]", \
"valve.port_a.h_outflow", 1, 5, 163, 0)
DeclareVariable("radiator.mediums[1].d", "Density of medium [kg/m3|g/cm3]", \
995.586, 0.0,100000.0,1.0,0,513)
DeclareState("radiator.mediums[1].T", "Temperature of medium [K|degC]", 2, \
313.15, 1.0,10000.0,300.0,0,544)
DeclareDerivative("radiator.mediums[1].der(T)", "der(Temperature of medium) [K/s]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("radiator.mediums[1].X[1]", "Mass fractions (= (component mass)/total mass  m_i/m) [kg/kg]",\
 1.0, 0.0,1.0,0.1,0,513)
DeclareVariable("radiator.mediums[1].u", "Specific internal energy of medium [J/kg]",\
 0.0, -100000000.0,100000000.0,1000000.0,0,512)
DeclareVariable("radiator.mediums[1].der(u)", "der(Specific internal energy of medium) [m2/s3]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("radiator.mediums[1].R", "Gas constant (of mixture if applicable) [J/(kg.K)]",\
 0, 0.0,10000000.0,1000.0,0,513)
DeclareVariable("radiator.mediums[1].MM", "Molar mass (of mixture or single fluid) [kg/mol]",\
 0.018015268, 0.001,0.25,0.032,0,513)
DeclareAlias2("radiator.mediums[1].state.p", "Absolute pressure of medium [Pa|bar]",\
 "radiator.mediums[1].p", 1, 5, 581, 0)
DeclareAlias2("radiator.mediums[1].state.T", "Temperature of medium [K|degC]", \
"radiator.mediums[1].T", 1, 1, 2, 0)
DeclareVariable("radiator.mediums[1].preferredMediumStates", "= true if StateSelect.prefer shall be used for the independent property variables of the medium [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareVariable("radiator.mediums[1].standardOrderComponents", "If true, and reducedX = true, the last element of X will be computed from the other ones [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareVariable("radiator.mediums[1].T_degC", "Temperature of medium in [degC] [degC;]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("radiator.mediums[1].p_bar", "Absolute pressure of medium in [bar] [bar]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("pipe.mediums[1].p", "Absolute pressure of medium [Pa|bar]", 0.0,\
 0.0,100000000.0,100000.0,0,512)
DeclareVariable("pipe.mediums[1].der(p)", "der(Absolute pressure of medium) [Pa/s]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareAlias2("pipe.mediums[1].h", "Specific enthalpy of medium [J/kg]", \
"pipe.port_a.h_outflow", 1, 5, 443, 0)
DeclareVariable("pipe.mediums[1].d", "Density of medium [kg/m3|g/cm3]", 995.586,\
 0.0,100000.0,1.0,0,513)
DeclareState("pipe.mediums[1].T", "Temperature of medium [K|degC]", 3, 353.15, \
1.0,10000.0,300.0,0,544)
DeclareDerivative("pipe.mediums[1].der(T)", "der(Temperature of medium) [K/s]", \
0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("pipe.mediums[1].X[1]", "Mass fractions (= (component mass)/total mass  m_i/m) [kg/kg]",\
 1.0, 0.0,1.0,0.1,0,513)
DeclareVariable("pipe.mediums[1].u", "Specific internal energy of medium [J/kg]",\
 0.0, -100000000.0,100000000.0,1000000.0,0,512)
DeclareVariable("pipe.mediums[1].der(u)", "der(Specific internal energy of medium) [m2/s3]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("pipe.mediums[1].R", "Gas constant (of mixture if applicable) [J/(kg.K)]",\
 0, 0.0,10000000.0,1000.0,0,513)
DeclareVariable("pipe.mediums[1].MM", "Molar mass (of mixture or single fluid) [kg/mol]",\
 0.018015268, 0.001,0.25,0.032,0,513)
DeclareAlias2("pipe.mediums[1].state.p", "Absolute pressure of medium [Pa|bar]",\
 "pipe.mediums[1].p", 1, 5, 593, 0)
DeclareAlias2("pipe.mediums[1].state.T", "Temperature of medium [K|degC]", \
"pipe.mediums[1].T", 1, 1, 3, 0)
DeclareVariable("pipe.mediums[1].preferredMediumStates", "= true if StateSelect.prefer shall be used for the independent property variables of the medium [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareVariable("pipe.mediums[1].standardOrderComponents", "If true, and reducedX = true, the last element of X will be computed from the other ones [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareVariable("pipe.mediums[1].T_degC", "Temperature of medium in [degC] [degC;]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("pipe.mediums[1].p_bar", "Absolute pressure of medium in [bar] [bar]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("pipe.mediums[2].p", "Absolute pressure of medium [Pa|bar]", 0.0,\
 0.0,100000000.0,100000.0,0,512)
DeclareVariable("pipe.mediums[2].der(p)", "der(Absolute pressure of medium) [Pa/s]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareAlias2("pipe.mediums[2].h", "Specific enthalpy of medium [J/kg]", \
"valve.port_b.h_outflow", 1, 5, 166, 0)
DeclareVariable("pipe.mediums[2].d", "Density of medium [kg/m3|g/cm3]", 995.586,\
 0.0,100000.0,1.0,0,513)
DeclareState("pipe.mediums[2].T", "Temperature of medium [K|degC]", 4, 353.15, \
1.0,10000.0,300.0,0,544)
DeclareDerivative("pipe.mediums[2].der(T)", "der(Temperature of medium) [K/s]", \
0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("pipe.mediums[2].X[1]", "Mass fractions (= (component mass)/total mass  m_i/m) [kg/kg]",\
 1.0, 0.0,1.0,0.1,0,513)
DeclareVariable("pipe.mediums[2].u", "Specific internal energy of medium [J/kg]",\
 0.0, -100000000.0,100000000.0,1000000.0,0,512)
DeclareVariable("pipe.mediums[2].der(u)", "der(Specific internal energy of medium) [m2/s3]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("pipe.mediums[2].R", "Gas constant (of mixture if applicable) [J/(kg.K)]",\
 0, 0.0,10000000.0,1000.0,0,513)
DeclareVariable("pipe.mediums[2].MM", "Molar mass (of mixture or single fluid) [kg/mol]",\
 0.018015268, 0.001,0.25,0.032,0,513)
DeclareAlias2("pipe.mediums[2].state.p", "Absolute pressure of medium [Pa|bar]",\
 "pipe.mediums[2].p", 1, 5, 605, 0)
DeclareAlias2("pipe.mediums[2].state.T", "Temperature of medium [K|degC]", \
"pipe.mediums[2].T", 1, 1, 4, 0)
DeclareVariable("pipe.mediums[2].preferredMediumStates", "= true if StateSelect.prefer shall be used for the independent property variables of the medium [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareVariable("pipe.mediums[2].standardOrderComponents", "If true, and reducedX = true, the last element of X will be computed from the other ones [:#(type=Boolean)]",\
 true, 0.0,0.0,0.0,0,515)
DeclareVariable("pipe.mediums[2].T_degC", "Temperature of medium in [degC] [degC;]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("pipe.mediums[2].p_bar", "Absolute pressure of medium in [bar] [bar]",\
 0.0, 0.0,0.0,0.0,0,512)
DeclareOutput("CPUtime", "[s]", 2, 0.0, 0.0,0.0,0.0,0,512)
DeclareOutput("EventCounter", "", 3, 0.0, 0.0,0.0,0.0,0,512)
DeclareState("stateSelect.set1.x[1]", "", 5, 0.0, 0.0,0.0,0.0,0,544)
DeclareDerivative("stateSelect.set1.der(x[1])", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareState("stateSelect.set1.x[2]", "", 6, 0.0, 0.0,0.0,0.0,0,544)
DeclareDerivative("stateSelect.set1.der(x[2])", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareState("stateSelect.set1.x[3]", "", 7, 0.0, 0.0,0.0,0.0,0,544)
DeclareDerivative("stateSelect.set1.der(x[3])", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[1, 1]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[1, 2]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[1, 3]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[1, 4]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[1, 5]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[1, 6]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[1, 7]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[1, 8]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[1, 9]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[1, 10]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[1, 11]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[1, 12]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[1, 13]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[2, 1]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[2, 2]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[2, 3]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[2, 4]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[2, 5]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[2, 6]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[2, 7]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[2, 8]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[2, 9]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[2, 10]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[2, 11]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[2, 12]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[2, 13]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[3, 1]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[3, 2]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[3, 3]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[3, 4]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[3, 5]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[3, 6]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[3, 7]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[3, 8]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[3, 9]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[3, 10]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[3, 11]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[3, 12]", "", 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("stateSelect.set1.P[3, 13]", "", 0.0, 0.0,0.0,0.0,0,512)
EndNonAlias(0)

#define DymolaHaveUpdateInitVars 1
#include <dsblock5.c>

DYMOLA_STATIC void UpdateInitVars(double*time, double* X_, double* XD_, double* U_, double* DP_, int IP_[], Dymola_bool LP_[], double* F_, double* Y_, double* W_, double QZ_[], double duser_[], int iuser_[], void*cuser_[],struct DYNInstanceData*did_,int initialCall) {
if (initialCall) DYNX(did_->xInitial_var, 0)=DYNX(W_,569);
else if (DYNHReject) DYNX(W_,569)=did_->xInitial_var2[0]; else did_->xInitial_var2[0]=
  DYNX(W_,569);
if (initialCall) DYNX(did_->xInitial_var, 1)=DYNX(W_,593);
else if (DYNHReject) DYNX(W_,593)=did_->xInitial_var2[1]; else did_->xInitial_var2[1]=
  DYNX(W_,593);
if (initialCall) DYNX(did_->xInitial_var, 6)=DYNX(W_,147);
else if (DYNHReject) DYNX(W_,147)=did_->xInitial_var2[6]; else did_->xInitial_var2[6]=
  DYNX(W_,147);
if (initialCall) DYNX(did_->xInitial_var, 3)=DYNX(W_,581);
else if (DYNHReject) DYNX(W_,581)=did_->xInitial_var2[3]; else did_->xInitial_var2[3]=
  DYNX(W_,581);
if (initialCall) DYNX(did_->xInitial_var, 2)=DYNX(W_,49);
else if (DYNHReject) DYNX(W_,49)=did_->xInitial_var2[2]; else did_->xInitial_var2[2]=
  DYNX(W_,49);
if (initialCall) DYNX(did_->xInitial_var, 5)=DYNX(W_,173);
else if (DYNHReject) DYNX(W_,173)=did_->xInitial_var2[5]; else did_->xInitial_var2[5]=
  DYNX(W_,173);
if (initialCall) DYNX(did_->xInitial_var, 4)=DYNX(W_,164);
else if (DYNHReject) DYNX(W_,164)=did_->xInitial_var2[4]; else did_->xInitial_var2[4]=
  DYNX(W_,164);
}
StartDataBlock
StartEqBlock
DoRemember_(DYNX(W_,570), 0.0, 18);
DoRemember_(DYNX(W_,574), 0.0, 22);
DoRemember_(DYNX(W_,594), 0.0, 17);
DoRemember_(DYNX(W_,598), 0.0, 23);
DoRemember_(DYNX(W_,606), 0.0, 16);
DoRemember_(DYNX(W_,610), 0.0, 24);
DoRemember_(DYNX(W_,97), 0.0, 21);
DoRemember_(DYNX(W_,582), 0.0, 14);
DoRemember_(DYNX(W_,586), 0.0, 25);
DoRemember_(DYNX(W_,30), 0.0, 20);
DoRemember_(DYNX(W_,50), 0.0, 13);
DoRemember_(DYNX(W_,54), 0.0, 19);
DoRemember_(DYNX(W_,174), 0.0, 15);
DoRemember_(DYNX(W_,569), DYNX(W_,232), 12);
DoRemember_(DYNX(W_,593), DYNX(W_,460), 11);
DoRemember_(DYNX(W_,605), DYNX(W_,461), 10);
DoRemember_(DYNX(W_,147), DYNX(DP_,25), 26);
DoRemember_(DYNX(W_,114), DYNX(DP_,27), 8);
DoRemember_(DYNX(W_,581), DYNX(W_,342), 3);
DoRemember_(DYNX(W_,37), 0.0, 4);
DoRemember_(DYNX(W_,11), DYNX(W_,94), 7);
DoRemember_(DYNX(W_,39), 0.0, 5);
DoRemember_(DYNX(W_,26), DYNX(DP_,9), 6);
DoRemember_(DYNX(W_,49), 100000.0, 1);
DoRemember_(DYNX(W_,53), 100000.0, 0);
DoRemember_(DYNX(W_,194), 0.0, 9);
DoRemember_(DYNX(W_,164), 110000, 2);
DYNSetRememberAcceptedBase(26);
EndEqBlock
EndDataBlock
  BreakSectionStart(3);

  MixedInitialSystemOfEquations(19, DYNX(DYNhelp,27))

     /* Linear system of equations to solve. */
    /* Tag: simplified homotopy initialization.linear[1] */
    /* Introducing 26 common subexpressions used in 72 expressions */
    /* Of the common subexpressions 26 are reals, 0 are integers, and 0
       are booleans. */
    DYNX(DYNhelp,46) = DYNX(W_,263)*DYNX(W_,245)*DYNX(DP_,31);
    DYNX(DYNhelp,47) = divmacro(1.0,"1.0",DYNX(W_,263),"heater.flowModel.nParallel");
    DYNX(DYNhelp,48) = 2.0*DYNX(W_,245);
    DYNX(DYNhelp,49) = divmacro(1.0,"1.0",DYNX(DYNhelp,48),"2.0*heater.crossAreas[1]");
    DYNX(DYNhelp,50) = divmacro(DYNX(DYNhelp,49)*DYNX(DYNhelp,47)*(-2.0)*
      DYNX(W_,304)*DYNX(DYNhelp,46),"(-2.0)*(heater.flowModel.m_flow_nominal*(heater.flowModel.nParallel*(heater.crossAreas[1]*pump.p_b_nominal)))/heater.flowModel.nParallel/(2.0*heater.crossAreas[1])",
      DYNX(W_,303),"heater.flowModel.dp_nominal");
    DYNX(DYNhelp,51) = divmacro(1.0,"1.0",DYNX(W_,303),"heater.flowModel.dp_nominal");
    DYNX(DYNhelp,52) = DYNX(W_,304)*(IF DYNX(W_,90) THEN 0.0 ELSE IF DYNX(W_,92)
       THEN 0.0 ELSE 1.0);
    DYNX(DYNhelp,53) = DYNX(DYNhelp,52)*DYNX(DYNhelp,46);
    /* Automatic tearing of linear system of 18 simultaneous equations
    gave a linear system of 6 equations for numerical solution.*/
    {
      const char*const varnames_[]={"heater.mediums[1].p", "pipe.mediums[1].p", 
        "radiator.mediums[1].p", "valve.port_b.p", "valve.dp", "tank.ports[1].p"};
      const double nominal_[]={100000.0, 100000.0, 100000.0, 100000.0, 1e5, 
        100000.0};
      DidLinearSystemOfEquations(J, b, y, 6, DYNX(DYNhelp,54), 120, 
        DYNX(did_->helpvari_vec,0), 16);
      /* Jacobian depending on continuous variables */
      SetNeedFactor(J);
      if (NeedFactor(J)) {
        MatrixZeros(J);
        DYNX(DYNhelp,174) = DYNX(W_,263)*DYNX(W_,245);
        DYNX(DYNhelp,175) = DYNX(W_,304)*DYNX(DYNhelp,174);
        DYNX(DYNhelp,176) = DYNX(DYNhelp,51)*DYNX(DYNhelp,49)*DYNX(DYNhelp,47)*(
          -2.0)*DYNX(DYNhelp,175);
        DYNX(DYNhelp,177) = DYNX(W_,373)*DYNX(W_,355);
        DYNX(DYNhelp,178) = DYNX(W_,414)*DYNX(DYNhelp,177);
        DYNX(DYNhelp,179) = divmacro(1.0,"1.0",DYNX(W_,373),"radiator.flowModel.nParallel");
        DYNX(DYNhelp,180) = 2.0*DYNX(W_,355);
        DYNX(DYNhelp,181) = divmacro(1.0,"1.0",DYNX(DYNhelp,180),
          "2.0*radiator.crossAreas[1]");
        DYNX(DYNhelp,182) = divmacro(1.0,"1.0",DYNX(W_,413),"radiator.flowModel.dp_nominal");
        DYNX(DYNhelp,183) =  -DYNX(DYNhelp,182)*DYNX(DYNhelp,181)*
          DYNX(DYNhelp,179)*2.0*DYNX(DYNhelp,178);
        DYNX(DYNhelp,184) =  -DYNX(DYNhelp,182)*DYNX(DYNhelp,181)*
          DYNX(DYNhelp,179)*(-2.0)*DYNX(DYNhelp,178);
        DYNX(DYNhelp,185) = divmacro(1.0,"1.0",DYNX(DP_,37),"valve.dp_nominal");
        DYNX(DYNhelp,186) = DYNX(W_,484)+DYNX(W_,485);
        DYNX(DYNhelp,187) = DYNX(W_,537)*DYNX(W_,506)*DYNX(DYNhelp,186);
        DYNX(DYNhelp,188) = divmacro(1.0,"1.0",DYNX(W_,506),"pipe.flowModel.nParallel");
        DYNX(DYNhelp,189) = divmacro(1.0,"1.0",DYNX(DYNhelp,186),
          "pipe.crossAreas[1]+pipe.crossAreas[2]");
        DYNX(DYNhelp,190) = divmacro(1.0,"1.0",DYNX(W_,536),"pipe.flowModel.dp_nominal");
        DYNX(DYNhelp,191) =  -DYNX(DYNhelp,190)*DYNX(DYNhelp,189)*
          DYNX(DYNhelp,188)*(-1.0)*DYNX(DYNhelp,187);
        SetMatrixLeading(J, 1, 1, 6, DYNX(DYNhelp,51)*DYNX(DYNhelp,49)*
          DYNX(DYNhelp,47)*(-4.0)*DYNX(DYNhelp,175));
        SetMatrixLeading(J, 1, 2, 6,  -DYNX(DYNhelp,176));
        SetMatrixLeading(J, 2, 1, 6, DYNX(DYNhelp,176));
        SetMatrixLeading(J, 2, 3, 6, DYNX(DYNhelp,183));
        SetMatrixLeading(J, 2, 6, 6, DYNX(DYNhelp,184));
        SetMatrixLeading(J, 3, 1, 6, DYNX(DYNhelp,176));
        SetMatrixLeading(J, 3, 3, 6, DYNX(DYNhelp,184));
        SetMatrixLeading(J, 3, 4, 6, DYNX(DYNhelp,183));
        SetMatrixLeading(J, 4, 1, 6, DYNX(DYNhelp,176));
        SetMatrixLeading(J, 4, 5, 6,  -DYNX(DYNhelp,185)*DYNX(W_,205)*
          DYNX(DP_,38));
        SetMatrixLeading(J, 5, 1, 6, DYNX(DYNhelp,176));
        SetMatrixLeading(J, 5, 2, 6,  -DYNX(DYNhelp,190)*DYNX(DYNhelp,189)*
          DYNX(DYNhelp,188)*DYNX(DYNhelp,187));
        SetMatrixLeading(J, 5, 4, 6, DYNX(DYNhelp,191));
        SetMatrixLeading(J, 5, 5, 6, DYNX(DYNhelp,191));
        SetMatrixLeading(J, 6, 1, 6, DYNX(DYNhelp,51)*DYNX(DYNhelp,49)*
          DYNX(DYNhelp,47)*(-2.0)*DYNX(DYNhelp,52)*DYNX(DYNhelp,174));
        SetMatrixLeading(J, 6, 6, 6, IF DYNX(W_,90) THEN 1.0 ELSE IF DYNX(W_,92)
           THEN 1.0 ELSE 0.0);
      }
      SetVector(b, 1, DYNX(DYNhelp,50));
      SetVector(b, 2, DYNX(DYNhelp,50));
      SetVector(b, 3, DYNX(DYNhelp,50));
      SetVector(b, 4, DYNX(DYNhelp,50));
      SetVector(b, 5, DYNX(DYNhelp,50));
      SetVector(b, 6, DYNX(DYNhelp,51)*DYNX(DYNhelp,49)*DYNX(DYNhelp,47)*(-2.0)*
        DYNX(DYNhelp,53)-(IF DYNX(W_,90) THEN  -DYNX(W_,83) ELSE IF DYNX(W_,92)
         THEN  -DYNX(W_,83) ELSE 0.0));
      SetVector(y, 1, DYNX(W_,232));
      SetVector(y, 2, DYNX(W_,460));
      SetVector(y, 3, DYNX(W_,342));
      SetVector(y, 4, 110000);
      SetVector(y, 5, DYNX(DP_,34));
      SetVector(y, 6, 100000.0);
      SolveLinearSystemOfEquationsMixed(J, b, y, 1);
      DYNX(W_,569) = GetVector(y, 1);
      DYNX(W_,593) = GetVector(y, 2);
      DYNX(W_,581) = GetVector(y, 3);
      DYNX(W_,164) = GetVector(y, 4);
      DYNX(W_,173) = GetVector(y, 5);
      DYNX(W_,49) = GetVector(y, 6);
      EndStaticLinearSystemOfEquations(J);
    }
    DYNX(W_,277) = DYNX(W_,263)*DYNX(W_,245)*(DYNX(W_,569)-DYNX(DP_,31));
    DYNX(W_,293) = DYNX(DYNhelp,49)*DYNX(DYNhelp,47)*(-2)*DYNX(W_,277);
    DYNX(W_,278) = DYNX(W_,263)*DYNX(W_,245)*(DYNX(W_,593)-DYNX(W_,569));
    DYNX(W_,294) = DYNX(DYNhelp,49)*DYNX(DYNhelp,47)*(-2)*DYNX(W_,278);
    DYNX(W_,388) = DYNX(W_,373)*DYNX(W_,355)*(DYNX(W_,49)-DYNX(W_,581));
    DYNX(W_,404) = DYNX(DYNhelp,181)*DYNX(DYNhelp,179)*(-2)*DYNX(W_,388);
    DYNX(W_,387) = DYNX(W_,373)*DYNX(W_,355)*(DYNX(W_,581)-DYNX(W_,164));
    DYNX(W_,403) = DYNX(DYNhelp,181)*DYNX(DYNhelp,179)*(-2)*DYNX(W_,387);
    DYNX(W_,605) = DYNX(W_,173)+DYNX(W_,164);
    DYNX(W_,518) = 0.5*DYNX(W_,506)*DYNX(DYNhelp,186)*(DYNX(W_,605)-DYNX(W_,593));
    DYNX(W_,528) = DYNX(DYNhelp,189)*DYNX(DYNhelp,188)*(-2)*DYNX(W_,518);
    DYNX(W_,47) = DYNX(DYNhelp,51)*DYNX(W_,304)*DYNX(W_,293);
    AssertModelica(DYNX(W_,47) >= -0.5,"tank.ports[1].m_flow >= -0.5", 
      StringAdd("Value for variable, with non-reversible flow according to min/max bound, is: ",
      Real2String(DYNX(W_,47), 1, 10)));
    AssertModelica(DYNX(W_,47) <= 100000.5,"tank.ports[1].m_flow <= 100000.5", 
      StringAdd("Value for variable, with non-reversible flow according to min/max bound, is: ",
      Real2String(DYNX(W_,47), 1, 10)));
    PopAllMarks();
     /* End of Equation Block */ 

    DYNX(W_,75) = IF DYNX(W_,90) THEN DYNX(W_,11)-DYNX(DP_,12) ELSE IF 
      DYNX(W_,92) THEN DYNX(W_,47) ELSE 9.869232667160129E-06*(DYNX(W_,49)-
      DYNX(W_,83))*(DYNX(DP_,12)-DYNX(W_,11));

    MixedModeStartBoolean
    UpdateVariableNamed(DYNX(W_,92),"tank.inFlow[1]",  NOT DYNX(W_,90) AND (
      Greater(DYNX(W_,75),"tank.s[1]", 0,"0", 3) OR DYNX(DP_,12) >= DYNX(W_,88)));
    MixedModeInit(1, DYNX(DYNhelp,192))
    ThetaMixedCross(0,3)
    MixedModeEndBoolean
    UpdateReal(DYNX(W_,49), 1)
    UpdateReal(DYNX(W_,404), 2)
    UpdateReal(DYNX(W_,388), 3)
    UpdateReal(DYNX(W_,581), 4)
    UpdateReal(DYNX(W_,403), 5)
    UpdateReal(DYNX(W_,387), 6)
    UpdateReal(DYNX(W_,164), 7)
    UpdateReal(DYNX(W_,173), 8)
    UpdateReal(DYNX(W_,605), 9)
    UpdateReal(DYNX(W_,528), 10)
    UpdateReal(DYNX(W_,518), 11)
    UpdateReal(DYNX(W_,593), 12)
    UpdateReal(DYNX(W_,294), 13)
    UpdateReal(DYNX(W_,278), 14)
    UpdateReal(DYNX(W_,569), 15)
    UpdateReal(DYNX(W_,277), 16)
    UpdateReal(DYNX(W_,293), 17)
    UpdateReal(DYNX(W_,47), 18)
    UpdateReal(DYNX(W_,75), 19)
  EndMixedSystemOfEquations

  BreakSectionEnd()
  BreakSectionStart(4);

  MixedInitialSystemOfEquations(2, DYNX(DYNhelp,409))
     /* Linear system of equations to solve. */
    DYNX(W_,53) = 100000.0;
    SolveScalarLinearMixed(IF DYNX(W_,91) THEN 1.0 ELSE IF DYNX(W_,93) THEN 1.0
       ELSE 0.0,"(if tank.regularFlow[2] then 1.0 else (if tank.inFlow[2] then 1.0 else 0.0))",
        -(IF DYNX(W_,91) THEN  -DYNX(W_,84) ELSE IF DYNX(W_,93) THEN  -
      DYNX(W_,84) ELSE  -DYNX(W_,47))," -(if tank.regularFlow[2] then  -tank.vessel_ps_static[2] else (if tank.inFlow[2] then  -tank.vessel_ps_static[2] else  -tank.ports[1].m_flow))",
       DYNX(W_,53),"tank.ports[2].p");
     /* End of Equation Block */ 

    DYNX(W_,76) = IF DYNX(W_,91) THEN DYNX(W_,11)-DYNX(DP_,16) ELSE IF 
      DYNX(W_,93) THEN  -DYNX(W_,47) ELSE 9.869232667160129E-06*(DYNX(W_,53)-
      DYNX(W_,84))*(DYNX(DP_,16)-DYNX(W_,11));

    MixedModeStartBoolean
    UpdateVariableNamed(DYNX(W_,93),"tank.inFlow[2]",  NOT DYNX(W_,91) AND (
      Greater(DYNX(W_,76),"tank.s[2]", 0,"0", 6) OR DYNX(DP_,16) >= DYNX(W_,88)));
    MixedModeInit(1, DYNX(DYNhelp,411))
    ThetaMixedCross(0,6)
    MixedModeEndBoolean
    UpdateReal(DYNX(W_,53), 1)
    UpdateReal(DYNX(W_,76), 2)
  EndMixedSystemOfEquations

  BreakSectionEnd()
  BreakSectionStart(6);

   /* Linear system of equations to solve. */
  /* Tag: simplified homotopy initialization.linear[2] */
  /* Introducing 24 common subexpressions used in 57 expressions */
  /* Of the common subexpressions 24 are reals, 0 are integers, and 0
     are booleans. */
  /* Automatic tearing of linear system of 18 simultaneous equations
  gave a linear system of 6 equations for numerical solution.*/
  {
    const char*const varnames_[]={"heater.mediums[1].der(p)", "pipe.mediums[1].der(p)",
       "pipe.mediums[2].der(p)", "radiator.mediums[1].der(p)", "valve.der(dp)", 
      "tank.ports[1].der(p)"};
    const double nominal_[]={1, 1, 1, 1, 1, 1};
    DidLinearSystemOfEquations(J, b, y, 6, DYNX(DYNhelp,515), 120, 
      DYNX(did_->helpvari_vec,58), 16);
    /* Jacobian depending on continuous variables */
    SetNeedFactor(J);
    if (NeedFactor(J)) {
      MatrixZeros(J);
      DYNX(DYNhelp,635) = DYNX(W_,205)*DYNX(DP_,38);
      DYNX(DYNhelp,636) = divmacro(1.0,"1.0",DYNX(DP_,37),"valve.dp_nominal");
      DYNX(DYNhelp,637) = DYNX(W_,263)*DYNX(W_,245);
      DYNX(DYNhelp,638) = DYNX(W_,304)*DYNX(DYNhelp,637);
      DYNX(DYNhelp,639) = divmacro(1.0,"1.0",DYNX(W_,263),"heater.flowModel.nParallel");
      DYNX(DYNhelp,640) = 2.0*DYNX(W_,245);
      DYNX(DYNhelp,641) = divmacro(1.0,"1.0",DYNX(DYNhelp,640),"2.0*heater.crossAreas[1]");
      DYNX(DYNhelp,642) = divmacro(1.0,"1.0",DYNX(W_,303),"heater.flowModel.dp_nominal");
      DYNX(DYNhelp,643) =  -DYNX(DYNhelp,642)*DYNX(DYNhelp,641)*DYNX(DYNhelp,639)
        *(-2.0)*DYNX(DYNhelp,638);
      DYNX(DYNhelp,644) = DYNX(DYNhelp,636)*DYNX(DYNhelp,635);
      DYNX(DYNhelp,645) = DYNX(W_,373)*DYNX(W_,355);
      DYNX(DYNhelp,646) = DYNX(DYNhelp,645)*DYNX(W_,414);
      DYNX(DYNhelp,647) = divmacro(1.0,"1.0",DYNX(W_,373),"radiator.flowModel.nParallel");
      DYNX(DYNhelp,648) = 2.0*DYNX(W_,355);
      DYNX(DYNhelp,649) = divmacro(1.0,"1.0",DYNX(DYNhelp,648),"2.0*radiator.crossAreas[1]");
      DYNX(DYNhelp,650) = divmacro(1.0,"1.0",DYNX(W_,413),"radiator.flowModel.dp_nominal");
      DYNX(DYNhelp,651) =  -DYNX(DYNhelp,650)*DYNX(DYNhelp,649)*DYNX(DYNhelp,647)
        *2.0*DYNX(DYNhelp,646);
      DYNX(DYNhelp,652) = DYNX(DYNhelp,650)*DYNX(DYNhelp,649)*DYNX(DYNhelp,647)*
        (-2.0)*DYNX(DYNhelp,646);
      DYNX(DYNhelp,653) =  -DYNX(DYNhelp,652);
      DYNX(DYNhelp,654) = DYNX(W_,484)+DYNX(W_,485);
      DYNX(DYNhelp,655) = DYNX(W_,537)*DYNX(W_,506)*DYNX(DYNhelp,654);
      DYNX(DYNhelp,656) = divmacro(1.0,"1.0",DYNX(W_,506),"pipe.flowModel.nParallel");
      DYNX(DYNhelp,657) = divmacro(1.0,"1.0",DYNX(DYNhelp,654),"pipe.crossAreas[1]+pipe.crossAreas[2]");
      DYNX(DYNhelp,658) = divmacro(1.0,"1.0",DYNX(W_,536),"pipe.flowModel.dp_nominal");
      SetMatrixLeading(J, 1, 5, 6, DYNX(DYNhelp,636)*(IF DYNX(W_,90) THEN 0.0
         ELSE IF DYNX(W_,92) THEN 0.0 ELSE 1.0)*DYNX(DYNhelp,635));
      SetMatrixLeading(J, 1, 6, 6, IF DYNX(W_,90) THEN 1.0 ELSE IF DYNX(W_,92)
         THEN 1.0 ELSE 0.0);
      SetMatrixLeading(J, 2, 1, 6, DYNX(DYNhelp,643));
      SetMatrixLeading(J, 2, 5, 6, DYNX(DYNhelp,644));
      SetMatrixLeading(J, 3, 1, 6,  -DYNX(DYNhelp,642)*DYNX(DYNhelp,641)*
        DYNX(DYNhelp,639)*2.0*DYNX(DYNhelp,638));
      SetMatrixLeading(J, 3, 2, 6, DYNX(DYNhelp,643));
      SetMatrixLeading(J, 3, 5, 6, DYNX(DYNhelp,644));
      SetMatrixLeading(J, 4, 3, 6, DYNX(DYNhelp,651));
      SetMatrixLeading(J, 4, 4, 6, DYNX(DYNhelp,653));
      SetMatrixLeading(J, 4, 5, 6, DYNX(DYNhelp,644)-DYNX(DYNhelp,652));
      SetMatrixLeading(J, 5, 4, 6, DYNX(DYNhelp,651));
      SetMatrixLeading(J, 5, 5, 6, DYNX(DYNhelp,644));
      SetMatrixLeading(J, 5, 6, 6, DYNX(DYNhelp,653));
      SetMatrixLeading(J, 6, 2, 6,  -DYNX(DYNhelp,658)*DYNX(DYNhelp,657)*
        DYNX(DYNhelp,656)*DYNX(DYNhelp,655));
      SetMatrixLeading(J, 6, 3, 6,  -DYNX(DYNhelp,658)*DYNX(DYNhelp,657)*
        DYNX(DYNhelp,656)*(-1.0)*DYNX(DYNhelp,655));
      SetMatrixLeading(J, 6, 5, 6, DYNX(DYNhelp,644));
    }
    SetVector(b, 1,  -(IF DYNX(W_,90) THEN  -DYNX(W_,85) ELSE IF DYNX(W_,92)
       THEN  -DYNX(W_,85) ELSE 0.0));
    SetVector(y, 1, 0.0);
    SetVector(y, 2, 0.0);
    SetVector(y, 3, 0.0);
    SetVector(y, 4, 0.0);
    SetVector(y, 5, 0.0);
    SetVector(y, 6, 0.0);
    SolveLinearSystemOfEquations(J, b, y, 3);
    DYNX(W_,570) = GetVector(y, 1);
    DYNX(W_,594) = GetVector(y, 2);
    DYNX(W_,606) = GetVector(y, 3);
    DYNX(W_,582) = GetVector(y, 4);
    DYNX(W_,174) = GetVector(y, 5);
    DYNX(W_,50) = GetVector(y, 6);
    EndStaticLinearSystemOfEquations(J);
  }
  DYNX(W_,279) = DYNX(W_,263)*DYNX(W_,245)*DYNX(W_,570);
  DYNX(W_,295) = DYNX(DYNhelp,641)*DYNX(DYNhelp,639)*(-2)*DYNX(W_,279);
  DYNX(W_,280) = DYNX(W_,263)*DYNX(W_,245)*(DYNX(W_,594)-DYNX(W_,570));
  DYNX(W_,296) = DYNX(DYNhelp,641)*DYNX(DYNhelp,639)*(-2)*DYNX(W_,280);
  DYNX(W_,519) = 0.5*DYNX(W_,506)*DYNX(DYNhelp,654)*(DYNX(W_,606)-DYNX(W_,594));
  DYNX(W_,529) = DYNX(DYNhelp,657)*DYNX(DYNhelp,656)*(-2)*DYNX(W_,519);
  DYNX(W_,390) = DYNX(W_,373)*DYNX(W_,355)*(DYNX(W_,50)-DYNX(W_,582));
  DYNX(W_,406) = DYNX(DYNhelp,649)*DYNX(DYNhelp,647)*(-2)*DYNX(W_,390);
  DYNX(W_,165) = DYNX(W_,606)-DYNX(W_,174);
  DYNX(W_,389) = DYNX(W_,373)*DYNX(W_,355)*(DYNX(W_,582)-DYNX(W_,165));
  DYNX(W_,405) = DYNX(DYNhelp,649)*DYNX(DYNhelp,647)*(-2)*DYNX(W_,389);
  DYNX(W_,48) = DYNX(DYNhelp,636)*DYNX(DYNhelp,635)*DYNX(W_,174);
   /* End of Equation Block */ 

  BreakSectionEnd()
  BreakSectionStart(7);
   /* Linear system of equations to solve. */
  DYNX(W_,54) = 0.0;
  SolveScalarLinear(IF DYNX(W_,91) THEN 1.0 ELSE IF DYNX(W_,93) THEN 1.0 ELSE 
    0.0,"(if tank.regularFlow[2] then 1.0 else (if tank.inFlow[2] then 1.0 else 0.0))",
      -(IF DYNX(W_,91) THEN  -DYNX(W_,86) ELSE IF DYNX(W_,93) THEN  -DYNX(W_,86)
     ELSE  -DYNX(W_,48))," -(if tank.regularFlow[2] then  -der(tank.vessel_ps_static[2]) else (if tank.inFlow[2] then  -der(tank.vessel_ps_static[2]) else  -der(tank.ports[1].m_flow)))",
     DYNX(W_,54),"der(tank.ports[2].p)");
   /* End of Equation Block */ 

  BreakSectionEnd()
  BreakSectionStart(8);
   /* Linear system of equations to solve. */
  /* Introducing 1 common subexpressions used in 1 expressions */
  /* Of the common subexpressions 1 are reals, 0 are integers, and 0
     are booleans. */
  DYNX(DYNhelp,822) = divmacro(1.0,"1.0",DYNX(DP_,25),"pump.N_nominal");
  DYNX(W_,147) = DYNX(DP_,25);
  SolveScalarLinear( -DYNX(DYNhelp,822)*((PushModelContext(1,"pump.flowCharacteristic_Unique'\"pump\"'(0, {0, pump.V_flow_op, 1.5*pump.V_flow_op}, {2*pump.head_op, pump.head_op, 0})")
    pump_flowCharacteristicx_0Uniquez_0cchahfgnhacc(0, RealScalarArray ( 3, 0.0,
     DYNX(W_,160), 1.5*DYNX(W_,160)), RealScalarArray ( 3, 2*DYNX(W_,161), 
    DYNX(W_,161), 0.0)))+DYNX(W_,100)*DYNX(W_,145))," -(pump.flowCharacteristic_Unique'\"pump\"'(0, {0, pump.V_flow_op, 1.5*pump.V_flow_op}, {2*pump.head_op, pump.head_op, 0})+pump.delta_head_init*pump.V_flow_single)/pump.N_nominal",
      -DYNX(W_,141)," -pump.head", DYNX(W_,147),"pump.N");
   /* End of Equation Block */ 

  BreakSectionEnd()

BreakSectionFunctionStart(0);
BreakSectionFunctionCallNew(1);
BreakSectionFunctionCallNew(2);
BreakSectionFunctionCallNew(5);
BreakSectionFunctionCallNew(9);
BreakSectionFunctionCallNew(10);
BreakSectionFunctionEnd()
